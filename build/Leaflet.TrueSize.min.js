!function(a,b){typeof exports==='object'&&typeof module!=='undefined'?b(require('leaflet'),require('@turf/helpers')):typeof define==='function'&&define.amd?define(['leaflet','@turf/helpers'],b):(b(a.L,a.helpers))}(this,(function(d,f){'use strict';d=d&&d.hasOwnProperty('default')?d['default']:d;f=f&&f.hasOwnProperty('default')?f['default']:f;function h(a,b,c){if(a===null)return;var d,e,f,g,i,j,k,l=0,m=0,n,o=a.type,p=o==='FeatureCollection',q=o==='Feature',r=p?a.features.length:1;for(var s=0;s<r;s++){k=p?a.features[s].geometry:(q?a.geometry:a);n=k?k.type==='GeometryCollection':!1;i=n?k.geometries.length:1;for(var t=0;t<i;t++){var u=0,v=0;g=n?k.geometries[t]:k;if(g===null)continue;j=g.coordinates;var w=g.type;l=c&&(w==='Polygon'||w==='MultiPolygon')?1:0;switch(w){case null:break;case 'Point':if(b(j,m,s,u,v)===!1)return !1;m++;u++;break;case 'LineString':;case 'MultiPoint':for(d=0;d<j.length;d++){if(b(j[d],m,s,u,v)===!1)return !1;m++;w==='MultiPoint'&&u++};w==='LineString'&&u++;break;case 'Polygon':;case 'MultiLineString':for(d=0;d<j.length;d++){for(e=0;e<j[d].length-l;e++){if(b(j[d][e],m,s,u,v)===!1)return !1;m++}w==='MultiLineString'&&u++;w==='Polygon'&&v++};w==='Polygon'&&u++;break;case 'MultiPolygon':for(d=0;d<j.length;d++){w==='MultiPolygon'&&(v=0);for(e=0;e<j[d].length;e++){for(f=0;f<j[d][e].length-l;f++){if(b(j[d][e][f],m,s,u,v)===!1)return !1;m++}v++}u++};break;case 'GeometryCollection':for(d=0;d<g.geometries.length;d++)if(h(g.geometries[d],b,c)===!1)return !1;break;default:throw new Error('Unknown Geometry Type')}}}}function k(a){var b=[Infinity,Infinity,-Infinity,-Infinity];h(a,function(a){b[0]>a[0]&&(b[0]=a[0]);b[1]>a[1]&&(b[1]=a[1]);b[2]<a[0]&&(b[2]=a[0]);b[3]<a[1]&&(b[3]=a[1])});return b}function m(a,b,c){c=c||{};if(!v(c))throw new Error('options is invalid');var d=c.bbox,e=c.id;if(a===undefined)throw new Error('geometry is required');if(b&&b.constructor!==Object)throw new Error('properties must be an Object');d&&w(d);e&&z(e);var f={type:'Feature'};e&&(f.id=e);d&&(f.bbox=d);f.properties=b||{};f.geometry=a;return f}function r(a,b,c){if(!a)throw new Error('coordinates is required');if(!Array.isArray(a))throw new Error('coordinates must be an Array');if(a.length<2)throw new Error('coordinates must be at least 2 numbers long');if(!u(a[0])||!u(a[1]))throw new Error('coordinates must contain numbers');return m({type:'Point',coordinates:a},b,c)}function u(a){return!isNaN(a)&&a!==null&&!Array.isArray(a)}function v(a){return!!a&&a.constructor===Object}function w(a){if(!a)throw new Error('bbox is required');if(!Array.isArray(a))throw new Error('bbox must be an Array');if(a.length!==4&&a.length!==6)throw new Error('bbox must be an Array of 4 or 6 numbers');a.forEach(function(a){if(!u(a))throw new Error('bbox must only contain numbers')})}function z(a){if(!a)throw new Error('id is required');if(['string','number'].indexOf(typeof a)===-1)throw new Error('id must be a number or a string')}function E(a,b){b=b||{};if(!v(b))throw new Error('options is invalid');var c=b.properties;if(!a)throw new Error('geojson is required');var d=k(a),e=(d[0]+d[2])/2,f=(d[1]+d[3])/2;return r([e,f],c)}function F(a){if(a===null||a===undefined)throw new Error('radians is required');var b=a%(2*Math.PI);return b*180/Math.PI}function G(a){if(a===null||a===undefined)throw new Error('degrees is required');var b=a%360;return b*Math.PI/180}function H(a){return!!a&&a.constructor===Object}function I(a){if(!a)throw new Error('coord is required');if(a.type==='Feature'&&a.geometry!==null&&a.geometry.type==='Point')return a.geometry.coordinates;if(a.type==='Point')return a.coordinates;if(Array.isArray(a)&&a.length>=2&&a[0].length===undefined&&a[1].length===undefined)return a;throw new Error('coord must be GeoJSON Point or an Array of numbers')}function J(a,b,c){c=c||{};if(!H(c))throw new Error('options is invalid');var d=c.final;if(d===!0)return K(a,b);var e=I(a),f=I(b),g=G(e[0]),h=G(f[0]),i=G(e[1]),j=G(f[1]),k=Math.sin(h-g)*Math.cos(j),l=Math.cos(i)*Math.sin(j)-Math.sin(i)*Math.cos(j)*Math.cos(h-g);return F(Math.atan2(k,l))}function K(a,b){var c=J(b,a);c=(c+180)%360;return c}var L=6371008.8,M={meters:L,metres:L,millimeters:L*1000,millimetres:L*1000,centimeters:L*100,centimetres:L*100,kilometers:L/1000,kilometres:L/1000,miles:L/1609.344,nauticalmiles:L/1852,inches:L*39.370,yards:L/1.0936,feet:L*3.28084,radians:1,degrees:L/111325};function N(a,b){if(a===undefined||a===null)throw new Error('radians is required');if(b&&typeof b!=='string')throw new Error('units must be a string');var c=M[b||'kilometers'];if(!c)throw new Error(b+' units is invalid');return a*c}function O(a){if(a===null||a===undefined)throw new Error('degrees is required');var b=a%360;return b*Math.PI/180}function P(a){return!!a&&a.constructor===Object}function Q(a){if(!a)throw new Error('coord is required');if(a.type==='Feature'&&a.geometry!==null&&a.geometry.type==='Point')return a.geometry.coordinates;if(a.type==='Point')return a.coordinates;if(Array.isArray(a)&&a.length>=2&&a[0].length===undefined&&a[1].length===undefined)return a;throw new Error('coord must be GeoJSON Point or an Array of numbers')}function R(a,b,c){c=c||{};if(!P(c))throw new Error('options is invalid');var d=c.units,e=Q(a),f=Q(b),g=O((f[1]-e[1])),h=O((f[0]-e[0])),i=O(e[1]),j=O(f[1]),k=Math.pow(Math.sin(g/2),2)+Math.pow(Math.sin(h/2),2)*Math.cos(i)*Math.cos(j);return N(2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k)),d)}var S=6371008.8,T={meters:S,metres:S,millimeters:S*1000,millimetres:S*1000,centimeters:S*100,centimetres:S*100,kilometers:S/1000,kilometres:S/1000,miles:S/1609.344,nauticalmiles:S/1852,inches:S*39.370,yards:S/1.0936,feet:S*3.28084,radians:1,degrees:S/111325};function U(a,b,c){c=c||{};if(!_(c))throw new Error('options is invalid');var d=c.bbox,e=c.id;if(a===undefined)throw new Error('geometry is required');if(b&&b.constructor!==Object)throw new Error('properties must be an Object');d&&$(d);e&&aa(e);var f={type:'Feature'};e&&(f.id=e);d&&(f.bbox=d);f.properties=b||{};f.geometry=a;return f}function V(a,b,c){if(!a)throw new Error('coordinates is required');if(!Array.isArray(a))throw new Error('coordinates must be an Array');if(a.length<2)throw new Error('coordinates must be at least 2 numbers long');if(!Z(a[0])||!Z(a[1]))throw new Error('coordinates must contain numbers');return U({type:'Point',coordinates:a},b,c)}function W(a,b){if(a===undefined||a===null)throw new Error('distance is required');if(b&&typeof b!=='string')throw new Error('units must be a string');var c=T[b||'kilometers'];if(!c)throw new Error(b+' units is invalid');return a/c}function X(a){if(a===null||a===undefined)throw new Error('radians is required');var b=a%(2*Math.PI);return b*180/Math.PI}function Y(a){if(a===null||a===undefined)throw new Error('degrees is required');var b=a%360;return b*Math.PI/180}function Z(a){return!isNaN(a)&&a!==null&&!Array.isArray(a)}function _(a){return!!a&&a.constructor===Object}function $(a){if(!a)throw new Error('bbox is required');if(!Array.isArray(a))throw new Error('bbox must be an Array');if(a.length!==4&&a.length!==6)throw new Error('bbox must be an Array of 4 or 6 numbers');a.forEach(function(a){if(!Z(a))throw new Error('bbox must only contain numbers')})}function aa(a){if(!a)throw new Error('id is required');if(['string','number'].indexOf(typeof a)===-1)throw new Error('id must be a number or a string')}function ab(a){if(!a)throw new Error('coord is required');if(a.type==='Feature'&&a.geometry!==null&&a.geometry.type==='Point')return a.geometry.coordinates;if(a.type==='Point')return a.coordinates;if(Array.isArray(a)&&a.length>=2&&a[0].length===undefined&&a[1].length===undefined)return a;throw new Error('coord must be GeoJSON Point or an Array of numbers')}function ac(a,b,c,d){d=d||{};if(!_(d))throw new Error('options is invalid');var e=d.units,f=d.properties,g=ab(a),h=Y(g[0]),i=Y(g[1]),j=Y(c),k=W(b,e),l=Math.asin(Math.sin(i)*Math.cos(k)+Math.cos(i)*Math.sin(k)*Math.cos(j)),m=h+Math.atan2(Math.sin(j)*Math.sin(k)*Math.cos(i),Math.cos(k)-Math.sin(i)*Math.sin(l)),n=X(m),o=X(l);return V([n,o],f)}function ad(a,b,c){if(a===null)return;var d,e,f,g,h,i,j,k=0,l=0,m,n=a.type,o=n==='FeatureCollection',p=n==='Feature',q=o?a.features.length:1;for(var r=0;r<q;r++){j=o?a.features[r].geometry:(p?a.geometry:a);m=j?j.type==='GeometryCollection':!1;h=m?j.geometries.length:1;for(var s=0;s<h;s++){var t=0,u=0;g=m?j.geometries[s]:j;if(g===null)continue;i=g.coordinates;var v=g.type;k=c&&(v==='Polygon'||v==='MultiPolygon')?1:0;switch(v){case null:break;case 'Point':if(b(i,l,r,t,u)===!1)return !1;l++;t++;break;case 'LineString':;case 'MultiPoint':for(d=0;d<i.length;d++){if(b(i[d],l,r,t,u)===!1)return !1;l++;v==='MultiPoint'&&t++};v==='LineString'&&t++;break;case 'Polygon':;case 'MultiLineString':for(d=0;d<i.length;d++){for(e=0;e<i[d].length-k;e++){if(b(i[d][e],l,r,t,u)===!1)return !1;l++}v==='MultiLineString'&&t++;v==='Polygon'&&u++};v==='Polygon'&&t++;break;case 'MultiPolygon':for(d=0;d<i.length;d++){v==='MultiPolygon'&&(u=0);for(e=0;e<i[d].length;e++){for(f=0;f<i[d][e].length-k;f++){if(b(i[d][e][f],l,r,t,u)===!1)return !1;l++}u++}t++};break;case 'GeometryCollection':for(d=0;d<g.geometries.length;d++)if(ad(g.geometries[d],b,c)===!1)return !1;break;default:throw new Error('Unknown Geometry Type')}}}}function ae(a){var b=[];ad(a,function(a){b.push(a)});return b}('fill' in Array.prototype)||Object.defineProperty(Array.prototype,'fill',{configurable:!0,value:function b(a){if(this===undefined||this===null){throw new TypeError(this+' is not an object')}var c=Object(this),d=Math.max(Math.min(c.length,9007199254740991),0)||0,e=1 in arguments?parseInt(Number(arguments[1]),10)||0:0;e=e<0?Math.max(d+e,0):Math.min(e,d);var f=2 in arguments&&arguments[2]!==undefined?parseInt(Number(arguments[2]),10)||0:d;f=f<0?Math.max(d+arguments[2],0):Math.min(f,d);while(e<f)c[e]=a,++e;return c},writable:!0});Number.isFinite=Number.isFinite||function(a){return typeof a==='number'&&isFinite(a)};Number.isInteger=Number.isInteger||function(a){return typeof a==='number'&&isFinite(a)&&Math.floor(a)===a};Number.parseFloat=Number.parseFloat||parseFloat;Number.isNaN=Number.isNaN||function(a){return a!==a};Math.trunc=Math.trunc||function(a){return a<0?Math.ceil(a):Math.floor(a)};var af=function a(){};af.prototype.interfaces_=function a(){return[]};af.prototype.getClass=function a(){return af};af.prototype.equalsWithTolerance=function d(a,b,c){return Math.abs(a-b)<=c};var ag=function(a){function b(b){a.call(this,b);this.name='IllegalArgumentException';this.message=b;this.stack=(new a()).stack}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;return b}(Error),ah=function a(){},ai={MAX_VALUE:{configurable:!0}};ah.isNaN=function b(a){return Number.isNaN(a)};ah.doubleToLongBits=function b(a){return a};ah.longBitsToDouble=function b(a){return a};ah.isInfinite=function b(a){return!Number.isFinite(a)};ai.MAX_VALUE.get=function(){return Number.MAX_VALUE};Object.defineProperties(ah,ai);var aj=function a(){},ak=function a(){},al=function a(){};function am(){}var an=function a(){this.x=null;this.y=null;this.z=null;if(arguments.length===0)this.x=0.0,this.y=0.0,this.z=a.NULL_ORDINATE;else if(arguments.length===1){var b=arguments[0];this.x=b.x;this.y=b.y;this.z=b.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=a.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},ao={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};an.prototype.setOrdinate=function c(a,b){switch(a){case an.X:this.x=b;break;case an.Y:this.y=b;break;case an.Z:this.z=b;break;default:throw new ag('Invalid ordinate index: '+a)}};an.prototype.equals2D=function a(){if(arguments.length===1){var b=arguments[0];if(this.x!==b.x){return !1}if(this.y!==b.y){return !1}return !0}else if(arguments.length===2){var c=arguments[0],d=arguments[1];if(!af.equalsWithTolerance(this.x,c.x,d)){return !1}if(!af.equalsWithTolerance(this.y,c.y,d)){return !1}return !0}};an.prototype.getOrdinate=function b(a){switch(a){case an.X:return this.x;case an.Y:return this.y;case an.Z:return this.z;default:};throw new ag('Invalid ordinate index: '+a)};an.prototype.equals3D=function b(a){return this.x===a.x&&this.y===a.y&&((this.z===a.z||ah.isNaN(this.z))&&ah.isNaN(a.z))};an.prototype.equals=function b(a){if(!(a instanceof an)){return !1}return this.equals2D(a)};an.prototype.equalInZ=function c(a,b){return af.equalsWithTolerance(this.z,a.z,b)};an.prototype.compareTo=function b(a){var c=a;if(this.x<c.x){return-1}if(this.x>c.x){return 1}if(this.y<c.y){return-1}if(this.y>c.y){return 1}return 0};an.prototype.clone=function a(){};an.prototype.copy=function a(){return new an(this)};an.prototype.toString=function a(){return'('+this.x+', '+this.y+', '+this.z+')'};an.prototype.distance3D=function b(a){var c=this.x-a.x,d=this.y-a.y,e=this.z-a.z;return Math.sqrt(c*c+d*d+e*e)};an.prototype.distance=function b(a){var c=this.x-a.x,d=this.y-a.y;return Math.sqrt(c*c+d*d)};an.prototype.hashCode=function a(){var b=17;b=37*b+an.hashCode(this.x);b=37*b+an.hashCode(this.y);return b};an.prototype.setCoordinate=function b(a){this.x=a.x;this.y=a.y;this.z=a.z};an.prototype.interfaces_=function a(){return[aj,ak,am]};an.prototype.getClass=function a(){return an};an.hashCode=function a(){if(arguments.length===1){var b=arguments[0],c=ah.doubleToLongBits(b);return Math.trunc((c^c)>>>32)}};ao.DimensionalComparator.get=function(){return ap};ao.serialVersionUID.get=function(){return 6683108902428366910};ao.NULL_ORDINATE.get=function(){return ah.NaN};ao.X.get=function(){return 0};ao.Y.get=function(){return 1};ao.Z.get=function(){return 2};Object.defineProperties(an,ao);var ap=function b(a){this._dimensionsToTest=2;if(!arguments.length===0)if(arguments.length===1){var c=arguments[0];if(c!==2&&c!==3){throw new ag('only 2 or 3 dimensions may be specified')}this._dimensionsToTest=c}};ap.prototype.compare=function c(a,b){var d=a,e=b,f=ap.compare(d.x,e.x);if(f!==0){return f}var g=ap.compare(d.y,e.y);if(g!==0){return g}if(this._dimensionsToTest<=2){return 0}var h=ap.compare(d.z,e.z);return h};ap.prototype.interfaces_=function a(){return[al]};ap.prototype.getClass=function a(){return ap};ap.compare=function c(a,b){if(a<b){return-1}if(a>b){return 1}if(ah.isNaN(a)){if(ah.isNaN(b)){return 0}return-1}if(ah.isNaN(b)){return 1}return 0};var aq=function a(){};aq.prototype.create=function a(){};aq.prototype.interfaces_=function a(){return[]};aq.prototype.getClass=function a(){return aq};var ar=function a(){},as={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};ar.prototype.interfaces_=function a(){return[]};ar.prototype.getClass=function a(){return ar};ar.toLocationSymbol=function b(a){switch(a){case ar.EXTERIOR:return'e';case ar.BOUNDARY:return'b';case ar.INTERIOR:return'i';case ar.NONE:return'-';default:};throw new ag('Unknown location value: '+a)};as.INTERIOR.get=function(){return 0};as.BOUNDARY.get=function(){return 1};as.EXTERIOR.get=function(){return 2};as.NONE.get=function(){return-1};Object.defineProperties(ar,as);var at=function(a,b){return a.interfaces_&&a.interfaces_().indexOf(b)>-1},au=function a(){},av={LOG_10:{configurable:!0}};au.prototype.interfaces_=function a(){return[]};au.prototype.getClass=function a(){return au};au.log10=function b(a){var c=Math.log(a);if(ah.isInfinite(c)){return c}if(ah.isNaN(c)){return c}return c/au.LOG_10};au.min=function(a,b,c,d){var e=a;b<e&&(e=b);c<e&&(e=c);d<e&&(e=d);return e};au.clamp=function a(){if(typeof arguments[2]==='number'&&(typeof arguments[0]==='number'&&typeof arguments[1]==='number')){var b=arguments[0],c=arguments[1],d=arguments[2];if(b<c){return c}if(b>d){return d}return b}else if(Number.isInteger(arguments[2])&&(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1]))){var e=arguments[0],f=arguments[1],g=arguments[2];if(e<f){return f}if(e>g){return g}return e}};au.wrap=function c(a,b){if(a<0){return b- -a%b}return a%b};au.max=function(){if(arguments.length===3){var b=arguments[0],c=arguments[1],d=arguments[2],a=b;c>a&&(a=c);d>a&&(a=d);return a}else if(arguments.length===4){var e=arguments[0],f=arguments[1],g=arguments[2],h=arguments[3],i=e;f>i&&(i=f);g>i&&(i=g);h>i&&(i=h);return i}};au.average=function c(a,b){return(a+b)/2.0};av.LOG_10.get=function(){return Math.log(10)};Object.defineProperties(au,av);var aw=function b(a){this.str=a};aw.prototype.append=function b(a){this.str+=a};aw.prototype.setCharAt=function c(a,b){this.str=this.str.substr(0,a)+b+this.str.substr(a+1)};aw.prototype.toString=function b(a){return this.str};var ax=function b(a){this.value=a};ax.prototype.intValue=function a(){return this.value};ax.prototype.compareTo=function b(a){if(this.value<a){return-1}if(this.value>a){return 1}return 0};ax.isNaN=function b(a){return Number.isNaN(a)};var ay=function a(){};ay.isWhitespace=function b(a){return a<=32&&a>=0||a===127};ay.toUpperCase=function b(a){return a.toUpperCase()};var az=function a(){this._hi=0.0;this._lo=0.0;if(arguments.length===0)this.init(0.0);else if(arguments.length===1){if(typeof arguments[0]==='number'){var b=arguments[0];this.init(b)}else if(arguments[0] instanceof a){var c=arguments[0];this.init(c)}else if(typeof arguments[0]==='string'){var d=arguments[0];a.call(this,a.parse(d))}}else if(arguments.length===2){var e=arguments[0],f=arguments[1];this.init(e,f)}},aA={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};az.prototype.le=function b(a){return(this._hi<a._hi||this._hi===a._hi)&&this._lo<=a._lo};az.prototype.extractSignificantDigits=function c(a,b){var d=this.abs(),e=az.magnitude(d._hi),f=az.TEN.pow(e);d=d.divide(f);d.gt(az.TEN)?(d=d.divide(az.TEN),e+=1):d.lt(az.ONE)&&(d=d.multiply(az.TEN),e-=1);var g=e+1,h=new aw(),i=az.MAX_PRINT_DIGITS-1;for(var j=0;j<=i;j++){a&&j===g&&h.append('.');var k=Math.trunc(d._hi);if(k<0){break}var l=!1,m=0;k>9?(l=!0,m='9'):(m='0'+k);h.append(m);d=d.subtract(az.valueOf(k)).multiply(az.TEN);l&&d.selfAdd(az.TEN);var n=!0,o=az.magnitude(d._hi);o<0&&Math.abs(o)>=i-j&&(n=!1);if(!n){break}}b[0]=e;return h.toString()};az.prototype.sqr=function a(){return this.multiply(this)};az.prototype.doubleValue=function a(){return this._hi+this._lo};az.prototype.subtract=function a(){if(arguments[0] instanceof az){var b=arguments[0];return this.add(b.negate())}else if(typeof arguments[0]==='number'){var c=arguments[0];return this.add(-c)}};az.prototype.equals=function a(){if(arguments.length===1){var b=arguments[0];return this._hi===b._hi&&this._lo===b._lo}};az.prototype.isZero=function a(){return this._hi===0.0&&this._lo===0.0};az.prototype.selfSubtract=function a(){if(arguments[0] instanceof az){var b=arguments[0];if(this.isNaN()){return this}return this.selfAdd(-b._hi,-b._lo)}else if(typeof arguments[0]==='number'){var c=arguments[0];if(this.isNaN()){return this}return this.selfAdd(-c,0.0)}};az.prototype.getSpecialNumberString=function a(){if(this.isZero()){return'0.0'}if(this.isNaN()){return'NaN '}return null};az.prototype.min=function b(a){if(this.le(a)){return this}else{return a}};az.prototype.selfDivide=function a(){if(arguments.length===1){if(arguments[0] instanceof az){var b=arguments[0];return this.selfDivide(b._hi,b._lo)}else if(typeof arguments[0]==='number'){var c=arguments[0];return this.selfDivide(c,0.0)}}else if(arguments.length===2){var d=arguments[0],e=arguments[1],f=null,g=null,h=null,i=null,j=null,k=null,l=null,m=null;j=this._hi/d;k=az.SPLIT*j;f=k-j;m=az.SPLIT*d;f=k-f;g=j-f;h=m-d;l=j*d;h=m-h;i=d-h;m=f*h-l+f*i+g*h+g*i;k=(this._hi-l-m+this._lo-j*e)/d;m=j+k;this._hi=m;this._lo=j-m+k;return this}};az.prototype.dump=function a(){return'DD<'+this._hi+', '+this._lo+'>'};az.prototype.divide=function a(){if(arguments[0] instanceof az){var b=arguments[0],c=null,d=null,e=null,f=null,g=null,h=null,i=null,j=null;g=this._hi/b._hi;h=az.SPLIT*g;c=h-g;j=az.SPLIT*b._hi;c=h-c;d=g-c;e=j-b._hi;i=g*b._hi;e=j-e;f=b._hi-e;j=c*e-i+c*f+d*e+d*f;h=(this._hi-i-j+this._lo-g*b._lo)/b._hi;j=g+h;var k=j,l=g-j+h;return new az(k,l)}else if(typeof arguments[0]==='number'){var m=arguments[0];if(ah.isNaN(m)){return az.createNaN()}return az.copy(this).selfDivide(m,0.0)}};az.prototype.ge=function b(a){return(this._hi>a._hi||this._hi===a._hi)&&this._lo>=a._lo};az.prototype.pow=function b(a){if(a===0.0){return az.valueOf(1.0)}var c=new az(this),d=az.valueOf(1.0),e=Math.abs(a);if(e>1){while(e>0)e%2===1&&d.selfMultiply(c),e/=2,e>0&&(c=c.sqr())}else d=c;if(a<0){return d.reciprocal()}return d};az.prototype.ceil=function a(){if(this.isNaN()){return az.NaN}var b=Math.ceil(this._hi),c=0.0;b===this._hi&&(c=Math.ceil(this._lo));return new az(b,c)};az.prototype.compareTo=function b(a){var c=a;if(this._hi<c._hi){return-1}if(this._hi>c._hi){return 1}if(this._lo<c._lo){return-1}if(this._lo>c._lo){return 1}return 0};az.prototype.rint=function a(){if(this.isNaN()){return this}var b=this.add(0.5);return b.floor()};az.prototype.setValue=function a(){if(arguments[0] instanceof az){var b=arguments[0];this.init(b);return this}else if(typeof arguments[0]==='number'){var c=arguments[0];this.init(c);return this}};az.prototype.max=function b(a){if(this.ge(a)){return this}else{return a}};az.prototype.sqrt=function a(){if(this.isZero()){return az.valueOf(0.0)}if(this.isNegative()){return az.NaN}var b=1.0/Math.sqrt(this._hi),c=this._hi*b,d=az.valueOf(c),e=this.subtract(d.sqr()),f=e._hi*(b*0.5);return d.add(f)};az.prototype.selfAdd=function a(){if(arguments.length===1){if(arguments[0] instanceof az){var b=arguments[0];return this.selfAdd(b._hi,b._lo)}else if(typeof arguments[0]==='number'){var c=arguments[0],d=null,e=null,f=null,g=null,h=null,i=null;f=this._hi+c;h=f-this._hi;g=f-h;g=c-h+(this._hi-g);i=g+this._lo;d=f+i;e=i+(f-d);this._hi=d+e;this._lo=e+(d-this._hi);return this}}else if(arguments.length===2){var j=arguments[0],k=arguments[1],l=null,m=null,n=null,o=null,p=null,q=null,r=null,s=null;p=this._hi+j;n=this._lo+k;r=p-this._hi;s=n-this._lo;q=p-r;o=n-s;q=j-r+(this._hi-q);o=k-s+(this._lo-o);r=q+n;l=p+r;m=r+(p-l);r=o+m;var t=l+r,u=r+(l-t);this._hi=t;this._lo=u;return this}};az.prototype.selfMultiply=function a(){if(arguments.length===1){if(arguments[0] instanceof az){var b=arguments[0];return this.selfMultiply(b._hi,b._lo)}else if(typeof arguments[0]==='number'){var c=arguments[0];return this.selfMultiply(c,0.0)}}else if(arguments.length===2){var d=arguments[0],e=arguments[1],f=null,g=null,h=null,i=null,j=null,k=null;j=az.SPLIT*this._hi;f=j-this._hi;k=az.SPLIT*d;f=j-f;g=this._hi-f;h=k-d;j=this._hi*d;h=k-h;i=d-h;k=f*h-j+f*i+g*h+g*i+(this._hi*e+this._lo*d);var l=j+k;f=j-l;var m=k+f;this._hi=l;this._lo=m;return this}};az.prototype.selfSqr=function a(){return this.selfMultiply(this)};az.prototype.floor=function a(){if(this.isNaN()){return az.NaN}var b=Math.floor(this._hi),c=0.0;b===this._hi&&(c=Math.floor(this._lo));return new az(b,c)};az.prototype.negate=function a(){if(this.isNaN()){return this}return new az(-this._hi,-this._lo)};az.prototype.clone=function a(){};az.prototype.multiply=function a(){if(arguments[0] instanceof az){var b=arguments[0];if(b.isNaN()){return az.createNaN()}return az.copy(this).selfMultiply(b)}else if(typeof arguments[0]==='number'){var c=arguments[0];if(ah.isNaN(c)){return az.createNaN()}return az.copy(this).selfMultiply(c,0.0)}};az.prototype.isNaN=function a(){return ah.isNaN(this._hi)};az.prototype.intValue=function a(){return Math.trunc(this._hi)};az.prototype.toString=function a(){var b=az.magnitude(this._hi);if(b>=-3&&b<=20){return this.toStandardNotation()}return this.toSciNotation()};az.prototype.toStandardNotation=function a(){var b=this.getSpecialNumberString();if(b!==null){return b}var c=new Array(1).fill(null),d=this.extractSignificantDigits(!0,c),e=c[0]+1,f=d;if(d.charAt(0)==='.')f='0'+d;else if(e<0)f='0.'+az.stringOfChar('0',-e)+d;else if(d.indexOf('.')===-1){var g=e-d.length,h=az.stringOfChar('0',g);f=d+h+'.0'};if(this.isNegative()){return'-'+f}return f};az.prototype.reciprocal=function a(){var b=null,c=null,d=null,e=null,f=null,g=null,h=null,i=null;f=1.0/this._hi;g=az.SPLIT*f;b=g-f;i=az.SPLIT*this._hi;b=g-b;c=f-b;d=i-this._hi;h=f*this._hi;d=i-d;e=this._hi-d;i=b*d-h+b*e+c*d+c*e;g=(1.0-h-i-f*this._lo)/this._hi;var j=f+g,k=f-j+g;return new az(j,k)};az.prototype.toSciNotation=function a(){if(this.isZero()){return az.SCI_NOT_ZERO}var b=this.getSpecialNumberString();if(b!==null){return b}var c=new Array(1).fill(null),d=this.extractSignificantDigits(!1,c),e=az.SCI_NOT_EXPONENT_CHAR+c[0];if(d.charAt(0)==='0'){throw new Error('Found leading zero: '+d)}var f='';d.length>1&&(f=d.substring(1));var g=d.charAt(0)+'.'+f;if(this.isNegative()){return'-'+g+e}return g+e};az.prototype.abs=function a(){if(this.isNaN()){return az.NaN}if(this.isNegative()){return this.negate()}return new az(this)};az.prototype.isPositive=function a(){return(this._hi>0.0||this._hi===0.0)&&this._lo>0.0};az.prototype.lt=function b(a){return(this._hi<a._hi||this._hi===a._hi)&&this._lo<a._lo};az.prototype.add=function a(){if(arguments[0] instanceof az){var b=arguments[0];return az.copy(this).selfAdd(b)}else if(typeof arguments[0]==='number'){var c=arguments[0];return az.copy(this).selfAdd(c)}};az.prototype.init=function a(){if(arguments.length===1){if(typeof arguments[0]==='number'){var b=arguments[0];this._hi=b;this._lo=0.0}else if(arguments[0] instanceof az){var c=arguments[0];this._hi=c._hi;this._lo=c._lo}}else if(arguments.length===2){var d=arguments[0],e=arguments[1];this._hi=d;this._lo=e}};az.prototype.gt=function b(a){return(this._hi>a._hi||this._hi===a._hi)&&this._lo>a._lo};az.prototype.isNegative=function a(){return(this._hi<0.0||this._hi===0.0)&&this._lo<0.0};az.prototype.trunc=function a(){if(this.isNaN()){return az.NaN}if(this.isPositive()){return this.floor()}else{return this.ceil()}};az.prototype.signum=function a(){if(this._hi>0){return 1}if(this._hi<0){return-1}if(this._lo>0){return 1}if(this._lo<0){return-1}return 0};az.prototype.interfaces_=function a(){return[am,aj,ak]};az.prototype.getClass=function a(){return az};az.sqr=function b(a){return az.valueOf(a).selfMultiply(a)};az.valueOf=function a(){if(typeof arguments[0]==='string'){var b=arguments[0];return az.parse(b)}else if(typeof arguments[0]==='number'){var c=arguments[0];return new az(c)}};az.sqrt=function b(a){return az.valueOf(a).sqrt()};az.parse=function b(a){var c=0,d=a.length;while(ay.isWhitespace(a.charAt(c)))c++;var e=!1;if(c<d){var f=a.charAt(c);(f==='-'||f==='+')&&(c++,f==='-'&&(e=!0))}var g=new az(),h=0,i=0,j=0;while(!0){if(c>=d){break}var k=a.charAt(c);c++;if(ay.isDigit(k)){var l=k-'0';g.selfMultiply(az.TEN);g.selfAdd(l);h++;continue}if(k==='.'){i=h;continue}if(k==='e'||k==='E'){var m=a.substring(c);try{j=ax.parseInt(m)}catch(b){if(b instanceof Error){throw new Error('Invalid exponent '+m+' in string '+a)}else{throw b}}finally{};break}throw new Error("Unexpected character '"+k+"' at position "+c+' in string '+a)}var n=g,o=h-i-j;if(o===0)n=g;else if(o>0){var p=az.TEN.pow(o);n=g.divide(p)}else if(o<0){var q=az.TEN.pow(-o);n=g.multiply(q)};if(e){return n.negate()}return n};az.createNaN=function a(){return new az(ah.NaN,ah.NaN)};az.copy=function b(a){return new az(a)};az.magnitude=function b(a){var c=Math.abs(a),d=Math.log(c)/Math.log(10),e=Math.trunc(Math.floor(d)),f=Math.pow(10,e);f*10<=c&&(e+=1);return e};az.stringOfChar=function c(a,b){var d=new aw();for(var e=0;e<b;e++)d.append(a);return d.toString()};aA.PI.get=function(){return new az(3.141592653589793116e+00,1.224646799147353207e-16)};aA.TWO_PI.get=function(){return new az(6.283185307179586232e+00,2.449293598294706414e-16)};aA.PI_2.get=function(){return new az(1.570796326794896558e+00,6.123233995736766036e-17)};aA.E.get=function(){return new az(2.718281828459045091e+00,1.445646891729250158e-16)};aA.NaN.get=function(){return new az(ah.NaN,ah.NaN)};aA.EPS.get=function(){return 1.23259516440783e-32};aA.SPLIT.get=function(){return 134217729.0};aA.MAX_PRINT_DIGITS.get=function(){return 32};aA.TEN.get=function(){return az.valueOf(10.0)};aA.ONE.get=function(){return az.valueOf(1.0)};aA.SCI_NOT_EXPONENT_CHAR.get=function(){return'E'};aA.SCI_NOT_ZERO.get=function(){return'0.0E0'};Object.defineProperties(az,aA);var aB=function a(){},aC={DP_SAFE_EPSILON:{configurable:!0}};aB.prototype.interfaces_=function a(){return[]};aB.prototype.getClass=function a(){return aB};aB.orientationIndex=function d(a,b,c){var e=aB.orientationIndexFilter(a,b,c);if(e<=1){return e}var f=az.valueOf(b.x).selfAdd(-a.x),g=az.valueOf(b.y).selfAdd(-a.y),h=az.valueOf(c.x).selfAdd(-b.x),i=az.valueOf(c.y).selfAdd(-b.y);return f.selfMultiply(i).selfSubtract(g.selfMultiply(h)).signum()};aB.signOfDet2x2=function e(a,b,c,d){var f=a.multiply(d).selfSubtract(b.multiply(c));return f.signum()};aB.intersection=function e(a,b,c,d){var f=az.valueOf(d.y).selfSubtract(c.y).selfMultiply(az.valueOf(b.x).selfSubtract(a.x)),g=az.valueOf(d.x).selfSubtract(c.x).selfMultiply(az.valueOf(b.y).selfSubtract(a.y)),h=f.subtract(g),i=az.valueOf(d.x).selfSubtract(c.x).selfMultiply(az.valueOf(a.y).selfSubtract(c.y)),j=az.valueOf(d.y).selfSubtract(c.y).selfMultiply(az.valueOf(a.x).selfSubtract(c.x)),k=i.subtract(j),l=k.selfDivide(h).doubleValue(),m=az.valueOf(a.x).selfAdd(az.valueOf(b.x).selfSubtract(a.x).selfMultiply(l)).doubleValue(),n=az.valueOf(b.x).selfSubtract(a.x).selfMultiply(az.valueOf(a.y).selfSubtract(c.y)),o=az.valueOf(b.y).selfSubtract(a.y).selfMultiply(az.valueOf(a.x).selfSubtract(c.x)),p=n.subtract(o),q=p.selfDivide(h).doubleValue(),r=az.valueOf(c.y).selfAdd(az.valueOf(d.y).selfSubtract(c.y).selfMultiply(q)).doubleValue();return new an(m,r)};aB.orientationIndexFilter=function d(a,b,c){var e=null,f=(a.x-c.x)*(b.y-c.y),g=(a.y-c.y)*(b.x-c.x),h=f-g;if(f>0.0){if(g<=0.0){return aB.signum(h)}else e=f+g}else if(f<0.0){if(g>=0.0){return aB.signum(h)}else e=-f-g}else{return aB.signum(h)};var i=aB.DP_SAFE_EPSILON*e;if(h>=i||-h>=i){return aB.signum(h)}return 2};aB.signum=function b(a){if(a>0){return 1}if(a<0){return-1}return 0};aC.DP_SAFE_EPSILON.get=function(){return 1e-15};Object.defineProperties(aB,aC);var aD=function a(){},aE={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};aE.X.get=function(){return 0};aE.Y.get=function(){return 1};aE.Z.get=function(){return 2};aE.M.get=function(){return 3};aD.prototype.setOrdinate=function d(a,b,c){};aD.prototype.size=function a(){};aD.prototype.getOrdinate=function c(a,b){};aD.prototype.getCoordinate=function a(){};aD.prototype.getCoordinateCopy=function b(a){};aD.prototype.getDimension=function a(){};aD.prototype.getX=function b(a){};aD.prototype.clone=function a(){};aD.prototype.expandEnvelope=function b(a){};aD.prototype.copy=function a(){};aD.prototype.getY=function b(a){};aD.prototype.toCoordinateArray=function a(){};aD.prototype.interfaces_=function a(){return[ak]};aD.prototype.getClass=function a(){return aD};Object.defineProperties(aD,aE);var aF=function a(){},aG=function(a){function b(){a.call(this,'Projective point not representable on the Cartesian plane.')}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};return b}(aF),aH=function a(){};aH.arraycopy=function f(a,b,c,d,e){var g=0;for(var h=b;h<b+e;h++)c[d+g]=a[h],g++};aH.getProperty=function b(a){return{'line.separator':'\n'}[a]};var aI=function a(){this.x=null;this.y=null;this.w=null;if(arguments.length===0)this.x=0.0,this.y=0.0,this.w=1.0;else if(arguments.length===1){var b=arguments[0];this.x=b.x;this.y=b.y;this.w=1.0}else if(arguments.length===2){if(typeof arguments[0]==='number'&&typeof arguments[1]==='number'){var c=arguments[0],d=arguments[1];this.x=c;this.y=d;this.w=1.0}else if(arguments[0] instanceof a&&arguments[1] instanceof a){var e=arguments[0],f=arguments[1];this.x=e.y*f.w-f.y*e.w;this.y=f.x*e.w-e.x*f.w;this.w=e.x*f.y-f.x*e.y}else if(arguments[0] instanceof an&&arguments[1] instanceof an){var g=arguments[0],h=arguments[1];this.x=g.y-h.y;this.y=h.x-g.x;this.w=g.x*h.y-h.x*g.y}}else if(arguments.length===3){var i=arguments[0],j=arguments[1],k=arguments[2];this.x=i;this.y=j;this.w=k}else if(arguments.length===4){var l=arguments[0],m=arguments[1],n=arguments[2],o=arguments[3],p=l.y-m.y,q=m.x-l.x,r=l.x*m.y-m.x*l.y,s=n.y-o.y,t=o.x-n.x,u=n.x*o.y-o.x*n.y;this.x=q*u-t*r;this.y=s*r-p*u;this.w=p*t-s*q}};aI.prototype.getY=function a(){var b=this.y/this.w;if(ah.isNaN(b)||ah.isInfinite(b)){throw new aG()}return b};aI.prototype.getX=function a(){var b=this.x/this.w;if(ah.isNaN(b)||ah.isInfinite(b)){throw new aG()}return b};aI.prototype.getCoordinate=function a(){var b=new an();b.x=this.getX();b.y=this.getY();return b};aI.prototype.interfaces_=function a(){return[]};aI.prototype.getClass=function a(){return aI};aI.intersection=function e(a,b,c,d){var f=a.y-b.y,g=b.x-a.x,h=a.x*b.y-b.x*a.y,i=c.y-d.y,j=d.x-c.x,k=c.x*d.y-d.x*c.y,l=g*k-j*h,m=i*h-f*k,n=f*j-i*g,o=l/n,p=m/n;if(ah.isNaN(o)||(ah.isInfinite(o)||ah.isNaN(p))||ah.isInfinite(p)){throw new aG()}return new an(o,p)};var aJ=function a(){this._minx=null;this._maxx=null;this._miny=null;this._maxy=null;if(arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0] instanceof an){var b=arguments[0];this.init(b.x,b.x,b.y,b.y)}else if(arguments[0] instanceof a){var c=arguments[0];this.init(c)}}else if(arguments.length===2){var d=arguments[0],e=arguments[1];this.init(d.x,e.x,d.y,e.y)}else if(arguments.length===4){var f=arguments[0],g=arguments[1],h=arguments[2],i=arguments[3];this.init(f,g,h,i)}},aK={serialVersionUID:{configurable:!0}};aJ.prototype.getArea=function a(){return this.getWidth()*this.getHeight()};aJ.prototype.equals=function b(a){if(!(a instanceof aJ)){return !1}var c=a;if(this.isNull()){return c.isNull()}return this._maxx===c.getMaxX()&&this._maxy===c.getMaxY()&&this._minx===c.getMinX()&&this._miny===c.getMinY()};aJ.prototype.intersection=function b(a){if(this.isNull()||a.isNull()||!this.intersects(a)){return new aJ()}var c=this._minx>a._minx?this._minx:a._minx,d=this._miny>a._miny?this._miny:a._miny,e=this._maxx<a._maxx?this._maxx:a._maxx,f=this._maxy<a._maxy?this._maxy:a._maxy;return new aJ(c,e,d,f)};aJ.prototype.isNull=function a(){return this._maxx<this._minx};aJ.prototype.getMaxX=function a(){return this._maxx};aJ.prototype.covers=function a(){if(arguments.length===1){if(arguments[0] instanceof an){var b=arguments[0];return this.covers(b.x,b.y)}else if(arguments[0] instanceof aJ){var c=arguments[0];if(this.isNull()||c.isNull()){return !1}return c.getMinX()>=this._minx&&c.getMaxX()<=this._maxx&&c.getMinY()>=this._miny&&c.getMaxY()<=this._maxy}}else if(arguments.length===2){var d=arguments[0],e=arguments[1];if(this.isNull()){return !1}return d>=this._minx&&d<=this._maxx&&e>=this._miny&&e<=this._maxy}};aJ.prototype.intersects=function a(){if(arguments.length===1){if(arguments[0] instanceof aJ){var b=arguments[0];if(this.isNull()||b.isNull()){return !1}return!(b._minx>this._maxx||b._maxx<this._minx||b._miny>this._maxy||b._maxy<this._miny)}else if(arguments[0] instanceof an){var c=arguments[0];return this.intersects(c.x,c.y)}}else if(arguments.length===2){var d=arguments[0],e=arguments[1];if(this.isNull()){return !1}return!(d>this._maxx||d<this._minx||e>this._maxy||e<this._miny)}};aJ.prototype.getMinY=function a(){return this._miny};aJ.prototype.getMinX=function a(){return this._minx};aJ.prototype.expandToInclude=function a(){if(arguments.length===1){if(arguments[0] instanceof an){var b=arguments[0];this.expandToInclude(b.x,b.y)}else if(arguments[0] instanceof aJ){var c=arguments[0];if(c.isNull()){return null}this.isNull()?(this._minx=c.getMinX(),this._maxx=c.getMaxX(),this._miny=c.getMinY(),this._maxy=c.getMaxY()):(c._minx<this._minx&&(this._minx=c._minx),c._maxx>this._maxx&&(this._maxx=c._maxx),c._miny<this._miny&&(this._miny=c._miny),c._maxy>this._maxy&&(this._maxy=c._maxy))}}else if(arguments.length===2){var d=arguments[0],e=arguments[1];this.isNull()?(this._minx=d,this._maxx=d,this._miny=e,this._maxy=e):(d<this._minx&&(this._minx=d),d>this._maxx&&(this._maxx=d),e<this._miny&&(this._miny=e),e>this._maxy&&(this._maxy=e))}};aJ.prototype.minExtent=function a(){if(this.isNull()){return 0.0}var b=this.getWidth(),c=this.getHeight();if(b<c){return b}return c};aJ.prototype.getWidth=function a(){if(this.isNull()){return 0}return this._maxx-this._minx};aJ.prototype.compareTo=function b(a){var c=a;if(this.isNull()){if(c.isNull()){return 0}return-1}else{if(c.isNull()){return 1}}if(this._minx<c._minx){return-1}if(this._minx>c._minx){return 1}if(this._miny<c._miny){return-1}if(this._miny>c._miny){return 1}if(this._maxx<c._maxx){return-1}if(this._maxx>c._maxx){return 1}if(this._maxy<c._maxy){return-1}if(this._maxy>c._maxy){return 1}return 0};aJ.prototype.translate=function c(a,b){if(this.isNull()){return null}this.init(this.getMinX()+a,this.getMaxX()+a,this.getMinY()+b,this.getMaxY()+b)};aJ.prototype.toString=function a(){return'Env['+this._minx+' : '+this._maxx+', '+this._miny+' : '+this._maxy+']'};aJ.prototype.setToNull=function a(){this._minx=0;this._maxx=-1;this._miny=0;this._maxy=-1};aJ.prototype.getHeight=function a(){if(this.isNull()){return 0}return this._maxy-this._miny};aJ.prototype.maxExtent=function a(){if(this.isNull()){return 0.0}var b=this.getWidth(),c=this.getHeight();if(b>c){return b}return c};aJ.prototype.expandBy=function a(){if(arguments.length===1){var b=arguments[0];this.expandBy(b,b)}else if(arguments.length===2){var c=arguments[0],d=arguments[1];if(this.isNull()){return null}this._minx-=c;this._maxx+=c;this._miny-=d;this._maxy+=d;(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}};aJ.prototype.contains=function a(){if(arguments.length===1){if(arguments[0] instanceof aJ){var b=arguments[0];return this.covers(b)}else if(arguments[0] instanceof an){var c=arguments[0];return this.covers(c)}}else if(arguments.length===2){var d=arguments[0],e=arguments[1];return this.covers(d,e)}};aJ.prototype.centre=function a(){if(this.isNull()){return null}return new an((this.getMinX()+this.getMaxX())/2.0,(this.getMinY()+this.getMaxY())/2.0)};aJ.prototype.init=function a(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0] instanceof an){var b=arguments[0];this.init(b.x,b.x,b.y,b.y)}else if(arguments[0] instanceof aJ){var c=arguments[0];this._minx=c._minx;this._maxx=c._maxx;this._miny=c._miny;this._maxy=c._maxy}}else if(arguments.length===2){var d=arguments[0],e=arguments[1];this.init(d.x,e.x,d.y,e.y)}else if(arguments.length===4){var f=arguments[0],g=arguments[1],h=arguments[2],i=arguments[3];f<g?(this._minx=f,this._maxx=g):(this._minx=g,this._maxx=f);h<i?(this._miny=h,this._maxy=i):(this._miny=i,this._maxy=h)}};aJ.prototype.getMaxY=function a(){return this._maxy};aJ.prototype.distance=function b(a){if(this.intersects(a)){return 0}var c=0.0;this._maxx<a._minx?(c=a._minx-this._maxx):this._minx>a._maxx&&(c=this._minx-a._maxx);var d=0.0;this._maxy<a._miny?(d=a._miny-this._maxy):this._miny>a._maxy&&(d=this._miny-a._maxy);if(c===0.0){return d}if(d===0.0){return c}return Math.sqrt(c*c+d*d)};aJ.prototype.hashCode=function a(){var b=17;b=37*b+an.hashCode(this._minx);b=37*b+an.hashCode(this._maxx);b=37*b+an.hashCode(this._miny);b=37*b+an.hashCode(this._maxy);return b};aJ.prototype.interfaces_=function a(){return[aj,am]};aJ.prototype.getClass=function a(){return aJ};aJ.intersects=function a(){if(arguments.length===3){var b=arguments[0],c=arguments[1],d=arguments[2];if(d.x>=(b.x<c.x?b.x:c.x)&&d.x<=(b.x>c.x?b.x:c.x)&&(d.y>=(b.y<c.y?b.y:c.y)&&d.y<=(b.y>c.y?b.y:c.y))){return !0}return !1}else if(arguments.length===4){var e=arguments[0],f=arguments[1],g=arguments[2],h=arguments[3],i=Math.min(g.x,h.x),j=Math.max(g.x,h.x),k=Math.min(e.x,f.x),l=Math.max(e.x,f.x);if(k>j){return !1}if(l<i){return !1}i=Math.min(g.y,h.y);j=Math.max(g.y,h.y);k=Math.min(e.y,f.y);l=Math.max(e.y,f.y);if(k>j){return !1}if(l<i){return !1}return !0}};aK.serialVersionUID.get=function(){return 5873921885273102420};Object.defineProperties(aJ,aK);var aL={'typeStr':/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,'emptyTypeStr':/^\s*(\w+)\s*EMPTY\s*$/,'spaces':/\s+/,'parenComma':/\)\s*,\s*\(/,'doubleParenComma':/\)\s*\)\s*,\s*\(\s*\(/,'trimParens':/^\s*\(?(.*?)\)?\s*$/},aM=function b(a){this.geometryFactory=a||new cA()};aM.prototype.read=function b(a){var c,d,e;a=a.replace(/[\n\r]/g,' ');var f=aL.typeStr.exec(a);a.search('EMPTY')!==-1&&(f=aL.emptyTypeStr.exec(a),f[2]=undefined);f&&(d=f[1].toLowerCase(),e=f[2],aO[d]&&(c=aO[d].apply(this,[e])));if(c===undefined){throw new Error('Could not parse WKT '+a)}return c};aM.prototype.write=function b(a){return this.extractGeometry(a)};aM.prototype.extractGeometry=function b(a){var c=a.getGeometryType().toLowerCase();if(!aN[c]){return null}var d=c.toUpperCase(),e;a.isEmpty()?(e=d+' EMPTY'):(e=d+'('+aN[c].apply(this,[a])+')');return e};var aN={coordinate:function b(a){return a.x+' '+a.y},point:function b(a){return aN.coordinate.call(this,a._coordinates._coordinates[0])},multipoint:function b(a){var c=this,d=[];for(var e=0,f=a._geometries.length;e<f;++e)d.push('('+aN.point.apply(c,[a._geometries[e]])+')');return d.join(',')},linestring:function b(a){var c=this,d=[];for(var e=0,f=a._points._coordinates.length;e<f;++e)d.push(aN.coordinate.apply(c,[a._points._coordinates[e]]));return d.join(',')},linearring:function b(a){var c=this,d=[];for(var e=0,f=a._points._coordinates.length;e<f;++e)d.push(aN.coordinate.apply(c,[a._points._coordinates[e]]));return d.join(',')},multilinestring:function b(a){var c=this,d=[];for(var e=0,f=a._geometries.length;e<f;++e)d.push('('+aN.linestring.apply(c,[a._geometries[e]])+')');return d.join(',')},polygon:function b(a){var c=this,d=[];d.push('('+aN.linestring.apply(this,[a._shell])+')');for(var e=0,f=a._holes.length;e<f;++e)d.push('('+aN.linestring.apply(c,[a._holes[e]])+')');return d.join(',')},multipolygon:function b(a){var c=this,d=[];for(var e=0,f=a._geometries.length;e<f;++e)d.push('('+aN.polygon.apply(c,[a._geometries[e]])+')');return d.join(',')},geometrycollection:function b(a){var c=this,d=[];for(var e=0,f=a._geometries.length;e<f;++e)d.push(c.extractGeometry(a._geometries[e]));return d.join(',')}},aO={point:function b(a){if(a===undefined){return this.geometryFactory.createPoint()}var c=a.trim().split(aL.spaces);return this.geometryFactory.createPoint(new an(Number.parseFloat(c[0]),Number.parseFloat(c[1])))},multipoint:function b(a){var c=this;if(a===undefined){return this.geometryFactory.createMultiPoint()}var d,e=a.trim().split(','),f=[];for(var g=0,h=e.length;g<h;++g)d=e[g].replace(aL.trimParens,'$1'),f.push(aO.point.apply(c,[d]));return this.geometryFactory.createMultiPoint(f)},linestring:function b(a){if(a===undefined){return this.geometryFactory.createLineString()}var c=a.trim().split(','),d=[],e;for(var f=0,g=c.length;f<g;++f)e=c[f].trim().split(aL.spaces),d.push(new an(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(d)},linearring:function b(a){if(a===undefined){return this.geometryFactory.createLinearRing()}var c=a.trim().split(','),d=[],e;for(var f=0,g=c.length;f<g;++f)e=c[f].trim().split(aL.spaces),d.push(new an(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(d)},multilinestring:function b(a){var c=this;if(a===undefined){return this.geometryFactory.createMultiLineString()}var d,e=a.trim().split(aL.parenComma),f=[];for(var g=0,h=e.length;g<h;++g)d=e[g].replace(aL.trimParens,'$1'),f.push(aO.linestring.apply(c,[d]));return this.geometryFactory.createMultiLineString(f)},polygon:function b(a){var c=this;if(a===undefined){return this.geometryFactory.createPolygon()}var d,e,f,g=a.trim().split(aL.parenComma),h,i=[];for(var j=0,k=g.length;j<k;++j)d=g[j].replace(aL.trimParens,'$1'),e=aO.linestring.apply(c,[d]),f=c.geometryFactory.createLinearRing(e._points),j===0?(h=f):i.push(f);return this.geometryFactory.createPolygon(h,i)},multipolygon:function b(a){var c=this;if(a===undefined){return this.geometryFactory.createMultiPolygon()}var d,e=a.trim().split(aL.doubleParenComma),f=[];for(var g=0,h=e.length;g<h;++g)d=e[g].replace(aL.trimParens,'$1'),f.push(aO.polygon.apply(c,[d]));return this.geometryFactory.createMultiPolygon(f)},geometrycollection:function b(a){var c=this;if(a===undefined){return this.geometryFactory.createGeometryCollection()}a=a.replace(/,\s*([A-Za-z])/g,'|$1');var d=a.trim().split('|'),e=[];for(var f=0,g=d.length;f<g;++f)e.push(c.read(d[f]));return this.geometryFactory.createGeometryCollection(e)}},aP=function b(a){this.parser=new aM(a)};aP.prototype.write=function b(a){return this.parser.write(a)};aP.toLineString=function c(a,b){if(arguments.length!==2){throw new Error('Not implemented')}return'LINESTRING ( '+a.x+' '+a.y+', '+b.x+' '+b.y+' )'};var aQ=function(a){function b(b){a.call(this,b);this.name='RuntimeException';this.message=b;this.stack=(new a()).stack}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;return b}(Error),aR=function(a){function b(){a.call(this);if(arguments.length===0)a.call(this);else if(arguments.length===1){var b=arguments[0];a.call(this,b)}}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};return b}(aQ),aS=function a(){};aS.prototype.interfaces_=function a(){return[]};aS.prototype.getClass=function a(){return aS};aS.shouldNeverReachHere=function a(){if(arguments.length===0)aS.shouldNeverReachHere(null);else if(arguments.length===1){var b=arguments[0];throw new aR('Should never reach here'+(b!==null?': '+b:''))}};aS.isTrue=function a(){var b,c;if(arguments.length===1)b=arguments[0],aS.isTrue(b,null);else if(arguments.length===2){b=arguments[0];c=arguments[1];if(!b){if(c===null){throw new aR()}else{throw new aR(c)}}}};aS.equals=function a(){var b,c,d;if(arguments.length===2)b=arguments[0],c=arguments[1],aS.equals(b,c,null);else if(arguments.length===3){b=arguments[0];c=arguments[1];d=arguments[2];if(!c.equals(b)){throw new aR('Expected '+b+' but encountered '+c+(d!==null?': '+d:''))}}};var aT=function a(){this._result=null;this._inputLines=Array(2).fill().map(function(){return Array(2)});this._intPt=new Array(2).fill(null);this._intLineIndex=null;this._isProper=null;this._pa=null;this._pb=null;this._precisionModel=null;this._intPt[0]=new an();this._intPt[1]=new an();this._pa=this._intPt[0];this._pb=this._intPt[1];this._result=0},aU={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};aT.prototype.getIndexAlongSegment=function c(a,b){this.computeIntLineIndex();return this._intLineIndex[a][b]};aT.prototype.getTopologySummary=function a(){var b=new aw();this.isEndPoint()&&b.append(' endpoint');this._isProper&&b.append(' proper');this.isCollinear()&&b.append(' collinear');return b.toString()};aT.prototype.computeIntersection=function e(a,b,c,d){this._inputLines[0][0]=a;this._inputLines[0][1]=b;this._inputLines[1][0]=c;this._inputLines[1][1]=d;this._result=this.computeIntersect(a,b,c,d)};aT.prototype.getIntersectionNum=function a(){return this._result};aT.prototype.computeIntLineIndex=function a(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var b=arguments[0],c=this.getEdgeDistance(b,0),d=this.getEdgeDistance(b,1);c>d?(this._intLineIndex[b][0]=0,this._intLineIndex[b][1]=1):(this._intLineIndex[b][0]=1,this._intLineIndex[b][1]=0)}};aT.prototype.isProper=function a(){return this.hasIntersection()&&this._isProper};aT.prototype.setPrecisionModel=function b(a){this._precisionModel=a};aT.prototype.isInteriorIntersection=function a(){var b=this;if(arguments.length===0){if(this.isInteriorIntersection(0)){return !0}if(this.isInteriorIntersection(1)){return !0}return !1}else if(arguments.length===1){var c=arguments[0];for(var d=0;d<this._result;d++){if(!(b._intPt[d].equals2D(b._inputLines[c][0])||b._intPt[d].equals2D(b._inputLines[c][1]))){return !0}}return !1}};aT.prototype.getIntersection=function b(a){return this._intPt[a]};aT.prototype.isEndPoint=function a(){return this.hasIntersection()&&!this._isProper};aT.prototype.hasIntersection=function a(){return this._result!==aT.NO_INTERSECTION};aT.prototype.getEdgeDistance=function c(a,b){var d=aT.computeEdgeDistance(this._intPt[b],this._inputLines[a][0],this._inputLines[a][1]);return d};aT.prototype.isCollinear=function a(){return this._result===aT.COLLINEAR_INTERSECTION};aT.prototype.toString=function a(){return aP.toLineString(this._inputLines[0][0],this._inputLines[0][1])+' - '+aP.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()};aT.prototype.getEndpoint=function c(a,b){return this._inputLines[a][b]};aT.prototype.isIntersection=function b(a){var c=this;for(var d=0;d<this._result;d++){if(c._intPt[d].equals2D(a)){return !0}}return !1};aT.prototype.getIntersectionAlongSegment=function c(a,b){this.computeIntLineIndex();return this._intPt[this._intLineIndex[a][b]]};aT.prototype.interfaces_=function a(){return[]};aT.prototype.getClass=function a(){return aT};aT.computeEdgeDistance=function d(a,b,c){var e=Math.abs(c.x-b.x),f=Math.abs(c.y-b.y),g=-1;if(a.equals(b))g=0.0;else if(a.equals(c))e>f?(g=e):(g=f);else{var h=Math.abs(a.x-b.x),i=Math.abs(a.y-b.y);e>f?(g=h):(g=i);g===0.0&&!a.equals(b)&&(g=Math.max(h,i))};aS.isTrue(!(g===0.0&&!a.equals(b)),'Bad distance calculation');return g};aT.nonRobustComputeEdgeDistance=function d(a,b,c){var e=a.x-b.x,f=a.y-b.y,g=Math.sqrt(e*e+f*f);aS.isTrue(!(g===0.0&&!a.equals(b)),'Invalid distance calculation');return g};aU.DONT_INTERSECT.get=function(){return 0};aU.DO_INTERSECT.get=function(){return 1};aU.COLLINEAR.get=function(){return 2};aU.NO_INTERSECTION.get=function(){return 0};aU.POINT_INTERSECTION.get=function(){return 1};aU.COLLINEAR_INTERSECTION.get=function(){return 2};Object.defineProperties(aT,aU);var aV=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.isInSegmentEnvelopes=function b(a){var c=new aJ(this._inputLines[0][0],this._inputLines[0][1]),d=new aJ(this._inputLines[1][0],this._inputLines[1][1]);return c.contains(a)&&d.contains(a)};b.prototype.computeIntersection=function b(){if(arguments.length===3){var c=arguments[0],d=arguments[1],e=arguments[2];this._isProper=!1;if(aJ.intersects(d,e,c)){if(aY.orientationIndex(d,e,c)===0&&aY.orientationIndex(e,d,c)===0){this._isProper=!0;(c.equals(d)||c.equals(e))&&(this._isProper=!1);this._result=a.POINT_INTERSECTION;return null}}this._result=a.NO_INTERSECTION}else{return a.prototype.computeIntersection.apply(this,arguments)}};b.prototype.normalizeToMinimum=function f(a,b,c,d,e){e.x=this.smallestInAbsValue(a.x,b.x,c.x,d.x);e.y=this.smallestInAbsValue(a.y,b.y,c.y,d.y);a.x-=e.x;a.y-=e.y;b.x-=e.x;b.y-=e.y;c.x-=e.x;c.y-=e.y;d.x-=e.x;d.y-=e.y};b.prototype.safeHCoordinateIntersection=function g(a,c,d,f){var h=null;try{h=aI.intersection(a,c,d,f)}catch(e){if(e instanceof aG)h=b.nearestEndpoint(a,c,d,f);else{throw e}}finally{};return h};b.prototype.intersection=function f(a,c,d,e){var g=this.intersectionWithNormalization(a,c,d,e);this.isInSegmentEnvelopes(g)||(g=new an(b.nearestEndpoint(a,c,d,e)));this._precisionModel!==null&&this._precisionModel.makePrecise(g);return g};b.prototype.smallestInAbsValue=function e(a,b,c,d){var f=a,g=Math.abs(f);Math.abs(b)<g&&(f=b,g=Math.abs(b));Math.abs(c)<g&&(f=c,g=Math.abs(c));Math.abs(d)<g&&(f=d);return f};b.prototype.checkDD=function f(a,b,c,d,e){var g=aB.intersection(a,b,c,d),h=this.isInSegmentEnvelopes(g);aH.out.println('DD in env = '+h+'  --------------------- '+g);e.distance(g)>0.0001&&aH.out.println('Distance = '+e.distance(g))};b.prototype.intersectionWithNormalization=function e(a,b,c,d){var f=new an(a),g=new an(b),h=new an(c),i=new an(d),j=new an();this.normalizeToEnvCentre(f,g,h,i,j);var k=this.safeHCoordinateIntersection(f,g,h,i);k.x+=j.x;k.y+=j.y;return k};b.prototype.computeCollinearIntersection=function f(b,c,d,e){var g=aJ.intersects(b,c,d),h=aJ.intersects(b,c,e),i=aJ.intersects(d,e,b),j=aJ.intersects(d,e,c);if(g&&h){this._intPt[0]=d;this._intPt[1]=e;return a.COLLINEAR_INTERSECTION}if(i&&j){this._intPt[0]=b;this._intPt[1]=c;return a.COLLINEAR_INTERSECTION}if(g&&i){this._intPt[0]=d;this._intPt[1]=b;return d.equals(b)&&!h&&!j?a.POINT_INTERSECTION:a.COLLINEAR_INTERSECTION}if(g&&j){this._intPt[0]=d;this._intPt[1]=c;return d.equals(c)&&!h&&!i?a.POINT_INTERSECTION:a.COLLINEAR_INTERSECTION}if(h&&i){this._intPt[0]=e;this._intPt[1]=b;return e.equals(b)&&!g&&!j?a.POINT_INTERSECTION:a.COLLINEAR_INTERSECTION}if(h&&j){this._intPt[0]=e;this._intPt[1]=c;return e.equals(c)&&!g&&!i?a.POINT_INTERSECTION:a.COLLINEAR_INTERSECTION}return a.NO_INTERSECTION};b.prototype.normalizeToEnvCentre=function f(a,b,c,d,e){var g=a.x<b.x?a.x:b.x,h=a.y<b.y?a.y:b.y,i=a.x>b.x?a.x:b.x,j=a.y>b.y?a.y:b.y,k=c.x<d.x?c.x:d.x,l=c.y<d.y?c.y:d.y,m=c.x>d.x?c.x:d.x,n=c.y>d.y?c.y:d.y,o=g>k?g:k,p=i<m?i:m,q=h>l?h:l,r=j<n?j:n,s=(o+p)/2.0,t=(q+r)/2.0;e.x=s;e.y=t;a.x-=e.x;a.y-=e.y;b.x-=e.x;b.y-=e.y;c.x-=e.x;c.y-=e.y;d.x-=e.x;d.y-=e.y};b.prototype.computeIntersect=function f(b,c,d,e){this._isProper=!1;if(!aJ.intersects(b,c,d,e)){return a.NO_INTERSECTION}var g=aY.orientationIndex(b,c,d),h=aY.orientationIndex(b,c,e);if(g>0&&h>0||g<0&&h<0){return a.NO_INTERSECTION}var i=aY.orientationIndex(d,e,b),j=aY.orientationIndex(d,e,c);if(i>0&&j>0||i<0&&j<0){return a.NO_INTERSECTION}var k=g===0&&h===0&&i===0&&j===0;if(k){return this.computeCollinearIntersection(b,c,d,e)}g===0||h===0||i===0||j===0?(this._isProper=!1,b.equals2D(d)||b.equals2D(e)?(this._intPt[0]=b):c.equals2D(d)||c.equals2D(e)?(this._intPt[0]=c):g===0?(this._intPt[0]=new an(d)):h===0?(this._intPt[0]=new an(e)):i===0?(this._intPt[0]=new an(b)):j===0&&(this._intPt[0]=new an(c))):(this._isProper=!0,this._intPt[0]=this.intersection(b,c,d,e));return a.POINT_INTERSECTION};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};b.nearestEndpoint=function e(a,b,c,d){var f=a,g=aY.distancePointLine(a,c,d),h=aY.distancePointLine(b,c,d);h<g&&(g=h,f=b);h=aY.distancePointLine(c,a,b);h<g&&(g=h,f=c);h=aY.distancePointLine(d,a,b);h<g&&(g=h,f=d);return f};return b}(aT),aW=function a(){};aW.prototype.interfaces_=function a(){return[]};aW.prototype.getClass=function a(){return aW};aW.orientationIndex=function d(a,b,c){var e=b.x-a.x,f=b.y-a.y,g=c.x-b.x,h=c.y-b.y;return aW.signOfDet2x2(e,f,g,h)};aW.signOfDet2x2=function e(a,b,c,d){var f=null,g=null,h=null;f=1;if(a===0.0||d===0.0){if(b===0.0||c===0.0){return 0}else if(b>0){if(c>0){return-f}else{return f}}else{if(c>0){return f}else{return-f}}}if(b===0.0||c===0.0){if(d>0){if(a>0){return f}else{return-f}}else{if(a>0){return-f}else{return f}}}b>0.0?(d>0.0?(b<=d||(f=-f,g=a,a=c,c=g,g=b,b=d,d=g)):b<=-d?(f=-f,c=-c,d=-d):(g=a,a=-c,c=g,g=b,b=-d,d=g)):d>0.0?(-b<=d?(f=-f,a=-a,b=-b):(g=-a,a=c,c=g,g=-b,b=d,d=g)):b>=d?(a=-a,b=-b,c=-c,d=-d):(f=-f,g=-a,a=-c,c=g,g=-b,b=-d,d=g);if(a>0.0){if(c>0.0){if(!a<=c){return f}}else{return f}}else{if(c>0.0){return-f}else{if(a>=c)f=-f,a=-a,c=-c;else{return-f}}}while(!0){h=Math.floor(c/a);c-=h*a;d-=h*b;if(d<0.0){return-f}if(d>b){return f}if(a>c+c){if(b<d+d){return f}}else{if(b>d+d){return-f}else c=a-c,d=b-d,f=-f}if(d===0.0){if(c===0.0){return 0}else{return-f}}if(c===0.0){return f}h=Math.floor(a/c);a-=h*c;b-=h*d;if(b<0.0){return f}if(b>d){return-f}if(c>a+a){if(d<b+b){return-f}}else{if(d>b+b){return f}else a=c-a,b=d-b,f=-f}if(b===0.0){if(a===0.0){return 0}else{return f}}if(a===0.0){return-f}}};var aX=function a(){this._p=null;this._crossingCount=0;this._isPointOnSegment=!1;var b=arguments[0];this._p=b};aX.prototype.countSegment=function c(a,b){if(a.x<this._p.x&&b.x<this._p.x){return null}if(this._p.x===b.x&&this._p.y===b.y){this._isPointOnSegment=!0;return null}if(a.y===this._p.y&&b.y===this._p.y){var d=a.x,e=b.x;d>e&&(d=b.x,e=a.x);this._p.x>=d&&this._p.x<=e&&(this._isPointOnSegment=!0);return null}if(a.y>this._p.y&&b.y<=this._p.y||b.y>this._p.y&&a.y<=this._p.y){var f=a.x-this._p.x,g=a.y-this._p.y,h=b.x-this._p.x,i=b.y-this._p.y,j=aW.signOfDet2x2(f,g,h,i);if(j===0.0){this._isPointOnSegment=!0;return null}i<g&&(j=-j);j>0.0&&this._crossingCount++}};aX.prototype.isPointInPolygon=function a(){return this.getLocation()!==ar.EXTERIOR};aX.prototype.getLocation=function a(){if(this._isPointOnSegment){return ar.BOUNDARY}if(this._crossingCount%2===1){return ar.INTERIOR}return ar.EXTERIOR};aX.prototype.isOnSegment=function a(){return this._isPointOnSegment};aX.prototype.interfaces_=function a(){return[]};aX.prototype.getClass=function a(){return aX};aX.locatePointInRing=function a(){if(arguments[0] instanceof an&&at(arguments[1],aD)){var b=arguments[0],c=arguments[1],d=new aX(b),e=new an(),f=new an();for(var g=1;g<c.size();g++){c.getCoordinate(g,e);c.getCoordinate(g-1,f);d.countSegment(e,f);if(d.isOnSegment()){return d.getLocation()}}return d.getLocation()}else if(arguments[0] instanceof an&&arguments[1] instanceof Array){var h=arguments[0],i=arguments[1],j=new aX(h);for(var k=1;k<i.length;k++){var l=i[k],m=i[k-1];j.countSegment(l,m);if(j.isOnSegment()){return j.getLocation()}}return j.getLocation()}};var aY=function a(){},aZ={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};aY.prototype.interfaces_=function a(){return[]};aY.prototype.getClass=function a(){return aY};aY.orientationIndex=function d(a,b,c){return aB.orientationIndex(a,b,c)};aY.signedArea=function a(){if(arguments[0] instanceof Array){var b=arguments[0];if(b.length<3){return 0.0}var c=0.0,d=b[0].x;for(var e=1;e<b.length-1;e++){var f=b[e].x-d,g=b[e+1].y,h=b[e-1].y;c+=f*(h-g)}return c/2.0}else if(at(arguments[0],aD)){var i=arguments[0],j=i.size();if(j<3){return 0.0}var k=new an(),l=new an(),m=new an();i.getCoordinate(0,l);i.getCoordinate(1,m);var n=l.x;m.x-=n;var o=0.0;for(var p=1;p<j-1;p++)k.y=l.y,l.x=m.x,l.y=m.y,i.getCoordinate(p+1,m),m.x-=n,o+=l.x*(k.y-m.y);return o/2.0}};aY.distanceLineLine=function e(a,b,c,d){if(a.equals(b)){return aY.distancePointLine(a,c,d)}if(c.equals(d)){return aY.distancePointLine(d,a,b)}var f=!1;if(!aJ.intersects(a,b,c,d))f=!0;else{var g=(b.x-a.x)*(d.y-c.y)-(b.y-a.y)*(d.x-c.x);if(g===0)f=!0;else{var h=(a.y-c.y)*(d.x-c.x)-(a.x-c.x)*(d.y-c.y),i=(a.y-c.y)*(b.x-a.x)-(a.x-c.x)*(b.y-a.y),j=i/g,k=h/g;(k<0||k>1||j<0||j>1)&&(f=!0)}}if(f){return au.min(aY.distancePointLine(a,c,d),aY.distancePointLine(b,c,d),aY.distancePointLine(c,a,b),aY.distancePointLine(d,a,b))}return 0.0};aY.isPointInRing=function c(a,b){return aY.locatePointInRing(a,b)!==ar.EXTERIOR};aY.computeLength=function b(a){var c=a.size();if(c<=1){return 0.0}var d=0.0,e=new an();a.getCoordinate(0,e);var f=e.x,g=e.y;for(var h=1;h<c;h++){a.getCoordinate(h,e);var i=e.x,j=e.y,k=i-f,l=j-g;d+=Math.sqrt(k*k+l*l);f=i;g=j}return d};aY.isCCW=function(a){var c=a.length-1;if(c<3){throw new ag('Ring has fewer than 4 points, so orientation cannot be determined')}var d=a[0],e=0;for(var f=1;f<=c;f++){var g=a[f];g.y>d.y&&(d=g,e=f)}var h=e;do{h-=1,h<0&&(h=c)}while(a[h].equals2D(d)&&h!==e);var i=e;do{i=(i+1)%c}while(a[i].equals2D(d)&&i!==e);var j=a[h],k=a[i];if(j.equals2D(d)||k.equals2D(d)||j.equals2D(k)){return !1}var l=aY.computeOrientation(j,d,k),b=!1;l===0?(b=j.x>k.x):(b=l>0);return b};aY.locatePointInRing=function c(a,b){return aX.locatePointInRing(a,b)};aY.distancePointLinePerpendicular=function d(a,b,c){var e=(c.x-b.x)*(c.x-b.x)+(c.y-b.y)*(c.y-b.y),f=((b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y))/e;return Math.abs(f)*Math.sqrt(e)};aY.computeOrientation=function d(a,b,c){return aY.orientationIndex(a,b,c)};aY.distancePointLine=function a(){if(arguments.length===2){var b=arguments[0],c=arguments[1];if(c.length===0){throw new ag('Line array must contain at least one vertex')}var d=b.distance(c[0]);for(var e=0;e<c.length-1;e++){var f=aY.distancePointLine(b,c[e],c[e+1]);f<d&&(d=f)}return d}else if(arguments.length===3){var g=arguments[0],h=arguments[1],i=arguments[2];if(h.x===i.x&&h.y===i.y){return g.distance(h)}var j=(i.x-h.x)*(i.x-h.x)+(i.y-h.y)*(i.y-h.y),k=((g.x-h.x)*(i.x-h.x)+(g.y-h.y)*(i.y-h.y))/j;if(k<=0.0){return g.distance(h)}if(k>=1.0){return g.distance(i)}var l=((h.y-g.y)*(i.x-h.x)-(h.x-g.x)*(i.y-h.y))/j;return Math.abs(l)*Math.sqrt(j)}};aY.isOnLine=function c(a,b){var d=new aV();for(var e=1;e<b.length;e++){var f=b[e-1],g=b[e];d.computeIntersection(a,f,g);if(d.hasIntersection()){return !0}}return !1};aZ.CLOCKWISE.get=function(){return-1};aZ.RIGHT.get=function(){return aY.CLOCKWISE};aZ.COUNTERCLOCKWISE.get=function(){return 1};aZ.LEFT.get=function(){return aY.COUNTERCLOCKWISE};aZ.COLLINEAR.get=function(){return 0};aZ.STRAIGHT.get=function(){return aY.COLLINEAR};Object.defineProperties(aY,aZ);var a_=function a(){};a_.prototype.filter=function b(a){};a_.prototype.interfaces_=function a(){return[]};a_.prototype.getClass=function a(){return a_};var a$=function a(){var b=arguments[0];this._envelope=null;this._factory=null;this._SRID=null;this._userData=null;this._factory=b;this._SRID=b.getSRID()},ba={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};a$.prototype.isGeometryCollection=function a(){return this.getSortIndex()===a$.SORTINDEX_GEOMETRYCOLLECTION};a$.prototype.getFactory=function a(){return this._factory};a$.prototype.getGeometryN=function b(a){return this};a$.prototype.getArea=function a(){return 0.0};a$.prototype.isRectangle=function a(){return !1};a$.prototype.equals=function a(){if(arguments[0] instanceof a$){var b=arguments[0];if(b===null){return !1}return this.equalsTopo(b)}else if(arguments[0] instanceof Object){var c=arguments[0];if(!(c instanceof a$)){return !1}var d=c;return this.equalsExact(d)}};a$.prototype.equalsExact=function b(a){return this===a||this.equalsExact(a,0)};a$.prototype.geometryChanged=function a(){this.apply(a$.geometryChangedFilter)};a$.prototype.geometryChangedAction=function a(){this._envelope=null};a$.prototype.equalsNorm=function b(a){if(a===null){return !1}return this.norm().equalsExact(a.norm())};a$.prototype.getLength=function a(){return 0.0};a$.prototype.getNumGeometries=function a(){return 1};a$.prototype.compareTo=function a(){if(arguments.length===1){var b=arguments[0],c=b;if(this.getSortIndex()!==c.getSortIndex()){return this.getSortIndex()-c.getSortIndex()}if(this.isEmpty()&&c.isEmpty()){return 0}if(this.isEmpty()){return-1}if(c.isEmpty()){return 1}return this.compareToSameClass(b)}else if(arguments.length===2){var d=arguments[0],e=arguments[1];if(this.getSortIndex()!==d.getSortIndex()){return this.getSortIndex()-d.getSortIndex()}if(this.isEmpty()&&d.isEmpty()){return 0}if(this.isEmpty()){return-1}if(d.isEmpty()){return 1}return this.compareToSameClass(d,e)}};a$.prototype.getUserData=function a(){return this._userData};a$.prototype.getSRID=function a(){return this._SRID};a$.prototype.getEnvelope=function a(){return this.getFactory().toGeometry(this.getEnvelopeInternal())};a$.prototype.checkNotGeometryCollection=function b(a){if(a.getSortIndex()===a$.SORTINDEX_GEOMETRYCOLLECTION){throw new ag('This method does not support GeometryCollection arguments')}};a$.prototype.equal=function d(a,b,c){if(c===0){return a.equals(b)}return a.distance(b)<=c};a$.prototype.norm=function a(){var b=this.copy();b.normalize();return b};a$.prototype.getPrecisionModel=function a(){return this._factory.getPrecisionModel()};a$.prototype.getEnvelopeInternal=function a(){this._envelope===null&&(this._envelope=this.computeEnvelopeInternal());return new aJ(this._envelope)};a$.prototype.setSRID=function b(a){this._SRID=a};a$.prototype.setUserData=function b(a){this._userData=a};a$.prototype.compare=function c(a,b){var d=a.iterator(),e=b.iterator();while(d.hasNext()&&e.hasNext()){var f=d.next(),g=e.next(),h=f.compareTo(g);if(h!==0){return h}}if(d.hasNext()){return 1}if(e.hasNext()){return-1}return 0};a$.prototype.hashCode=function a(){return this.getEnvelopeInternal().hashCode()};a$.prototype.isGeometryCollectionOrDerived=function a(){if(this.getSortIndex()===a$.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===a$.SORTINDEX_MULTIPOINT||this.getSortIndex()===a$.SORTINDEX_MULTILINESTRING||this.getSortIndex()===a$.SORTINDEX_MULTIPOLYGON){return !0}return !1};a$.prototype.interfaces_=function a(){return[ak,aj,am]};a$.prototype.getClass=function a(){return a$};a$.hasNonEmptyElements=function b(a){for(var c=0;c<a.length;c++){if(!a[c].isEmpty()){return !0}}return !1};a$.hasNullElements=function b(a){for(var c=0;c<a.length;c++){if(a[c]===null){return !0}}return !1};ba.serialVersionUID.get=function(){return 8763622679187376702};ba.SORTINDEX_POINT.get=function(){return 0};ba.SORTINDEX_MULTIPOINT.get=function(){return 1};ba.SORTINDEX_LINESTRING.get=function(){return 2};ba.SORTINDEX_LINEARRING.get=function(){return 3};ba.SORTINDEX_MULTILINESTRING.get=function(){return 4};ba.SORTINDEX_POLYGON.get=function(){return 5};ba.SORTINDEX_MULTIPOLYGON.get=function(){return 6};ba.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7};ba.geometryChangedFilter.get=function(){return bb};Object.defineProperties(a$,ba);var bb=function a(){};bb.interfaces_=function a(){return[a_]};bb.filter=function b(a){a.geometryChangedAction()};var bc=function a(){};bc.prototype.filter=function b(a){};bc.prototype.interfaces_=function a(){return[]};bc.prototype.getClass=function a(){return bc};var bd=function a(){},be={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};bd.prototype.isInBoundary=function b(a){};bd.prototype.interfaces_=function a(){return[]};bd.prototype.getClass=function a(){return bd};be.Mod2BoundaryNodeRule.get=function(){return bf};be.EndPointBoundaryNodeRule.get=function(){return bg};be.MultiValentEndPointBoundaryNodeRule.get=function(){return bh};be.MonoValentEndPointBoundaryNodeRule.get=function(){return bi};be.MOD2_BOUNDARY_RULE.get=function(){return new bf()};be.ENDPOINT_BOUNDARY_RULE.get=function(){return new bg()};be.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new bh()};be.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new bi()};be.OGC_SFS_BOUNDARY_RULE.get=function(){return bd.MOD2_BOUNDARY_RULE};Object.defineProperties(bd,be);var bf=function a(){};bf.prototype.isInBoundary=function b(a){return a%2===1};bf.prototype.interfaces_=function a(){return[bd]};bf.prototype.getClass=function a(){return bf};var bg=function a(){};bg.prototype.isInBoundary=function b(a){return a>0};bg.prototype.interfaces_=function a(){return[bd]};bg.prototype.getClass=function a(){return bg};var bh=function a(){};bh.prototype.isInBoundary=function b(a){return a>1};bh.prototype.interfaces_=function a(){return[bd]};bh.prototype.getClass=function a(){return bh};var bi=function a(){};bi.prototype.isInBoundary=function b(a){return a===1};bi.prototype.interfaces_=function a(){return[bd]};bi.prototype.getClass=function a(){return bi};var bj=function a(){};bj.prototype.add=function a(){};bj.prototype.addAll=function a(){};bj.prototype.isEmpty=function a(){};bj.prototype.iterator=function a(){};bj.prototype.size=function a(){};bj.prototype.toArray=function a(){};bj.prototype.remove=function a(){};function bk(a){this.message=a||''}bk.prototype=new Error();bk.prototype.name='IndexOutOfBoundsException';var bl=function a(){};bl.prototype.hasNext=function a(){};bl.prototype.next=function a(){};bl.prototype.remove=function a(){};var bm=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.get=function a(){};b.prototype.set=function a(){};b.prototype.isEmpty=function a(){};return b}(bj);function bn(a){this.message=a||''}bn.prototype=new Error();bn.prototype.name='NoSuchElementException';var bo=function(a){function b(){a.call(this);this.array_=[];arguments[0] instanceof bj&&this.addAll(arguments[0])}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.ensureCapacity=function a(){};b.prototype.interfaces_=function b(){return[a,bj]};b.prototype.add=function b(a){arguments.length===1?this.array_.push(a):this.array_.splice(arguments[0],arguments[1]);return !0};b.prototype.clear=function a(){this.array_=[]};b.prototype.addAll=function b(a){var c=this;for(var d=a.iterator();d.hasNext();)c.add(d.next());return !0};b.prototype.set=function c(a,b){var d=this.array_[a];this.array_[a]=b;return d};b.prototype.iterator=function a(){return new bp(this)};b.prototype.get=function b(a){if(a<0||a>=this.size()){throw new bk()}return this.array_[a]};b.prototype.isEmpty=function a(){return this.array_.length===0};b.prototype.size=function a(){return this.array_.length};b.prototype.toArray=function a(){var b=this,c=[];for(var d=0,e=this.array_.length;d<e;d++)c.push(b.array_[d]);return c};b.prototype.remove=function b(a){var c=this,d=!1;for(var e=0,f=this.array_.length;e<f;e++){if(c.array_[e]===a){c.array_.splice(e,1);d=!0;break}}return d};return b}(bm),bp=function(a){function b(b){a.call(this);this.arrayList_=b;this.position_=0}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.next=function a(){if(this.position_===this.arrayList_.size()){throw new bn()}return this.arrayList_.get(this.position_++)};b.prototype.hasNext=function a(){if(this.position_<this.arrayList_.size()){return !0}else{return !1}};b.prototype.set=function b(a){return this.arrayList_.set(this.position_-1,a)};b.prototype.remove=function a(){this.arrayList_.remove(this.arrayList_.get(this.position_))};return b}(bl),bq=function(a){function b(){a.call(this);if(!arguments.length===0)if(arguments.length===1){var b=arguments[0];this.ensureCapacity(b.length);this.add(b,!0)}else if(arguments.length===2){var c=arguments[0],d=arguments[1];this.ensureCapacity(c.length);this.add(c,d)}}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;var c={coordArrayType:{configurable:!0}};c.coordArrayType.get=function(){return new Array(0).fill(null)};b.prototype.getCoordinate=function b(a){return this.get(a)};b.prototype.addAll=function b(){var c=this;if(arguments.length===2){var d=arguments[0],e=arguments[1],f=!1;for(var g=d.iterator();g.hasNext();)c.add(g.next(),e),f=!0;return f}else{return a.prototype.addAll.apply(this,arguments)}};b.prototype.clone=function(){var c=this,b=a.prototype.clone.call(this);for(var d=0;d<this.size();d++)b.add(d,c.get(d).copy());return b};b.prototype.toCoordinateArray=function a(){return this.toArray(b.coordArrayType)};b.prototype.add=function b(){var c=this;if(arguments.length===1){var d=arguments[0];a.prototype.add.call(this,d)}else if(arguments.length===2){if(arguments[0] instanceof Array&&typeof arguments[1]==='boolean'){var e=arguments[0],f=arguments[1];this.add(e,f,!0);return !0}else if(arguments[0] instanceof an&&typeof arguments[1]==='boolean'){var g=arguments[0],h=arguments[1];if(!h){if(this.size()>=1){var i=this.get(this.size()-1);if(i.equals2D(g)){return null}}}a.prototype.add.call(this,g)}else if(arguments[0] instanceof Object&&typeof arguments[1]==='boolean'){var j=arguments[0],k=arguments[1];this.add(j,k);return !0}}else if(arguments.length===3){if(typeof arguments[2]==='boolean'&&(arguments[0] instanceof Array&&typeof arguments[1]==='boolean')){var l=arguments[0],m=arguments[1],n=arguments[2];if(n){for(var o=0;o<l.length;o++)c.add(l[o],m)}else{for(var p=l.length-1;p>=0;p--)c.add(l[p],m)}return !0}else if(typeof arguments[2]==='boolean'&&(Number.isInteger(arguments[0])&&arguments[1] instanceof an)){var q=arguments[0],r=arguments[1],s=arguments[2];if(!s){var t=this.size();if(t>0){if(q>0){var u=this.get(q-1);if(u.equals2D(r)){return null}}if(q<t){var v=this.get(q);if(v.equals2D(r)){return null}}}}a.prototype.add.call(this,q,r)}}else if(arguments.length===4){var w=arguments[0],x=arguments[1],y=arguments[2],z=arguments[3],A=1;y>z&&(A=-1);for(var B=y;B!==z;B+=A)c.add(w[B],x);return !0}};b.prototype.closeRing=function a(){this.size()>0&&this.add(new an(this.get(0)),!1)};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};Object.defineProperties(b,c);return b}(bo),br=function a(){},bs={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};bs.ForwardComparator.get=function(){return bt};bs.BidirectionalComparator.get=function(){return bu};bs.coordArrayType.get=function(){return new Array(0).fill(null)};br.prototype.interfaces_=function a(){return[]};br.prototype.getClass=function a(){return br};br.isRing=function b(a){if(a.length<4){return !1}if(!a[0].equals2D(a[a.length-1])){return !1}return !0};br.ptNotInList=function c(a,b){for(var d=0;d<a.length;d++){var e=a[d];if(br.indexOf(e,b)<0){return e}}return null};br.scroll=function c(a,b){var d=br.indexOf(b,a);if(d<0){return null}var e=new Array(a.length).fill(null);aH.arraycopy(a,d,e,0,a.length-d);aH.arraycopy(a,0,e,a.length-d,d);aH.arraycopy(e,0,a,0,a.length)};br.equals=function a(){if(arguments.length===2){var b=arguments[0],c=arguments[1];if(b===c){return !0}if(b===null||c===null){return !1}if(b.length!==c.length){return !1}for(var d=0;d<b.length;d++){if(!b[d].equals(c[d])){return !1}}return !0}else if(arguments.length===3){var e=arguments[0],f=arguments[1],g=arguments[2];if(e===f){return !0}if(e===null||f===null){return !1}if(e.length!==f.length){return !1}for(var h=0;h<e.length;h++){if(g.compare(e[h],f[h])!==0){return !1}}return !0}};br.intersection=function c(a,b){var d=new bq();for(var e=0;e<a.length;e++)b.intersects(a[e])&&d.add(a[e],!0);return d.toCoordinateArray()};br.hasRepeatedPoints=function b(a){for(var c=1;c<a.length;c++){if(a[c-1].equals(a[c])){return !0}}return !1};br.removeRepeatedPoints=function b(a){if(!br.hasRepeatedPoints(a)){return a}var c=new bq(a,!1);return c.toCoordinateArray()};br.reverse=function b(a){var c=a.length-1,d=Math.trunc(c/2);for(var e=0;e<=d;e++){var f=a[e];a[e]=a[c-e];a[c-e]=f}};br.removeNull=function b(a){var c=0;for(var d=0;d<a.length;d++)a[d]!==null&&c++;var e=new Array(c).fill(null);if(c===0){return e}var f=0;for(var g=0;g<a.length;g++)a[g]!==null&&(e[f++]=a[g]);return e};br.copyDeep=function a(){if(arguments.length===1){var b=arguments[0],c=new Array(b.length).fill(null);for(var d=0;d<b.length;d++)c[d]=new an(b[d]);return c}else if(arguments.length===5){var e=arguments[0],f=arguments[1],g=arguments[2],h=arguments[3],i=arguments[4];for(var j=0;j<i;j++)g[h+j]=new an(e[f+j])}};br.isEqualReversed=function c(a,b){for(var d=0;d<a.length;d++){var e=a[d],f=b[a.length-d-1];if(e.compareTo(f)!==0){return !1}}return !0};br.envelope=function b(a){var c=new aJ();for(var d=0;d<a.length;d++)c.expandToInclude(a[d]);return c};br.toCoordinateArray=function b(a){return a.toArray(br.coordArrayType)};br.atLeastNCoordinatesOrNothing=function c(a,b){return b.length>=a?b:[]};br.indexOf=function c(a,b){for(var d=0;d<b.length;d++){if(a.equals(b[d])){return d}}return-1};br.increasingDirection=function b(a){for(var c=0;c<Math.trunc(a.length/2);c++){var d=a.length-1-c,e=a[c].compareTo(a[d]);if(e!==0){return e}}return 1};br.compare=function(a,b){var d=0;while(d<a.length&&d<b.length){var c=a[d].compareTo(b[d]);if(c!==0){return c}d++}if(d<b.length){return-1}if(d<a.length){return 1}return 0};br.minCoordinate=function b(a){var c=null;for(var d=0;d<a.length;d++)(c===null||c.compareTo(a[d])>0)&&(c=a[d]);return c};br.extract=function d(a,b,c){b=au.clamp(b,0,a.length);c=au.clamp(c,-1,a.length);var e=c-b+1;c<0&&(e=0);b>=a.length&&(e=0);c<b&&(e=0);var f=new Array(e).fill(null);if(e===0){return f}var g=0;for(var h=b;h<=c;h++)f[g++]=a[h];return f};Object.defineProperties(br,bs);var bt=function a(){};bt.prototype.compare=function c(a,b){var d=a,e=b;return br.compare(d,e)};bt.prototype.interfaces_=function a(){return[al]};bt.prototype.getClass=function a(){return bt};var bu=function a(){};bu.prototype.compare=function c(a,b){var d=a,e=b;if(d.length<e.length){return-1}if(d.length>e.length){return 1}if(d.length===0){return 0}var f=br.compare(d,e),g=br.isEqualReversed(d,e);if(g){return 0}return f};bu.prototype.OLDcompare=function c(a,b){var d=a,e=b;if(d.length<e.length){return-1}if(d.length>e.length){return 1}if(d.length===0){return 0}var f=br.increasingDirection(d),g=br.increasingDirection(e),h=f>0?0:d.length-1,i=g>0?0:d.length-1;for(var j=0;j<d.length;j++){var k=d[h].compareTo(e[i]);if(k!==0){return k}h+=f;i+=g}return 0};bu.prototype.interfaces_=function a(){return[al]};bu.prototype.getClass=function a(){return bu};var bv=function a(){};bv.prototype.get=function a(){};bv.prototype.put=function a(){};bv.prototype.size=function a(){};bv.prototype.values=function a(){};bv.prototype.entrySet=function a(){};var bw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;return b}(bv);function bx(a){this.message=a||''}bx.prototype=new Error();bx.prototype.name='OperationNotSupported';function by(){}by.prototype=new bj();by.prototype.contains=function(){};var bz=function(a){function b(){a.call(this);this.array_=[];arguments[0] instanceof bj&&this.addAll(arguments[0])}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.contains=function b(a){var c=this;for(var d=0,e=this.array_.length;d<e;d++){var f=c.array_[d];if(f===a){return !0}}return !1};b.prototype.add=function b(a){if(this.contains(a)){return !1}this.array_.push(a);return !0};b.prototype.addAll=function b(a){var c=this;for(var d=a.iterator();d.hasNext();)c.add(d.next());return !0};b.prototype.remove=function b(a){throw new Error()};b.prototype.size=function a(){return this.array_.length};b.prototype.isEmpty=function a(){return this.array_.length===0};b.prototype.toArray=function a(){var b=this,c=[];for(var d=0,e=this.array_.length;d<e;d++)c.push(b.array_[d]);return c};b.prototype.iterator=function a(){return new bA(this)};return b}(by),bA=function(a){function b(b){a.call(this);this.hashSet_=b;this.position_=0}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.next=function a(){if(this.position_===this.hashSet_.size()){throw new bn()}return this.hashSet_.array_[this.position_++]};b.prototype.hasNext=function a(){if(this.position_<this.hashSet_.size()){return !0}else{return !1}};b.prototype.remove=function a(){throw new bx()};return b}(bl),bB=0,bC=1;function bD(a){return a===null?bB:a.color}function bE(a){return a===null?null:a.parent}function bF(a,b){a!==null&&(a.color=b)}function bG(a){return a===null?null:a.left}function bH(a){return a===null?null:a.right}function bI(){this.root_=null;this.size_=0}bI.prototype=new bw();bI.prototype.get=function(a){var b=this.root_;while(b!==null){var c=a.compareTo(b.key);if(c<0)b=b.left;else if(c>0)b=b.right;else{return b.value}}return null};bI.prototype.put=function(a,b){if(this.root_===null){this.root_={key:a,value:b,left:null,right:null,parent:null,color:bB,getValue:function a(){return this.value},getKey:function a(){return this.key}};this.size_=1;return null}var c=this.root_,d,e;do{d=c;e=a.compareTo(c.key);if(e<0)c=c.left;else if(e>0)c=c.right;else{var f=c.value;c.value=b;return f}}while(c!==null);var g={key:a,left:null,right:null,value:b,parent:d,color:bB,getValue:function a(){return this.value},getKey:function a(){return this.key}};e<0?(d.left=g):(d.right=g);this.fixAfterInsertion(g);this.size_++;return null};bI.prototype.fixAfterInsertion=function(a){var b=this;a.color=bC;while(a!=null&&a!==this.root_&&a.parent.color===bC){if(bE(a)===bG(bE(bE(a)))){var c=bH(bE(bE(a)));bD(c)===bC?(bF(bE(a),bB),bF(c,bB),bF(bE(bE(a)),bC),a=bE(bE(a))):(a===bH(bE(a))&&(a=bE(a),b.rotateLeft(a)),bF(bE(a),bB),bF(bE(bE(a)),bC),b.rotateRight(bE(bE(a))))}else{var d=bG(bE(bE(a)));bD(d)===bC?(bF(bE(a),bB),bF(d,bB),bF(bE(bE(a)),bC),a=bE(bE(a))):(a===bG(bE(a))&&(a=bE(a),b.rotateRight(a)),bF(bE(a),bB),bF(bE(bE(a)),bC),b.rotateLeft(bE(bE(a))))}}this.root_.color=bB};bI.prototype.values=function(){var a=new bo(),b=this.getFirstEntry();if(b!==null){a.add(b.value);while((b=bI.successor(b))!==null)a.add(b.value)}return a};bI.prototype.entrySet=function(){var a=new bz(),b=this.getFirstEntry();if(b!==null){a.add(b);while((b=bI.successor(b))!==null)a.add(b)}return a};bI.prototype.rotateLeft=function(a){if(a!=null){var b=a.right;a.right=b.left;b.left!=null&&(b.left.parent=a);b.parent=a.parent;a.parent===null?(this.root_=b):a.parent.left===a?(a.parent.left=b):(a.parent.right=b);b.left=a;a.parent=b}};bI.prototype.rotateRight=function(a){if(a!=null){var b=a.left;a.left=b.right;b.right!=null&&(b.right.parent=a);b.parent=a.parent;a.parent===null?(this.root_=b):a.parent.right===a?(a.parent.right=b):(a.parent.left=b);b.right=a;a.parent=b}};bI.prototype.getFirstEntry=function(){var a=this.root_;if(a!=null){while(a.left!=null)a=a.left}return a};bI.successor=function(a){if(a===null){return null}else if(a.right!==null){var b=a.right;while(b.left!==null)b=b.left;return b}else{var c=a.parent,d=a;while(c!==null&&d===c.right)d=c,c=c.parent;return c}};bI.prototype.size=function(){return this.size_};var bJ=function a(){};bJ.prototype.interfaces_=function a(){return[]};bJ.prototype.getClass=function a(){return bJ};function bK(){}bK.prototype=new by();function bL(){this.array_=[];arguments[0] instanceof bj&&this.addAll(arguments[0])}bL.prototype=new bK();bL.prototype.contains=function(a){var b=this;for(var c=0,d=this.array_.length;c<d;c++){var e=b.array_[c];if(e.compareTo(a)===0){return !0}}return !1};bL.prototype.add=function(a){var b=this;if(this.contains(a)){return !1}for(var c=0,d=this.array_.length;c<d;c++){var e=b.array_[c];if(e.compareTo(a)===1){b.array_.splice(c,0,a);return !0}}this.array_.push(a);return !0};bL.prototype.addAll=function(a){var b=this;for(var c=a.iterator();c.hasNext();)b.add(c.next());return !0};bL.prototype.remove=function(a){throw new bx()};bL.prototype.size=function(){return this.array_.length};bL.prototype.isEmpty=function(){return this.array_.length===0};bL.prototype.toArray=function(){var a=this,b=[];for(var c=0,d=this.array_.length;c<d;c++)b.push(a.array_[c]);return b};bL.prototype.iterator=function(){return new bM(this)};var bM=function(a){this.treeSet_=a;this.position_=0};bM.prototype.next=function(){if(this.position_===this.treeSet_.size()){throw new bn()}return this.treeSet_.array_[this.position_++]};bM.prototype.hasNext=function(){if(this.position_<this.treeSet_.size()){return !0}else{return !1}};bM.prototype.remove=function(){throw new bx()};var bN=function a(){};bN.sort=function a(){var c=arguments[0],d,e,f,g;if(arguments.length===1)g=function(a,b){return a.compareTo(b)},c.sort(g);else if(arguments.length===2)f=arguments[1],g=function(a,b){return f.compare(a,b)},c.sort(g);else if(arguments.length===3){e=c.slice(arguments[1],arguments[2]);e.sort();var h=c.slice(0,arguments[1]).concat(e,c.slice(arguments[2],c.length));c.splice(0,c.length);for(d=0;d<h.length;d++)c.push(h[d])}else if(arguments.length===4){e=c.slice(arguments[1],arguments[2]);f=arguments[3];g=function(a,b){return f.compare(a,b)};e.sort(g);h=c.slice(0,arguments[1]).concat(e,c.slice(arguments[2],c.length));c.splice(0,c.length);for(d=0;d<h.length;d++)c.push(h[d])}};bN.asList=function b(a){var c=new bo();for(var d=0,e=a.length;d<e;d++)c.add(a[d]);return c};var bO=function a(){},bP={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};bP.P.get=function(){return 0};bP.L.get=function(){return 1};bP.A.get=function(){return 2};bP.FALSE.get=function(){return-1};bP.TRUE.get=function(){return-2};bP.DONTCARE.get=function(){return-3};bP.SYM_FALSE.get=function(){return'F'};bP.SYM_TRUE.get=function(){return'T'};bP.SYM_DONTCARE.get=function(){return'*'};bP.SYM_P.get=function(){return'0'};bP.SYM_L.get=function(){return'1'};bP.SYM_A.get=function(){return'2'};bO.prototype.interfaces_=function a(){return[]};bO.prototype.getClass=function a(){return bO};bO.toDimensionSymbol=function b(a){switch(a){case bO.FALSE:return bO.SYM_FALSE;case bO.TRUE:return bO.SYM_TRUE;case bO.DONTCARE:return bO.SYM_DONTCARE;case bO.P:return bO.SYM_P;case bO.L:return bO.SYM_L;case bO.A:return bO.SYM_A;default:};throw new ag('Unknown dimension value: '+a)};bO.toDimensionValue=function b(a){switch(ay.toUpperCase(a)){case bO.SYM_FALSE:return bO.FALSE;case bO.SYM_TRUE:return bO.TRUE;case bO.SYM_DONTCARE:return bO.DONTCARE;case bO.SYM_P:return bO.P;case bO.SYM_L:return bO.L;case bO.SYM_A:return bO.A;default:};throw new ag('Unknown dimension symbol: '+a)};Object.defineProperties(bO,bP);var bQ=function a(){};bQ.prototype.filter=function b(a){};bQ.prototype.interfaces_=function a(){return[]};bQ.prototype.getClass=function a(){return bQ};var bR=function a(){};bR.prototype.filter=function c(a,b){};bR.prototype.isDone=function a(){};bR.prototype.isGeometryChanged=function a(){};bR.prototype.interfaces_=function a(){return[]};bR.prototype.getClass=function a(){return bR};var bS=function(a){function b(b,c){a.call(this,c);this._geometries=b||[];if(a.hasNullElements(this._geometries)){throw new ag('geometries must not contain null elements')}}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;var c={serialVersionUID:{configurable:!0}};b.prototype.computeEnvelopeInternal=function a(){var b=this,c=new aJ();for(var d=0;d<this._geometries.length;d++)c.expandToInclude(b._geometries[d].getEnvelopeInternal());return c};b.prototype.getGeometryN=function b(a){return this._geometries[a]};b.prototype.getSortIndex=function b(){return a.SORTINDEX_GEOMETRYCOLLECTION};b.prototype.getCoordinates=function a(){var b=this,c=new Array(this.getNumPoints()).fill(null),d=-1;for(var e=0;e<this._geometries.length;e++){var f=b._geometries[e].getCoordinates();for(var g=0;g<f.length;g++)d++,c[d]=f[g]}return c};b.prototype.getArea=function a(){var b=this,c=0.0;for(var d=0;d<this._geometries.length;d++)c+=b._geometries[d].getArea();return c};b.prototype.equalsExact=function b(){var c=this;if(arguments.length===2){var d=arguments[0],e=arguments[1];if(!this.isEquivalentClass(d)){return !1}var f=d;if(this._geometries.length!==f._geometries.length){return !1}for(var g=0;g<this._geometries.length;g++){if(!c._geometries[g].equalsExact(f._geometries[g],e)){return !1}}return !0}else{return a.prototype.equalsExact.apply(this,arguments)}};b.prototype.normalize=function a(){var b=this;for(var c=0;c<this._geometries.length;c++)b._geometries[c].normalize();bN.sort(this._geometries)};b.prototype.getCoordinate=function a(){if(this.isEmpty()){return null}return this._geometries[0].getCoordinate()};b.prototype.getBoundaryDimension=function a(){var b=this,c=bO.FALSE;for(var d=0;d<this._geometries.length;d++)c=Math.max(c,b._geometries[d].getBoundaryDimension());return c};b.prototype.getDimension=function a(){var b=this,c=bO.FALSE;for(var d=0;d<this._geometries.length;d++)c=Math.max(c,b._geometries[d].getDimension());return c};b.prototype.getLength=function a(){var b=this,c=0.0;for(var d=0;d<this._geometries.length;d++)c+=b._geometries[d].getLength();return c};b.prototype.getNumPoints=function a(){var b=this,c=0;for(var d=0;d<this._geometries.length;d++)c+=b._geometries[d].getNumPoints();return c};b.prototype.getNumGeometries=function a(){return this._geometries.length};b.prototype.reverse=function a(){var b=this,c=this._geometries.length,d=new Array(c).fill(null);for(var e=0;e<this._geometries.length;e++)d[e]=b._geometries[e].reverse();return this.getFactory().createGeometryCollection(d)};b.prototype.compareToSameClass=function a(){var b=this;if(arguments.length===1){var c=arguments[0],d=new bL(bN.asList(this._geometries)),e=new bL(bN.asList(c._geometries));return this.compare(d,e)}else if(arguments.length===2){var f=arguments[0],g=arguments[1],h=f,i=this.getNumGeometries(),j=h.getNumGeometries(),k=0;while(k<i&&k<j){var l=b.getGeometryN(k),m=h.getGeometryN(k),n=l.compareToSameClass(m,g);if(n!==0){return n}k++}if(k<i){return 1}if(k<j){return-1}return 0}};b.prototype.apply=function a(){var b=this;if(at(arguments[0],bc)){var c=arguments[0];for(var d=0;d<this._geometries.length;d++)b._geometries[d].apply(c)}else if(at(arguments[0],bR)){var e=arguments[0];if(this._geometries.length===0){return null}for(var f=0;f<this._geometries.length;f++){b._geometries[f].apply(e);if(e.isDone()){break}}e.isGeometryChanged()&&this.geometryChanged()}else if(at(arguments[0],bQ)){var g=arguments[0];g.filter(this);for(var h=0;h<this._geometries.length;h++)b._geometries[h].apply(g)}else if(at(arguments[0],a_)){var i=arguments[0];i.filter(this);for(var j=0;j<this._geometries.length;j++)b._geometries[j].apply(i)}};b.prototype.getBoundary=function a(){this.checkNotGeometryCollection(this);aS.shouldNeverReachHere();return null};b.prototype.clone=function b(){var c=this,d=a.prototype.clone.call(this);d._geometries=new Array(this._geometries.length).fill(null);for(var e=0;e<this._geometries.length;e++)d._geometries[e]=c._geometries[e].clone();return d};b.prototype.getGeometryType=function a(){return'GeometryCollection'};b.prototype.copy=function a(){var c=this,d=new Array(this._geometries.length).fill(null);for(var e=0;e<d.length;e++)d[e]=c._geometries[e].copy();return new b(d,this._factory)};b.prototype.isEmpty=function a(){var b=this;for(var c=0;c<this._geometries.length;c++){if(!b._geometries[c].isEmpty()){return !1}}return !0};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};c.serialVersionUID.get=function(){return-5694727726395021000};Object.defineProperties(b,c);return b}(a$),bT=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;var c={serialVersionUID:{configurable:!0}};b.prototype.getSortIndex=function a(){return a$.SORTINDEX_MULTILINESTRING};b.prototype.equalsExact=function b(){if(arguments.length===2){var c=arguments[0],d=arguments[1];if(!this.isEquivalentClass(c)){return !1}return a.prototype.equalsExact.call(this,c,d)}else{return a.prototype.equalsExact.apply(this,arguments)}};b.prototype.getBoundaryDimension=function a(){if(this.isClosed()){return bO.FALSE}return 0};b.prototype.isClosed=function a(){var b=this;if(this.isEmpty()){return !1}for(var c=0;c<this._geometries.length;c++){if(!b._geometries[c].isClosed()){return !1}}return !0};b.prototype.getDimension=function a(){return 1};b.prototype.reverse=function a(){var b=this,c=this._geometries.length,d=new Array(c).fill(null);for(var e=0;e<this._geometries.length;e++)d[c-1-e]=b._geometries[e].reverse();return this.getFactory().createMultiLineString(d)};b.prototype.getBoundary=function a(){return new bU(this).getBoundary()};b.prototype.getGeometryType=function a(){return'MultiLineString'};b.prototype.copy=function a(){var c=this,d=new Array(this._geometries.length).fill(null);for(var e=0;e<d.length;e++)d[e]=c._geometries[e].copy();return new b(d,this._factory)};b.prototype.interfaces_=function a(){return[bJ]};b.prototype.getClass=function a(){return b};c.serialVersionUID.get=function(){return 8166665132445433741};Object.defineProperties(b,c);return b}(bS),bU=function a(){this._geom=null;this._geomFact=null;this._bnRule=null;this._endpointMap=null;if(arguments.length===1){var b=arguments[0],c=bd.MOD2_BOUNDARY_RULE;this._geom=b;this._geomFact=b.getFactory();this._bnRule=c}else if(arguments.length===2){var d=arguments[0],e=arguments[1];this._geom=d;this._geomFact=d.getFactory();this._bnRule=e}};bU.prototype.boundaryMultiLineString=function b(a){if(this._geom.isEmpty()){return this.getEmptyMultiPoint()}var c=this.computeBoundaryCoordinates(a);if(c.length===1){return this._geomFact.createPoint(c[0])}return this._geomFact.createMultiPointFromCoords(c)};bU.prototype.getBoundary=function a(){if(this._geom instanceof cd){return this.boundaryLineString(this._geom)}if(this._geom instanceof bT){return this.boundaryMultiLineString(this._geom)}return this._geom.getBoundary()};bU.prototype.boundaryLineString=function b(a){if(this._geom.isEmpty()){return this.getEmptyMultiPoint()}if(a.isClosed()){var c=this._bnRule.isInBoundary(2);if(c){return a.getStartPoint()}else{return this._geomFact.createMultiPoint()}}return this._geomFact.createMultiPoint([a.getStartPoint(),a.getEndPoint()])};bU.prototype.getEmptyMultiPoint=function a(){return this._geomFact.createMultiPoint()};bU.prototype.computeBoundaryCoordinates=function b(a){var c=this,d=new bo();this._endpointMap=new bI();for(var e=0;e<a.getNumGeometries();e++){var f=a.getGeometryN(e);if(f.getNumPoints()===0){continue}c.addEndpoint(f.getCoordinateN(0));c.addEndpoint(f.getCoordinateN(f.getNumPoints()-1))}for(var g=this._endpointMap.entrySet().iterator();g.hasNext();){var h=g.next(),i=h.getValue(),j=i.count;c._bnRule.isInBoundary(j)&&d.add(h.getKey())}return br.toCoordinateArray(d)};bU.prototype.addEndpoint=function b(a){var c=this._endpointMap.get(a);c===null&&(c=new bV(),this._endpointMap.put(a,c));c.count++};bU.prototype.interfaces_=function a(){return[]};bU.prototype.getClass=function a(){return bU};bU.getBoundary=function a(){if(arguments.length===1){var b=arguments[0],c=new bU(b);return c.getBoundary()}else if(arguments.length===2){var d=arguments[0],e=arguments[1],f=new bU(d,e);return f.getBoundary()}};var bV=function a(){this.count=null};bV.prototype.interfaces_=function a(){return[]};bV.prototype.getClass=function a(){return bV};function bW(){}function bX(){}var bY=function a(){};function bZ(){}function b_(){}function b$(){}var ca=function a(){},cb={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};ca.prototype.interfaces_=function a(){return[]};ca.prototype.getClass=function a(){return ca};ca.chars=function c(a,b){var d=new Array(b).fill(null);for(var e=0;e<b;e++)d[e]=a;return String(d)};ca.getStackTrace=function a(){if(arguments.length===1){var b=arguments[0],c=new bZ(),d=new bW(c);b.printStackTrace(d);return c.toString()}else if(arguments.length===2){var f=arguments[0],g=arguments[1],h='',i=new bX(ca.getStackTrace(f)),j=new b$(i);for(var k=0;k<g;k++){try{h+=j.readLine()+ca.NEWLINE}catch(a){if(a instanceof b_)aS.shouldNeverReachHere();else{throw a}}finally{}}return h}};ca.split=function c(a,b){var d=b.length,e=new bo(),f=''+a,g=f.indexOf(b);while(g>=0){var h=f.substring(0,g);e.add(h);f=f.substring(g+d);g=f.indexOf(b)}f.length>0&&e.add(f);var i=new Array(e.size()).fill(null);for(var j=0;j<i.length;j++)i[j]=e.get(j);return i};ca.toString=function a(){if(arguments.length===1){var b=arguments[0];return ca.SIMPLE_ORDINATE_FORMAT.format(b)}};ca.spaces=function b(a){return ca.chars(' ',a)};cb.NEWLINE.get=function(){return aH.getProperty('line.separator')};cb.SIMPLE_ORDINATE_FORMAT.get=function(){return new bY('0.#')};Object.defineProperties(ca,cb);var cc=function a(){};cc.prototype.interfaces_=function a(){return[]};cc.prototype.getClass=function a(){return cc};cc.copyCoord=function e(a,b,c,d){var f=Math.min(a.getDimension(),c.getDimension());for(var g=0;g<f;g++)c.setOrdinate(d,g,a.getOrdinate(b,g))};cc.isRing=function b(a){var c=a.size();if(c===0){return !0}if(c<=3){return !1}return a.getOrdinate(0,aD.X)===a.getOrdinate(c-1,aD.X)&&a.getOrdinate(0,aD.Y)===a.getOrdinate(c-1,aD.Y)};cc.isEqual=function c(a,b){var d=a.size(),e=b.size();if(d!==e){return !1}var f=Math.min(a.getDimension(),b.getDimension());for(var g=0;g<d;g++){for(var h=0;h<f;h++){var i=a.getOrdinate(g,h),j=b.getOrdinate(g,h);if(a.getOrdinate(g,h)===b.getOrdinate(g,h)){continue}if(ah.isNaN(i)&&ah.isNaN(j)){continue}return !1}}return !0};cc.extend=function d(a,b,c){var e=a.create(c,b.getDimension()),f=b.size();cc.copy(b,0,e,0,f);if(f>0){for(var g=f;g<c;g++)cc.copy(b,f-1,e,g,1)}return e};cc.reverse=function b(a){var c=a.size()-1,d=Math.trunc(c/2);for(var e=0;e<=d;e++)cc.swap(a,e,c-e)};cc.swap=function d(a,b,c){if(b===c){return null}for(var e=0;e<a.getDimension();e++){var f=a.getOrdinate(b,e);a.setOrdinate(b,e,a.getOrdinate(c,e));a.setOrdinate(c,e,f)}};cc.copy=function f(a,b,c,d,e){for(var g=0;g<e;g++)cc.copyCoord(a,b+g,c,d+g)};cc.toString=function a(){if(arguments.length===1){var b=arguments[0],c=b.size();if(c===0){return'()'}var d=b.getDimension(),e=new aw();e.append('(');for(var f=0;f<c;f++){f>0&&e.append(' ');for(var g=0;g<d;g++)g>0&&e.append(','),e.append(ca.toString(b.getOrdinate(f,g)))}e.append(')');return e.toString()}};cc.ensureValidRing=function c(a,b){var d=b.size();if(d===0){return b}if(d<=3){return cc.createClosedRing(a,b,4)}var e=b.getOrdinate(0,aD.X)===b.getOrdinate(d-1,aD.X)&&b.getOrdinate(0,aD.Y)===b.getOrdinate(d-1,aD.Y);if(e){return b}return cc.createClosedRing(a,b,d+1)};cc.createClosedRing=function d(a,b,c){var e=a.create(c,b.getDimension()),f=b.size();cc.copy(b,0,e,0,f);for(var g=f;g<c;g++)cc.copy(b,0,e,g,1);return e};var cd=function(a){function b(b,c){a.call(this,c);this._points=null;this.init(b)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;var c={serialVersionUID:{configurable:!0}};b.prototype.computeEnvelopeInternal=function a(){if(this.isEmpty()){return new aJ()}return this._points.expandEnvelope(new aJ())};b.prototype.isRing=function a(){return this.isClosed()&&this.isSimple()};b.prototype.getSortIndex=function b(){return a.SORTINDEX_LINESTRING};b.prototype.getCoordinates=function a(){return this._points.toCoordinateArray()};b.prototype.equalsExact=function b(){var c=this;if(arguments.length===2){var d=arguments[0],e=arguments[1];if(!this.isEquivalentClass(d)){return !1}var f=d;if(this._points.size()!==f._points.size()){return !1}for(var g=0;g<this._points.size();g++){if(!c.equal(c._points.getCoordinate(g),f._points.getCoordinate(g),e)){return !1}}return !0}else{return a.prototype.equalsExact.apply(this,arguments)}};b.prototype.normalize=function a(){var b=this;for(var c=0;c<Math.trunc(this._points.size()/2);c++){var d=b._points.size()-1-c;if(!b._points.getCoordinate(c).equals(b._points.getCoordinate(d))){b._points.getCoordinate(c).compareTo(b._points.getCoordinate(d))>0&&cc.reverse(b._points);return null}}};b.prototype.getCoordinate=function a(){if(this.isEmpty()){return null}return this._points.getCoordinate(0)};b.prototype.getBoundaryDimension=function a(){if(this.isClosed()){return bO.FALSE}return 0};b.prototype.isClosed=function a(){if(this.isEmpty()){return !1}return this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))};b.prototype.getEndPoint=function a(){if(this.isEmpty()){return null}return this.getPointN(this.getNumPoints()-1)};b.prototype.getDimension=function a(){return 1};b.prototype.getLength=function a(){return aY.computeLength(this._points)};b.prototype.getNumPoints=function a(){return this._points.size()};b.prototype.reverse=function a(){var b=this._points.copy();cc.reverse(b);var c=this.getFactory().createLineString(b);return c};b.prototype.compareToSameClass=function a(){var b=this;if(arguments.length===1){var c=arguments[0],d=c,e=0,f=0;while(e<this._points.size()&&f<d._points.size()){var g=b._points.getCoordinate(e).compareTo(d._points.getCoordinate(f));if(g!==0){return g}e++;f++}if(e<this._points.size()){return 1}if(f<d._points.size()){return-1}return 0}else if(arguments.length===2){var h=arguments[0],i=arguments[1],j=h;return i.compare(this._points,j._points)}};b.prototype.apply=function a(){var b=this;if(at(arguments[0],bc)){var c=arguments[0];for(var d=0;d<this._points.size();d++)c.filter(b._points.getCoordinate(d))}else if(at(arguments[0],bR)){var e=arguments[0];if(this._points.size()===0){return null}for(var f=0;f<this._points.size();f++){e.filter(b._points,f);if(e.isDone()){break}}e.isGeometryChanged()&&this.geometryChanged()}else if(at(arguments[0],bQ)){var g=arguments[0];g.filter(this)}else if(at(arguments[0],a_)){var h=arguments[0];h.filter(this)}};b.prototype.getBoundary=function a(){return new bU(this).getBoundary()};b.prototype.isEquivalentClass=function c(a){return a instanceof b};b.prototype.clone=function b(){var c=a.prototype.clone.call(this);c._points=this._points.clone();return c};b.prototype.getCoordinateN=function b(a){return this._points.getCoordinate(a)};b.prototype.getGeometryType=function a(){return'LineString'};b.prototype.copy=function a(){return new b(this._points.copy(),this._factory)};b.prototype.getCoordinateSequence=function a(){return this._points};b.prototype.isEmpty=function a(){return this._points.size()===0};b.prototype.init=function b(a){a===null&&(a=this.getFactory().getCoordinateSequenceFactory().create([]));if(a.size()===1){throw new ag('Invalid number of points in LineString (found '+a.size()+' - must be 0 or >= 2)')}this._points=a};b.prototype.isCoordinate=function b(a){var c=this;for(var d=0;d<this._points.size();d++){if(c._points.getCoordinate(d).equals(a)){return !0}}return !1};b.prototype.getStartPoint=function a(){if(this.isEmpty()){return null}return this.getPointN(0)};b.prototype.getPointN=function b(a){return this.getFactory().createPoint(this._points.getCoordinate(a))};b.prototype.interfaces_=function a(){return[bJ]};b.prototype.getClass=function a(){return b};c.serialVersionUID.get=function(){return 3110669828065365560};Object.defineProperties(b,c);return b}(a$),ce=function a(){};ce.prototype.interfaces_=function a(){return[]};ce.prototype.getClass=function a(){return ce};var cf=function(a){function b(b,c){a.call(this,c);this._coordinates=b||null;this.init(this._coordinates)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;var c={serialVersionUID:{configurable:!0}};b.prototype.computeEnvelopeInternal=function a(){if(this.isEmpty()){return new aJ()}var b=new aJ();b.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0));return b};b.prototype.getSortIndex=function b(){return a.SORTINDEX_POINT};b.prototype.getCoordinates=function a(){return this.isEmpty()?[]:[this.getCoordinate()]};b.prototype.equalsExact=function b(){if(arguments.length===2){var c=arguments[0],d=arguments[1];if(!this.isEquivalentClass(c)){return !1}if(this.isEmpty()&&c.isEmpty()){return !0}if(this.isEmpty()!==c.isEmpty()){return !1}return this.equal(c.getCoordinate(),this.getCoordinate(),d)}else{return a.prototype.equalsExact.apply(this,arguments)}};b.prototype.normalize=function a(){};b.prototype.getCoordinate=function a(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null};b.prototype.getBoundaryDimension=function a(){return bO.FALSE};b.prototype.getDimension=function a(){return 0};b.prototype.getNumPoints=function a(){return this.isEmpty()?0:1};b.prototype.reverse=function a(){return this.copy()};b.prototype.getX=function a(){if(this.getCoordinate()===null){throw new Error('getX called on empty Point')}return this.getCoordinate().x};b.prototype.compareToSameClass=function a(){if(arguments.length===1){var b=arguments[0],c=b;return this.getCoordinate().compareTo(c.getCoordinate())}else if(arguments.length===2){var d=arguments[0],e=arguments[1],f=d;return e.compare(this._coordinates,f._coordinates)}};b.prototype.apply=function a(){if(at(arguments[0],bc)){var b=arguments[0];if(this.isEmpty()){return null}b.filter(this.getCoordinate())}else if(at(arguments[0],bR)){var c=arguments[0];if(this.isEmpty()){return null}c.filter(this._coordinates,0);c.isGeometryChanged()&&this.geometryChanged()}else if(at(arguments[0],bQ)){var d=arguments[0];d.filter(this)}else if(at(arguments[0],a_)){var e=arguments[0];e.filter(this)}};b.prototype.getBoundary=function a(){return this.getFactory().createGeometryCollection(null)};b.prototype.clone=function b(){var c=a.prototype.clone.call(this);c._coordinates=this._coordinates.clone();return c};b.prototype.getGeometryType=function a(){return'Point'};b.prototype.copy=function a(){return new b(this._coordinates.copy(),this._factory)};b.prototype.getCoordinateSequence=function a(){return this._coordinates};b.prototype.getY=function a(){if(this.getCoordinate()===null){throw new Error('getY called on empty Point')}return this.getCoordinate().y};b.prototype.isEmpty=function a(){return this._coordinates.size()===0};b.prototype.init=function b(a){a===null&&(a=this.getFactory().getCoordinateSequenceFactory().create([]));aS.isTrue(a.size()<=1);this._coordinates=a};b.prototype.isSimple=function a(){return !0};b.prototype.interfaces_=function a(){return[ce]};b.prototype.getClass=function a(){return b};c.serialVersionUID.get=function(){return 4902022702746614570};Object.defineProperties(b,c);return b}(a$),cg=function a(){};cg.prototype.interfaces_=function a(){return[]};cg.prototype.getClass=function a(){return cg};var ci=function(a){function b(b,c,d){a.call(this,d);this._shell=null;this._holes=null;b===null&&(b=this.getFactory().createLinearRing());c===null&&(c=[]);if(a.hasNullElements(c)){throw new ag('holes must not contain null elements')}if(b.isEmpty()&&a.hasNonEmptyElements(c)){throw new ag('shell is empty but holes are not')}this._shell=b;this._holes=c}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;var c={serialVersionUID:{configurable:!0}};b.prototype.computeEnvelopeInternal=function a(){return this._shell.getEnvelopeInternal()};b.prototype.getSortIndex=function b(){return a.SORTINDEX_POLYGON};b.prototype.getCoordinates=function a(){var b=this;if(this.isEmpty()){return[]}var c=new Array(this.getNumPoints()).fill(null),d=-1,e=this._shell.getCoordinates();for(var f=0;f<e.length;f++)d++,c[d]=e[f];for(var g=0;g<this._holes.length;g++){var h=b._holes[g].getCoordinates();for(var i=0;i<h.length;i++)d++,c[d]=h[i]}return c};b.prototype.getArea=function a(){var b=this,c=0.0;c+=Math.abs(aY.signedArea(this._shell.getCoordinateSequence()));for(var d=0;d<this._holes.length;d++)c-=Math.abs(aY.signedArea(b._holes[d].getCoordinateSequence()));return c};b.prototype.isRectangle=function a(){if(this.getNumInteriorRing()!==0){return !1}if(this._shell===null){return !1}if(this._shell.getNumPoints()!==5){return !1}var b=this._shell.getCoordinateSequence(),c=this.getEnvelopeInternal();for(var d=0;d<5;d++){var e=b.getX(d);if(!(e===c.getMinX()||e===c.getMaxX())){return !1}var f=b.getY(d);if(!(f===c.getMinY()||f===c.getMaxY())){return !1}}var g=b.getX(0),h=b.getY(0);for(var i=1;i<=4;i++){var j=b.getX(i),k=b.getY(i),l=j!==g,m=k!==h;if(l===m){return !1}g=j;h=k}return !0};b.prototype.equalsExact=function b(){var c=this;if(arguments.length===2){var d=arguments[0],e=arguments[1];if(!this.isEquivalentClass(d)){return !1}var f=d,g=this._shell,h=f._shell;if(!g.equalsExact(h,e)){return !1}if(this._holes.length!==f._holes.length){return !1}for(var i=0;i<this._holes.length;i++){if(!c._holes[i].equalsExact(f._holes[i],e)){return !1}}return !0}else{return a.prototype.equalsExact.apply(this,arguments)}};b.prototype.normalize=function a(){var b=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var c=0;c<this._holes.length;c++)b.normalize(b._holes[c],!1);bN.sort(this._holes)}else if(arguments.length===2){var d=arguments[0],e=arguments[1];if(d.isEmpty()){return null}var f=new Array(d.getCoordinates().length-1).fill(null);aH.arraycopy(d.getCoordinates(),0,f,0,f.length);var g=br.minCoordinate(d.getCoordinates());br.scroll(f,g);aH.arraycopy(f,0,d.getCoordinates(),0,f.length);d.getCoordinates()[f.length]=f[0];aY.isCCW(d.getCoordinates())===e&&br.reverse(d.getCoordinates())}};b.prototype.getCoordinate=function a(){return this._shell.getCoordinate()};b.prototype.getNumInteriorRing=function a(){return this._holes.length};b.prototype.getBoundaryDimension=function a(){return 1};b.prototype.getDimension=function a(){return 2};b.prototype.getLength=function a(){var b=this,c=0.0;c+=this._shell.getLength();for(var d=0;d<this._holes.length;d++)c+=b._holes[d].getLength();return c};b.prototype.getNumPoints=function a(){var b=this,c=this._shell.getNumPoints();for(var d=0;d<this._holes.length;d++)c+=b._holes[d].getNumPoints();return c};b.prototype.reverse=function a(){var b=this,c=this.copy();c._shell=this._shell.copy().reverse();c._holes=new Array(this._holes.length).fill(null);for(var d=0;d<this._holes.length;d++)c._holes[d]=b._holes[d].copy().reverse();return c};b.prototype.convexHull=function a(){return this.getExteriorRing().convexHull()};b.prototype.compareToSameClass=function a(){var b=this;if(arguments.length===1){var c=arguments[0],d=this._shell,e=c._shell;return d.compareToSameClass(e)}else if(arguments.length===2){var f=arguments[0],g=arguments[1],h=f,i=this._shell,j=h._shell,k=i.compareToSameClass(j,g);if(k!==0){return k}var l=this.getNumInteriorRing(),m=h.getNumInteriorRing(),n=0;while(n<l&&n<m){var o=b.getInteriorRingN(n),p=h.getInteriorRingN(n),q=o.compareToSameClass(p,g);if(q!==0){return q}n++}if(n<l){return 1}if(n<m){return-1}return 0}};b.prototype.apply=function b(a){var c=this;if(at(a,bc)){this._shell.apply(a);for(var d=0;d<this._holes.length;d++)c._holes[d].apply(a)}else if(at(a,bR)){this._shell.apply(a);if(!a.isDone()){for(var e=0;e<this._holes.length;e++){c._holes[e].apply(a);if(a.isDone()){break}}}a.isGeometryChanged()&&this.geometryChanged()}else if(at(a,bQ))a.filter(this);else if(at(a,a_)){a.filter(this);this._shell.apply(a);for(var f=0;f<this._holes.length;f++)c._holes[f].apply(a)}};b.prototype.getBoundary=function a(){var b=this;if(this.isEmpty()){return this.getFactory().createMultiLineString()}var c=new Array(this._holes.length+1).fill(null);c[0]=this._shell;for(var d=0;d<this._holes.length;d++)c[d+1]=b._holes[d];if(c.length<=1){return this.getFactory().createLinearRing(c[0].getCoordinateSequence())}return this.getFactory().createMultiLineString(c)};b.prototype.clone=function b(){var c=this,d=a.prototype.clone.call(this);d._shell=this._shell.clone();d._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)d._holes[e]=c._holes[e].clone();return d};b.prototype.getGeometryType=function a(){return'Polygon'};b.prototype.copy=function a(){var c=this,d=this._shell.copy(),e=new Array(this._holes.length).fill(null);for(var f=0;f<e.length;f++)e[f]=c._holes[f].copy();return new b(d,e,this._factory)};b.prototype.getExteriorRing=function a(){return this._shell};b.prototype.isEmpty=function a(){return this._shell.isEmpty()};b.prototype.getInteriorRingN=function b(a){return this._holes[a]};b.prototype.interfaces_=function a(){return[cg]};b.prototype.getClass=function a(){return b};c.serialVersionUID.get=function(){return-3494792200821764600};Object.defineProperties(b,c);return b}(a$),cj=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;var c={serialVersionUID:{configurable:!0}};b.prototype.getSortIndex=function a(){return a$.SORTINDEX_MULTIPOINT};b.prototype.isValid=function a(){return !0};b.prototype.equalsExact=function b(){if(arguments.length===2){var c=arguments[0],d=arguments[1];if(!this.isEquivalentClass(c)){return !1}return a.prototype.equalsExact.call(this,c,d)}else{return a.prototype.equalsExact.apply(this,arguments)}};b.prototype.getCoordinate=function b(){if(arguments.length===1){var c=arguments[0];return this._geometries[c].getCoordinate()}else{return a.prototype.getCoordinate.apply(this,arguments)}};b.prototype.getBoundaryDimension=function a(){return bO.FALSE};b.prototype.getDimension=function a(){return 0};b.prototype.getBoundary=function a(){return this.getFactory().createGeometryCollection(null)};b.prototype.getGeometryType=function a(){return'MultiPoint'};b.prototype.copy=function a(){var c=this,d=new Array(this._geometries.length).fill(null);for(var e=0;e<d.length;e++)d[e]=c._geometries[e].copy();return new b(d,this._factory)};b.prototype.interfaces_=function a(){return[ce]};b.prototype.getClass=function a(){return b};c.serialVersionUID.get=function(){return-8048474874175356000};Object.defineProperties(b,c);return b}(bS),ck=function(a){function b(b,c){b instanceof an&&c instanceof cA&&(b=c.getCoordinateSequenceFactory().create(b));a.call(this,b,c);this.validateConstruction()}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;var c={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};b.prototype.getSortIndex=function a(){return a$.SORTINDEX_LINEARRING};b.prototype.getBoundaryDimension=function a(){return bO.FALSE};b.prototype.isClosed=function b(){if(this.isEmpty()){return !0}return a.prototype.isClosed.call(this)};b.prototype.reverse=function a(){var b=this._points.copy();cc.reverse(b);var c=this.getFactory().createLinearRing(b);return c};b.prototype.validateConstruction=function c(){if(!this.isEmpty()&&!a.prototype.isClosed.call(this)){throw new ag('Points of LinearRing do not form a closed linestring')}if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<b.MINIMUM_VALID_SIZE){throw new ag('Invalid number of points in LinearRing (found '+this.getCoordinateSequence().size()+' - must be 0 or >= 4)')}};b.prototype.getGeometryType=function a(){return'LinearRing'};b.prototype.copy=function a(){return new b(this._points.copy(),this._factory)};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};c.MINIMUM_VALID_SIZE.get=function(){return 4};c.serialVersionUID.get=function(){return-4261142084085851600};Object.defineProperties(b,c);return b}(cd),cl=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;var c={serialVersionUID:{configurable:!0}};b.prototype.getSortIndex=function a(){return a$.SORTINDEX_MULTIPOLYGON};b.prototype.equalsExact=function b(){if(arguments.length===2){var c=arguments[0],d=arguments[1];if(!this.isEquivalentClass(c)){return !1}return a.prototype.equalsExact.call(this,c,d)}else{return a.prototype.equalsExact.apply(this,arguments)}};b.prototype.getBoundaryDimension=function a(){return 1};b.prototype.getDimension=function a(){return 2};b.prototype.reverse=function a(){var b=this,c=this._geometries.length,d=new Array(c).fill(null);for(var e=0;e<this._geometries.length;e++)d[e]=b._geometries[e].reverse();return this.getFactory().createMultiPolygon(d)};b.prototype.getBoundary=function a(){var b=this;if(this.isEmpty()){return this.getFactory().createMultiLineString()}var c=new bo();for(var d=0;d<this._geometries.length;d++){var e=b._geometries[d],f=e.getBoundary();for(var g=0;g<f.getNumGeometries();g++)c.add(f.getGeometryN(g))}var h=new Array(c.size()).fill(null);return this.getFactory().createMultiLineString(c.toArray(h))};b.prototype.getGeometryType=function a(){return'MultiPolygon'};b.prototype.copy=function a(){var c=this,d=new Array(this._geometries.length).fill(null);for(var e=0;e<d.length;e++)d[e]=c._geometries[e].copy();return new b(d,this._factory)};b.prototype.interfaces_=function a(){return[cg]};b.prototype.getClass=function a(){return b};c.serialVersionUID.get=function(){return-551033529766975900};Object.defineProperties(b,c);return b}(bS),cm=function b(a){this._factory=a||null;this._isUserDataCopied=!1},cn={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};cm.prototype.setCopyUserData=function b(a){this._isUserDataCopied=a};cm.prototype.edit=function c(a,b){if(a===null){return null}var d=this.editInternal(a,b);this._isUserDataCopied&&d.setUserData(a.getUserData());return d};cm.prototype.editInternal=function c(a,b){this._factory===null&&(this._factory=a.getFactory());if(a instanceof bS){return this.editGeometryCollection(a,b)}if(a instanceof ci){return this.editPolygon(a,b)}if(a instanceof cf){return b.edit(a,this._factory)}if(a instanceof cd){return b.edit(a,this._factory)}aS.shouldNeverReachHere('Unsupported Geometry class: '+a.getClass().getName());return null};cm.prototype.editGeometryCollection=function c(a,b){var d=this,e=b.edit(a,this._factory),f=new bo();for(var g=0;g<e.getNumGeometries();g++){var h=d.edit(e.getGeometryN(g),b);if(h===null||h.isEmpty()){continue}f.add(h)}if(e.getClass()===cj){return this._factory.createMultiPoint(f.toArray([]))}if(e.getClass()===bT){return this._factory.createMultiLineString(f.toArray([]))}if(e.getClass()===cl){return this._factory.createMultiPolygon(f.toArray([]))}return this._factory.createGeometryCollection(f.toArray([]))};cm.prototype.editPolygon=function c(a,b){var d=this,e=b.edit(a,this._factory);e===null&&(e=this._factory.createPolygon(null));if(e.isEmpty()){return e}var f=this.edit(e.getExteriorRing(),b);if(f===null||f.isEmpty()){return this._factory.createPolygon()}var g=new bo();for(var h=0;h<e.getNumInteriorRing();h++){var i=d.edit(e.getInteriorRingN(h),b);if(i===null||i.isEmpty()){continue}g.add(i)}return this._factory.createPolygon(f,g.toArray([]))};cm.prototype.interfaces_=function a(){return[]};cm.prototype.getClass=function a(){return cm};cm.GeometryEditorOperation=function a(){};cn.NoOpGeometryOperation.get=function(){return co};cn.CoordinateOperation.get=function(){return cp};cn.CoordinateSequenceOperation.get=function(){return cq};Object.defineProperties(cm,cn);var co=function a(){};co.prototype.edit=function c(a,b){return a};co.prototype.interfaces_=function a(){return[cm.GeometryEditorOperation]};co.prototype.getClass=function a(){return co};var cp=function a(){};cp.prototype.edit=function c(a,b){var d=this.editCoordinates(a.getCoordinates(),a);if(d===null){return a}if(a instanceof ck){return b.createLinearRing(d)}if(a instanceof cd){return b.createLineString(d)}if(a instanceof cf){if(d.length>0){return b.createPoint(d[0])}else{return b.createPoint()}}return a};cp.prototype.interfaces_=function a(){return[cm.GeometryEditorOperation]};cp.prototype.getClass=function a(){return cp};var cq=function a(){};cq.prototype.edit=function c(a,b){if(a instanceof ck){return b.createLinearRing(this.edit(a.getCoordinateSequence(),a))}if(a instanceof cd){return b.createLineString(this.edit(a.getCoordinateSequence(),a))}if(a instanceof cf){return b.createPoint(this.edit(a.getCoordinateSequence(),a))}return a};cq.prototype.interfaces_=function a(){return[cm.GeometryEditorOperation]};cq.prototype.getClass=function a(){return cq};var cr=function a(){var b=this;this._dimension=3;this._coordinates=null;if(arguments.length===1){if(arguments[0] instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var c=arguments[0];this._coordinates=new Array(c).fill(null);for(var d=0;d<c;d++)b._coordinates[d]=new an()}else if(at(arguments[0],aD)){var e=arguments[0];if(e===null){this._coordinates=new Array(0).fill(null);return null}this._dimension=e.getDimension();this._coordinates=new Array(e.size()).fill(null);for(var f=0;f<this._coordinates.length;f++)b._coordinates[f]=e.getCoordinateCopy(f)}}else if(arguments.length===2){if(arguments[0] instanceof Array&&Number.isInteger(arguments[1])){var g=arguments[0],h=arguments[1];this._coordinates=g;this._dimension=h;g===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],j=arguments[1];this._coordinates=new Array(i).fill(null);this._dimension=j;for(var k=0;k<i;k++)b._coordinates[k]=new an()}}},cs={serialVersionUID:{configurable:!0}};cr.prototype.setOrdinate=function d(a,b,c){switch(b){case aD.X:this._coordinates[a].x=c;break;case aD.Y:this._coordinates[a].y=c;break;case aD.Z:this._coordinates[a].z=c;break;default:throw new ag('invalid ordinateIndex')}};cr.prototype.size=function a(){return this._coordinates.length};cr.prototype.getOrdinate=function c(a,b){switch(b){case aD.X:return this._coordinates[a].x;case aD.Y:return this._coordinates[a].y;case aD.Z:return this._coordinates[a].z;default:};return ah.NaN};cr.prototype.getCoordinate=function a(){if(arguments.length===1){var b=arguments[0];return this._coordinates[b]}else if(arguments.length===2){var c=arguments[0],d=arguments[1];d.x=this._coordinates[c].x;d.y=this._coordinates[c].y;d.z=this._coordinates[c].z}};cr.prototype.getCoordinateCopy=function b(a){return new an(this._coordinates[a])};cr.prototype.getDimension=function a(){return this._dimension};cr.prototype.getX=function b(a){return this._coordinates[a].x};cr.prototype.clone=function a(){var b=this,c=new Array(this.size()).fill(null);for(var d=0;d<this._coordinates.length;d++)c[d]=b._coordinates[d].clone();return new cr(c,this._dimension)};cr.prototype.expandEnvelope=function b(a){var c=this;for(var d=0;d<this._coordinates.length;d++)a.expandToInclude(c._coordinates[d]);return a};cr.prototype.copy=function a(){var b=this,c=new Array(this.size()).fill(null);for(var d=0;d<this._coordinates.length;d++)c[d]=b._coordinates[d].copy();return new cr(c,this._dimension)};cr.prototype.toString=function a(){var b=this;if(this._coordinates.length>0){var c=new aw(17*this._coordinates.length);c.append('(');c.append(this._coordinates[0]);for(var d=1;d<this._coordinates.length;d++)c.append(', '),c.append(b._coordinates[d]);c.append(')');return c.toString()}else{return'()'}};cr.prototype.getY=function b(a){return this._coordinates[a].y};cr.prototype.toCoordinateArray=function a(){return this._coordinates};cr.prototype.interfaces_=function a(){return[aD,am]};cr.prototype.getClass=function a(){return cr};cs.serialVersionUID.get=function(){return-915438501601840600};Object.defineProperties(cr,cs);var ct=function a(){},cu={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};ct.prototype.readResolve=function a(){return ct.instance()};ct.prototype.create=function a(){if(arguments.length===1){if(arguments[0] instanceof Array){var b=arguments[0];return new cr(b)}else if(at(arguments[0],aD)){var c=arguments[0];return new cr(c)}}else if(arguments.length===2){var d=arguments[0],e=arguments[1];e>3&&(e=3);if(e<2){return new cr(d)}return new cr(d,e)}};ct.prototype.interfaces_=function a(){return[aq,am]};ct.prototype.getClass=function a(){return ct};ct.instance=function a(){return ct.instanceObject};cu.serialVersionUID.get=function(){return-4099577099607551500};cu.instanceObject.get=function(){return new ct()};Object.defineProperties(ct,cu);var cv=function(a){function b(){a.call(this);this.map_=new Map()}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.get=function b(a){return this.map_.get(a)||null};b.prototype.put=function c(a,b){this.map_.set(a,b);return b};b.prototype.values=function a(){var b=new bo(),c=this.map_.values(),d=c.next();while(!d.done)b.add(d.value),d=c.next();return b};b.prototype.entrySet=function a(){var b=new bz();this.map_.entries().forEach(function(a){return b.add(a)});return b};b.prototype.size=function a(){return this.map_.size()};return b}(bv),cw=function a(){this._modelType=null;this._scale=null;if(arguments.length===0)this._modelType=a.FLOATING;else if(arguments.length===1){if(arguments[0] instanceof cy){var b=arguments[0];this._modelType=b;b===a.FIXED&&this.setScale(1.0)}else if(typeof arguments[0]==='number'){var c=arguments[0];this._modelType=a.FIXED;this.setScale(c)}else if(arguments[0] instanceof a){var d=arguments[0];this._modelType=d._modelType;this._scale=d._scale}}},cx={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};cw.prototype.equals=function b(a){if(!(a instanceof cw)){return !1}var c=a;return this._modelType===c._modelType&&this._scale===c._scale};cw.prototype.compareTo=function b(a){var c=a,d=this.getMaximumSignificantDigits(),e=c.getMaximumSignificantDigits();return new ax(d).compareTo(new ax(e))};cw.prototype.getScale=function a(){return this._scale};cw.prototype.isFloating=function a(){return this._modelType===cw.FLOATING||this._modelType===cw.FLOATING_SINGLE};cw.prototype.getType=function a(){return this._modelType};cw.prototype.toString=function a(){var b='UNKNOWN';this._modelType===cw.FLOATING?(b='Floating'):this._modelType===cw.FLOATING_SINGLE?(b='Floating-Single'):this._modelType===cw.FIXED&&(b='Fixed (Scale='+this.getScale()+')');return b};cw.prototype.makePrecise=function a(){if(typeof arguments[0]==='number'){var b=arguments[0];if(ah.isNaN(b)){return b}if(this._modelType===cw.FLOATING_SINGLE){var c=b;return c}if(this._modelType===cw.FIXED){return Math.round(b*this._scale)/this._scale}return b}else if(arguments[0] instanceof an){var d=arguments[0];if(this._modelType===cw.FLOATING){return null}d.x=this.makePrecise(d.x);d.y=this.makePrecise(d.y)}};cw.prototype.getMaximumSignificantDigits=function a(){var b=16;this._modelType===cw.FLOATING?(b=16):this._modelType===cw.FLOATING_SINGLE?(b=6):this._modelType===cw.FIXED&&(b=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10))));return b};cw.prototype.setScale=function b(a){this._scale=Math.abs(a)};cw.prototype.interfaces_=function a(){return[am,aj]};cw.prototype.getClass=function a(){return cw};cw.mostPrecise=function c(a,b){if(a.compareTo(b)>=0){return a}return b};cx.serialVersionUID.get=function(){return 7777263578777803835};cx.maximumPreciseValue.get=function(){return 9007199254740992.0};Object.defineProperties(cw,cx);var cy=function b(a){this._name=a||null;b.nameToTypeMap.put(a,this)},cz={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};cy.prototype.readResolve=function a(){return cy.nameToTypeMap.get(this._name)};cy.prototype.toString=function a(){return this._name};cy.prototype.interfaces_=function a(){return[am]};cy.prototype.getClass=function a(){return cy};cz.serialVersionUID.get=function(){return-5528602631731590000};cz.nameToTypeMap.get=function(){return new cv()};Object.defineProperties(cy,cz);cw.Type=cy;cw.FIXED=new cy('FIXED');cw.FLOATING=new cy('FLOATING');cw.FLOATING_SINGLE=new cy('FLOATING SINGLE');var cA=function a(){this._precisionModel=new cw();this._SRID=0;this._coordinateSequenceFactory=a.getDefaultCoordinateSequenceFactory();arguments.length===0||(arguments.length===1?(at(arguments[0],aq)?(this._coordinateSequenceFactory=arguments[0]):arguments[0] instanceof cw&&(this._precisionModel=arguments[0])):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},cB={serialVersionUID:{configurable:!0}};cA.prototype.toGeometry=function b(a){if(a.isNull()){return this.createPoint(null)}if(a.getMinX()===a.getMaxX()&&a.getMinY()===a.getMaxY()){return this.createPoint(new an(a.getMinX(),a.getMinY()))}if(a.getMinX()===a.getMaxX()||a.getMinY()===a.getMaxY()){return this.createLineString([new an(a.getMinX(),a.getMinY()),new an(a.getMaxX(),a.getMaxY())])}return this.createPolygon(this.createLinearRing([new an(a.getMinX(),a.getMinY()),new an(a.getMinX(),a.getMaxY()),new an(a.getMaxX(),a.getMaxY()),new an(a.getMaxX(),a.getMinY()),new an(a.getMinX(),a.getMinY())]),null)};cA.prototype.createLineString=function b(a){if(!a){return new cd(this.getCoordinateSequenceFactory().create([]),this)}else if(a instanceof Array){return new cd(this.getCoordinateSequenceFactory().create(a),this)}else if(at(a,aD)){return new cd(a,this)}};cA.prototype.createMultiLineString=function a(){if(arguments.length===0){return new bT(null,this)}else if(arguments.length===1){var b=arguments[0];return new bT(b,this)}};cA.prototype.buildGeometry=function b(a){var c=null,d=!1,e=!1;for(var f=a.iterator();f.hasNext();){var g=f.next(),h=g.getClass();c===null&&(c=h);h!==c&&(d=!0);g.isGeometryCollectionOrDerived()&&(e=!0)}if(c===null){return this.createGeometryCollection()}if(d||e){return this.createGeometryCollection(cA.toGeometryArray(a))}var i=a.iterator().next(),j=a.size()>1;if(j){if(i instanceof ci){return this.createMultiPolygon(cA.toPolygonArray(a))}else if(i instanceof cd){return this.createMultiLineString(cA.toLineStringArray(a))}else if(i instanceof cf){return this.createMultiPoint(cA.toPointArray(a))};aS.shouldNeverReachHere('Unhandled class: '+i.getClass().getName())}return i};cA.prototype.createMultiPointFromCoords=function b(a){return this.createMultiPoint(a!==null?this.getCoordinateSequenceFactory().create(a):null)};cA.prototype.createPoint=function a(){if(arguments.length===0){return this.createPoint(this.getCoordinateSequenceFactory().create([]))}else if(arguments.length===1){if(arguments[0] instanceof an){var b=arguments[0];return this.createPoint(b!==null?this.getCoordinateSequenceFactory().create([b]):null)}else if(at(arguments[0],aD)){var c=arguments[0];return new cf(c,this)}}};cA.prototype.getCoordinateSequenceFactory=function a(){return this._coordinateSequenceFactory};cA.prototype.createPolygon=function a(){if(arguments.length===0){return new ci(null,null,this)}else if(arguments.length===1){if(at(arguments[0],aD)){var b=arguments[0];return this.createPolygon(this.createLinearRing(b))}else if(arguments[0] instanceof Array){var c=arguments[0];return this.createPolygon(this.createLinearRing(c))}else if(arguments[0] instanceof ck){var d=arguments[0];return this.createPolygon(d,null)}}else if(arguments.length===2){var e=arguments[0],f=arguments[1];return new ci(e,f,this)}};cA.prototype.getSRID=function a(){return this._SRID};cA.prototype.createGeometryCollection=function a(){if(arguments.length===0){return new bS(null,this)}else if(arguments.length===1){var b=arguments[0];return new bS(b,this)}};cA.prototype.createGeometry=function b(a){var c=new cm(this);return c.edit(a,{edit:function(){if(arguments.length===2){var a=arguments[0];return this._coordinateSequenceFactory.create(a)}}})};cA.prototype.getPrecisionModel=function a(){return this._precisionModel};cA.prototype.createLinearRing=function a(){if(arguments.length===0){return this.createLinearRing(this.getCoordinateSequenceFactory().create([]))}else if(arguments.length===1){if(arguments[0] instanceof Array){var b=arguments[0];return this.createLinearRing(b!==null?this.getCoordinateSequenceFactory().create(b):null)}else if(at(arguments[0],aD)){var c=arguments[0];return new ck(c,this)}}};cA.prototype.createMultiPolygon=function a(){if(arguments.length===0){return new cl(null,this)}else if(arguments.length===1){var b=arguments[0];return new cl(b,this)}};cA.prototype.createMultiPoint=function a(){var b=this;if(arguments.length===0){return new cj(null,this)}else if(arguments.length===1){if(arguments[0] instanceof Array){var c=arguments[0];return new cj(c,this)}else if(arguments[0] instanceof Array){var d=arguments[0];return this.createMultiPoint(d!==null?this.getCoordinateSequenceFactory().create(d):null)}else if(at(arguments[0],aD)){var e=arguments[0];if(e===null){return this.createMultiPoint(new Array(0).fill(null))}var f=new Array(e.size()).fill(null);for(var g=0;g<e.size();g++){var h=b.getCoordinateSequenceFactory().create(1,e.getDimension());cc.copy(e,g,h,0,1);f[g]=b.createPoint(h)}return this.createMultiPoint(f)}}};cA.prototype.interfaces_=function a(){return[am]};cA.prototype.getClass=function a(){return cA};cA.toMultiPolygonArray=function b(a){var c=new Array(a.size()).fill(null);return a.toArray(c)};cA.toGeometryArray=function b(a){if(a===null){return null}var c=new Array(a.size()).fill(null);return a.toArray(c)};cA.getDefaultCoordinateSequenceFactory=function a(){return ct.instance()};cA.toMultiLineStringArray=function b(a){var c=new Array(a.size()).fill(null);return a.toArray(c)};cA.toLineStringArray=function b(a){var c=new Array(a.size()).fill(null);return a.toArray(c)};cA.toMultiPointArray=function b(a){var c=new Array(a.size()).fill(null);return a.toArray(c)};cA.toLinearRingArray=function b(a){var c=new Array(a.size()).fill(null);return a.toArray(c)};cA.toPointArray=function b(a){var c=new Array(a.size()).fill(null);return a.toArray(c)};cA.toPolygonArray=function b(a){var c=new Array(a.size()).fill(null);return a.toArray(c)};cA.createPointFromInternalCoord=function c(a,b){b.getPrecisionModel().makePrecise(a);return b.getFactory().createPoint(a)};cB.serialVersionUID.get=function(){return-6820524753094096000};Object.defineProperties(cA,cB);var cC=function a(){},cD={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};cC.prototype.interfaces_=function a(){return[]};cC.prototype.getClass=function a(){return cC};cC.opposite=function b(a){if(a===cC.LEFT){return cC.RIGHT}if(a===cC.RIGHT){return cC.LEFT}return a};cD.ON.get=function(){return 0};cD.LEFT.get=function(){return 1};cD.RIGHT.get=function(){return 2};Object.defineProperties(cC,cD);function cE(a){this.message=a||''}cE.prototype=new Error();cE.prototype.name='EmptyStackException';function cF(){this.array_=[]}cF.prototype=new bm();cF.prototype.add=function(a){this.array_.push(a);return !0};cF.prototype.get=function(a){if(a<0||a>=this.size()){throw new Error()}return this.array_[a]};cF.prototype.push=function(a){this.array_.push(a);return a};cF.prototype.pop=function(a){if(this.array_.length===0){throw new cE()}return this.array_.pop()};cF.prototype.peek=function(){if(this.array_.length===0){throw new cE()}return this.array_[this.array_.length-1]};cF.prototype.empty=function(){if(this.array_.length===0){return !0}else{return !1}};cF.prototype.isEmpty=function(){return this.empty()};cF.prototype.search=function(a){return this.array_.indexOf(a)};cF.prototype.size=function(){return this.array_.length};cF.prototype.toArray=function(){var a=this,b=[];for(var c=0,d=this.array_.length;c<d;c++)b.push(a.array_[c]);return b};var cG=function a(){this._minIndex=-1;this._minCoord=null;this._minDe=null;this._orientedDe=null};cG.prototype.getCoordinate=function a(){return this._minCoord};cG.prototype.getRightmostSide=function c(a,b){var d=this.getRightmostSideOfSegment(a,b);d<0&&(d=this.getRightmostSideOfSegment(a,b-1));d<0&&(this._minCoord=null,this.checkForRightmostCoordinate(a));return d};cG.prototype.findRightmostEdgeAtVertex=function a(){var b=this._minDe.getEdge().getCoordinates();aS.isTrue(this._minIndex>0&&this._minIndex<b.length,'rightmost point expected to be interior vertex of edge');var c=b[this._minIndex-1],d=b[this._minIndex+1],e=aY.computeOrientation(this._minCoord,d,c),f=!1;c.y<this._minCoord.y&&d.y<this._minCoord.y&&e===aY.COUNTERCLOCKWISE?(f=!0):c.y>this._minCoord.y&&d.y>this._minCoord.y&&e===aY.CLOCKWISE&&(f=!0);f&&(this._minIndex=this._minIndex-1)};cG.prototype.getRightmostSideOfSegment=function c(a,b){var d=a.getEdge(),e=d.getCoordinates();if(b<0||b+1>=e.length){return-1}if(e[b].y===e[b+1].y){return-1}var f=cC.LEFT;e[b].y<e[b+1].y&&(f=cC.RIGHT);return f};cG.prototype.getEdge=function a(){return this._orientedDe};cG.prototype.checkForRightmostCoordinate=function b(a){var c=this,d=a.getEdge().getCoordinates();for(var e=0;e<d.length-1;e++)(c._minCoord===null||d[e].x>c._minCoord.x)&&(c._minDe=a,c._minIndex=e,c._minCoord=d[e])};cG.prototype.findRightmostEdgeAtNode=function a(){var b=this._minDe.getNode(),c=b.getEdges();this._minDe=c.getRightmostEdge();this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)};cG.prototype.findEdge=function b(a){var c=this;for(var d=a.iterator();d.hasNext();){var e=d.next();if(!e.isForward()){continue}c.checkForRightmostCoordinate(e)}aS.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),'inconsistency in rightmost processing');this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex();this._orientedDe=this._minDe;var f=this.getRightmostSide(this._minDe,this._minIndex);f===cC.LEFT&&(this._orientedDe=this._minDe.getSym())};cG.prototype.interfaces_=function a(){return[]};cG.prototype.getClass=function a(){return cG};var cH=function(a){function b(c,d){a.call(this,b.msgWithCoord(c,d));this.pt=d?new an(d):null;this.name='TopologyException'}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getCoordinate=function a(){return this.pt};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};b.msgWithCoord=function c(a,b){if(!b){return a+' [ '+b+' ]'}return a};return b}(aQ),cI=function a(){this.array_=[]};cI.prototype.addLast=function b(a){this.array_.push(a)};cI.prototype.removeFirst=function a(){return this.array_.shift()};cI.prototype.isEmpty=function a(){return this.array_.length===0};var cJ=function a(){this._finder=null;this._dirEdgeList=new bo();this._nodes=new bo();this._rightMostCoord=null;this._env=null;this._finder=new cG()};cJ.prototype.clearVisitedEdges=function a(){for(var b=this._dirEdgeList.iterator();b.hasNext();){var c=b.next();c.setVisited(!1)}};cJ.prototype.getRightmostCoordinate=function a(){return this._rightMostCoord};cJ.prototype.computeNodeDepth=function b(a){var c=this,d=null;for(var e=a.getEdges().iterator();e.hasNext();){var f=e.next();if(f.isVisited()||f.getSym().isVisited()){d=f;break}}if(d===null){throw new cH('unable to find edge to compute depths at '+a.getCoordinate())}a.getEdges().computeDepths(d);for(var g=a.getEdges().iterator();g.hasNext();){var h=g.next();h.setVisited(!0);c.copySymDepths(h)}};cJ.prototype.computeDepth=function b(a){this.clearVisitedEdges();var c=this._finder.getEdge();c.setEdgeDepths(cC.RIGHT,a);this.copySymDepths(c);this.computeDepths(c)};cJ.prototype.create=function b(a){this.addReachable(a);this._finder.findEdge(this._dirEdgeList);this._rightMostCoord=this._finder.getCoordinate()};cJ.prototype.findResultEdges=function a(){for(var b=this._dirEdgeList.iterator();b.hasNext();){var c=b.next();c.getDepth(cC.RIGHT)>=1&&c.getDepth(cC.LEFT)<=0&&!c.isInteriorAreaEdge()&&c.setInResult(!0)}};cJ.prototype.computeDepths=function b(a){var c=this,d=new bz(),e=new cI(),f=a.getNode();e.addLast(f);d.add(f);a.setVisited(!0);while(!e.isEmpty()){var g=e.removeFirst();d.add(g);c.computeNodeDepth(g);for(var h=g.getEdges().iterator();h.hasNext();){var i=h.next(),j=i.getSym();if(j.isVisited()){continue}var k=j.getNode();d.contains(k)||(e.addLast(k),d.add(k))}}};cJ.prototype.compareTo=function b(a){var c=a;if(this._rightMostCoord.x<c._rightMostCoord.x){return-1}if(this._rightMostCoord.x>c._rightMostCoord.x){return 1}return 0};cJ.prototype.getEnvelope=function a(){if(this._env===null){var b=new aJ();for(var c=this._dirEdgeList.iterator();c.hasNext();){var d=c.next(),e=d.getEdge().getCoordinates();for(var f=0;f<e.length-1;f++)b.expandToInclude(e[f])}this._env=b}return this._env};cJ.prototype.addReachable=function b(a){var c=this,d=new cF();d.add(a);while(!d.empty()){var e=d.pop();c.add(e,d)}};cJ.prototype.copySymDepths=function b(a){var c=a.getSym();c.setDepth(cC.LEFT,a.getDepth(cC.RIGHT));c.setDepth(cC.RIGHT,a.getDepth(cC.LEFT))};cJ.prototype.add=function c(a,b){var d=this;a.setVisited(!0);this._nodes.add(a);for(var e=a.getEdges().iterator();e.hasNext();){var f=e.next();d._dirEdgeList.add(f);var g=f.getSym(),h=g.getNode();h.isVisited()||b.push(h)}};cJ.prototype.getNodes=function a(){return this._nodes};cJ.prototype.getDirectedEdges=function a(){return this._dirEdgeList};cJ.prototype.interfaces_=function a(){return[aj]};cJ.prototype.getClass=function a(){return cJ};var cK=function a(){var b=this;this.location=null;if(arguments.length===1){if(arguments[0] instanceof Array){var c=arguments[0];this.init(c.length)}else if(Number.isInteger(arguments[0])){var d=arguments[0];this.init(1);this.location[cC.ON]=d}else if(arguments[0] instanceof a){var e=arguments[0];this.init(e.location.length);if(e!==null){for(var f=0;f<this.location.length;f++)b.location[f]=e.location[f]}}}else if(arguments.length===3){var g=arguments[0],h=arguments[1],i=arguments[2];this.init(3);this.location[cC.ON]=g;this.location[cC.LEFT]=h;this.location[cC.RIGHT]=i}};cK.prototype.setAllLocations=function b(a){var c=this;for(var d=0;d<this.location.length;d++)c.location[d]=a};cK.prototype.isNull=function a(){var b=this;for(var c=0;c<this.location.length;c++){if(b.location[c]!==ar.NONE){return !1}}return !0};cK.prototype.setAllLocationsIfNull=function b(a){var c=this;for(var d=0;d<this.location.length;d++)c.location[d]===ar.NONE&&(c.location[d]=a)};cK.prototype.isLine=function a(){return this.location.length===1};cK.prototype.merge=function b(a){var c=this;if(a.location.length>this.location.length){var d=new Array(3).fill(null);d[cC.ON]=this.location[cC.ON];d[cC.LEFT]=ar.NONE;d[cC.RIGHT]=ar.NONE;this.location=d}for(var e=0;e<this.location.length;e++)c.location[e]===ar.NONE&&e<a.location.length&&(c.location[e]=a.location[e])};cK.prototype.getLocations=function a(){return this.location};cK.prototype.flip=function a(){if(this.location.length<=1){return null}var b=this.location[cC.LEFT];this.location[cC.LEFT]=this.location[cC.RIGHT];this.location[cC.RIGHT]=b};cK.prototype.toString=function a(){var b=new aw();this.location.length>1&&b.append(ar.toLocationSymbol(this.location[cC.LEFT]));b.append(ar.toLocationSymbol(this.location[cC.ON]));this.location.length>1&&b.append(ar.toLocationSymbol(this.location[cC.RIGHT]));return b.toString()};cK.prototype.setLocations=function d(a,b,c){this.location[cC.ON]=a;this.location[cC.LEFT]=b;this.location[cC.RIGHT]=c};cK.prototype.get=function b(a){if(a<this.location.length){return this.location[a]}return ar.NONE};cK.prototype.isArea=function a(){return this.location.length>1};cK.prototype.isAnyNull=function a(){var b=this;for(var c=0;c<this.location.length;c++){if(b.location[c]===ar.NONE){return !0}}return !1};cK.prototype.setLocation=function a(){if(arguments.length===1){var b=arguments[0];this.setLocation(cC.ON,b)}else if(arguments.length===2){var c=arguments[0],d=arguments[1];this.location[c]=d}};cK.prototype.init=function b(a){this.location=new Array(a).fill(null);this.setAllLocations(ar.NONE)};cK.prototype.isEqualOnSide=function c(a,b){return this.location[b]===a.location[b]};cK.prototype.allPositionsEqual=function b(a){var c=this;for(var d=0;d<this.location.length;d++){if(c.location[d]!==a){return !1}}return !0};cK.prototype.interfaces_=function a(){return[]};cK.prototype.getClass=function a(){return cK};var cL=function a(){this.elt=new Array(2).fill(null);if(arguments.length===1){if(Number.isInteger(arguments[0])){var b=arguments[0];this.elt[0]=new cK(b);this.elt[1]=new cK(b)}else if(arguments[0] instanceof a){var c=arguments[0];this.elt[0]=new cK(c.elt[0]);this.elt[1]=new cK(c.elt[1])}}else if(arguments.length===2){var d=arguments[0],e=arguments[1];this.elt[0]=new cK(ar.NONE);this.elt[1]=new cK(ar.NONE);this.elt[d].setLocation(e)}else if(arguments.length===3){var f=arguments[0],g=arguments[1],h=arguments[2];this.elt[0]=new cK(f,g,h);this.elt[1]=new cK(f,g,h)}else if(arguments.length===4){var i=arguments[0],j=arguments[1],k=arguments[2],l=arguments[3];this.elt[0]=new cK(ar.NONE,ar.NONE,ar.NONE);this.elt[1]=new cK(ar.NONE,ar.NONE,ar.NONE);this.elt[i].setLocations(j,k,l)}};cL.prototype.getGeometryCount=function a(){var b=0;this.elt[0].isNull()||b++;this.elt[1].isNull()||b++;return b};cL.prototype.setAllLocations=function c(a,b){this.elt[a].setAllLocations(b)};cL.prototype.isNull=function b(a){return this.elt[a].isNull()};cL.prototype.setAllLocationsIfNull=function a(){if(arguments.length===1){var b=arguments[0];this.setAllLocationsIfNull(0,b);this.setAllLocationsIfNull(1,b)}else if(arguments.length===2){var c=arguments[0],d=arguments[1];this.elt[c].setAllLocationsIfNull(d)}};cL.prototype.isLine=function b(a){return this.elt[a].isLine()};cL.prototype.merge=function b(a){var c=this;for(var d=0;d<2;d++)c.elt[d]===null&&a.elt[d]!==null?(c.elt[d]=new cK(a.elt[d])):c.elt[d].merge(a.elt[d])};cL.prototype.flip=function a(){this.elt[0].flip();this.elt[1].flip()};cL.prototype.getLocation=function a(){if(arguments.length===1){var b=arguments[0];return this.elt[b].get(cC.ON)}else if(arguments.length===2){var c=arguments[0],d=arguments[1];return this.elt[c].get(d)}};cL.prototype.toString=function a(){var b=new aw();this.elt[0]!==null&&(b.append('A:'),b.append(this.elt[0].toString()));this.elt[1]!==null&&(b.append(' B:'),b.append(this.elt[1].toString()));return b.toString()};cL.prototype.isArea=function a(){if(arguments.length===0){return this.elt[0].isArea()||this.elt[1].isArea()}else if(arguments.length===1){var b=arguments[0];return this.elt[b].isArea()}};cL.prototype.isAnyNull=function b(a){return this.elt[a].isAnyNull()};cL.prototype.setLocation=function a(){if(arguments.length===2){var b=arguments[0],c=arguments[1];this.elt[b].setLocation(cC.ON,c)}else if(arguments.length===3){var d=arguments[0],e=arguments[1],f=arguments[2];this.elt[d].setLocation(e,f)}};cL.prototype.isEqualOnSide=function c(a,b){return this.elt[0].isEqualOnSide(a.elt[0],b)&&this.elt[1].isEqualOnSide(a.elt[1],b)};cL.prototype.allPositionsEqual=function c(a,b){return this.elt[a].allPositionsEqual(b)};cL.prototype.toLine=function b(a){this.elt[a].isArea()&&(this.elt[a]=new cK(this.elt[a].location[0]))};cL.prototype.interfaces_=function a(){return[]};cL.prototype.getClass=function a(){return cL};cL.toLineLabel=function b(a){var c=new cL(ar.NONE);for(var d=0;d<2;d++)c.setLocation(d,a.getLocation(d));return c};var cM=function a(){this._startDe=null;this._maxNodeDegree=-1;this._edges=new bo();this._pts=new bo();this._label=new cL(ar.NONE);this._ring=null;this._isHole=null;this._shell=null;this._holes=new bo();this._geometryFactory=null;var b=arguments[0],c=arguments[1];this._geometryFactory=c;this.computePoints(b);this.computeRing()};cM.prototype.computeRing=function a(){var b=this;if(this._ring!==null){return null}var c=new Array(this._pts.size()).fill(null);for(var d=0;d<this._pts.size();d++)c[d]=b._pts.get(d);this._ring=this._geometryFactory.createLinearRing(c);this._isHole=aY.isCCW(this._ring.getCoordinates())};cM.prototype.isIsolated=function a(){return this._label.getGeometryCount()===1};cM.prototype.computePoints=function b(a){var c=this;this._startDe=a;var d=a,e=!0;do{if(d===null){throw new cH('Found null DirectedEdge')}if(d.getEdgeRing()===c){throw new cH('Directed Edge visited twice during ring-building at '+d.getCoordinate())}c._edges.add(d);var f=d.getLabel();aS.isTrue(f.isArea());c.mergeLabel(f);c.addPoints(d.getEdge(),d.isForward(),e);e=!1;c.setEdgeRing(d,c);d=c.getNext(d)}while(d!==this._startDe)};cM.prototype.getLinearRing=function a(){return this._ring};cM.prototype.getCoordinate=function b(a){return this._pts.get(a)};cM.prototype.computeMaxNodeDegree=function a(){var b=this;this._maxNodeDegree=0;var c=this._startDe;do{var d=c.getNode(),e=d.getEdges().getOutgoingDegree(b);e>b._maxNodeDegree&&(b._maxNodeDegree=e);c=b.getNext(c)}while(c!==this._startDe);this._maxNodeDegree*=2};cM.prototype.addPoints=function d(a,b,c){var e=this,f=a.getCoordinates();if(b){var g=1;c&&(g=0);for(var h=g;h<f.length;h++)e._pts.add(f[h])}else{var i=f.length-2;c&&(i=f.length-1);for(var j=i;j>=0;j--)e._pts.add(f[j])}};cM.prototype.isHole=function a(){return this._isHole};cM.prototype.setInResult=function a(){var b=this._startDe;do{b.getEdge().setInResult(!0),b=b.getNext()}while(b!==this._startDe)};cM.prototype.containsPoint=function b(a){var c=this.getLinearRing(),d=c.getEnvelopeInternal();if(!d.contains(a)){return !1}if(!aY.isPointInRing(a,c.getCoordinates())){return !1}for(var e=this._holes.iterator();e.hasNext();){var f=e.next();if(f.containsPoint(a)){return !1}}return !0};cM.prototype.addHole=function b(a){this._holes.add(a)};cM.prototype.isShell=function a(){return this._shell===null};cM.prototype.getLabel=function a(){return this._label};cM.prototype.getEdges=function a(){return this._edges};cM.prototype.getMaxNodeDegree=function a(){this._maxNodeDegree<0&&this.computeMaxNodeDegree();return this._maxNodeDegree};cM.prototype.getShell=function a(){return this._shell};cM.prototype.mergeLabel=function a(){if(arguments.length===1){var b=arguments[0];this.mergeLabel(b,0);this.mergeLabel(b,1)}else if(arguments.length===2){var c=arguments[0],d=arguments[1],e=c.getLocation(d,cC.RIGHT);if(e===ar.NONE){return null}if(this._label.getLocation(d)===ar.NONE){this._label.setLocation(d,e);return null}}};cM.prototype.setShell=function b(a){this._shell=a;a!==null&&a.addHole(this)};cM.prototype.toPolygon=function b(a){var c=this,d=new Array(this._holes.size()).fill(null);for(var e=0;e<this._holes.size();e++)d[e]=c._holes.get(e).getLinearRing();var f=a.createPolygon(this.getLinearRing(),d);return f};cM.prototype.interfaces_=function a(){return[]};cM.prototype.getClass=function a(){return cM};var cN=function(a){function b(){var b=arguments[0],c=arguments[1];a.call(this,b,c)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.setEdgeRing=function c(a,b){a.setMinEdgeRing(b)};b.prototype.getNext=function b(a){return a.getNextMin()};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};return b}(cM),cO=function(a){function b(){var b=arguments[0],c=arguments[1];a.call(this,b,c)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.buildMinimalRings=function a(){var b=this,c=new bo(),d=this._startDe;do{if(d.getMinEdgeRing()===null){var e=new cN(d,b._geometryFactory);c.add(e)}d=d.getNext()}while(d!==this._startDe);return c};b.prototype.setEdgeRing=function c(a,b){a.setEdgeRing(b)};b.prototype.linkDirectedEdgesForMinimalEdgeRings=function a(){var b=this,c=this._startDe;do{var d=c.getNode();d.getEdges().linkMinimalDirectedEdges(b);c=c.getNext()}while(c!==this._startDe)};b.prototype.getNext=function b(a){return a.getNext()};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};return b}(cM),cP=function a(){this._label=null;this._isInResult=!1;this._isCovered=!1;this._isCoveredSet=!1;this._isVisited=!1;if(!arguments.length===0)if(arguments.length===1){var b=arguments[0];this._label=b}};cP.prototype.setVisited=function b(a){this._isVisited=a};cP.prototype.setInResult=function b(a){this._isInResult=a};cP.prototype.isCovered=function a(){return this._isCovered};cP.prototype.isCoveredSet=function a(){return this._isCoveredSet};cP.prototype.setLabel=function b(a){this._label=a};cP.prototype.getLabel=function a(){return this._label};cP.prototype.setCovered=function b(a){this._isCovered=a;this._isCoveredSet=!0};cP.prototype.updateIM=function b(a){aS.isTrue(this._label.getGeometryCount()>=2,'found partial label');this.computeIM(a)};cP.prototype.isInResult=function a(){return this._isInResult};cP.prototype.isVisited=function a(){return this._isVisited};cP.prototype.interfaces_=function a(){return[]};cP.prototype.getClass=function a(){return cP};var cQ=function(a){function b(){a.call(this);this._coord=null;this._edges=null;var b=arguments[0],c=arguments[1];this._coord=b;this._edges=c;this._label=new cL(0,ar.NONE)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.isIncidentEdgeInResult=function a(){for(var b=this.getEdges().getEdges().iterator();b.hasNext();){var c=b.next();if(c.getEdge().isInResult()){return !0}}return !1};b.prototype.isIsolated=function a(){return this._label.getGeometryCount()===1};b.prototype.getCoordinate=function a(){return this._coord};b.prototype.print=function b(a){a.println('node '+this._coord+' lbl: '+this._label)};b.prototype.computeIM=function b(a){};b.prototype.computeMergedLocation=function c(a,b){var d=ar.NONE;d=this._label.getLocation(b);if(!a.isNull(b)){var e=a.getLocation(b);d!==ar.BOUNDARY&&(d=e)}return d};b.prototype.setLabel=function b(){if(arguments.length===2){var c=arguments[0],d=arguments[1];this._label===null?(this._label=new cL(c,d)):this._label.setLocation(c,d)}else{return a.prototype.setLabel.apply(this,arguments)}};b.prototype.getEdges=function a(){return this._edges};b.prototype.mergeLabel=function a(){var c=this;if(arguments[0] instanceof b){var d=arguments[0];this.mergeLabel(d._label)}else if(arguments[0] instanceof cL){var e=arguments[0];for(var f=0;f<2;f++){var g=c.computeMergedLocation(e,f),h=c._label.getLocation(f);h===ar.NONE&&c._label.setLocation(f,g)}}};b.prototype.add=function b(a){this._edges.insert(a);a.setNode(this)};b.prototype.setLabelBoundary=function b(a){if(this._label===null){return null}var c=ar.NONE;this._label!==null&&(c=this._label.getLocation(a));var d=null;switch(c){case ar.BOUNDARY:d=ar.INTERIOR;break;case ar.INTERIOR:d=ar.BOUNDARY;break;default:d=ar.BOUNDARY;break};this._label.setLocation(a,d)};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};return b}(cP),cR=function a(){this.nodeMap=new bI();this.nodeFact=null;var b=arguments[0];this.nodeFact=b};cR.prototype.find=function b(a){return this.nodeMap.get(a)};cR.prototype.addNode=function a(){if(arguments[0] instanceof an){var b=arguments[0],c=this.nodeMap.get(b);c===null&&(c=this.nodeFact.createNode(b),this.nodeMap.put(b,c));return c}else if(arguments[0] instanceof cQ){var d=arguments[0],e=this.nodeMap.get(d.getCoordinate());if(e===null){this.nodeMap.put(d.getCoordinate(),d);return d}e.mergeLabel(d);return e}};cR.prototype.print=function b(a){for(var c=this.iterator();c.hasNext();){var d=c.next();d.print(a)}};cR.prototype.iterator=function a(){return this.nodeMap.values().iterator()};cR.prototype.values=function a(){return this.nodeMap.values()};cR.prototype.getBoundaryNodes=function b(a){var c=new bo();for(var d=this.iterator();d.hasNext();){var e=d.next();e.getLabel().getLocation(a)===ar.BOUNDARY&&c.add(e)}return c};cR.prototype.add=function b(a){var c=a.getCoordinate(),d=this.addNode(c);d.add(a)};cR.prototype.interfaces_=function a(){return[]};cR.prototype.getClass=function a(){return cR};var cS=function a(){},cT={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};cS.prototype.interfaces_=function a(){return[]};cS.prototype.getClass=function a(){return cS};cS.isNorthern=function b(a){return a===cS.NE||a===cS.NW};cS.isOpposite=function c(a,b){if(a===b){return !1}var d=(a-b+4)%4;if(d===2){return !0}return !1};cS.commonHalfPlane=function c(a,b){if(a===b){return a}var d=(a-b+4)%4;if(d===2){return-1}var e=a<b?a:b,f=a>b?a:b;if(e===0&&f===3){return 3}return e};cS.isInHalfPlane=function c(a,b){if(b===cS.SE){return a===cS.SE||a===cS.SW}return a===b||a===b+1};cS.quadrant=function a(){if(typeof arguments[0]==='number'&&typeof arguments[1]==='number'){var b=arguments[0],c=arguments[1];if(b===0.0&&c===0.0){throw new ag('Cannot compute the quadrant for point ( '+b+', '+c+' )')}if(b>=0.0){if(c>=0.0){return cS.NE}else{return cS.SE}}else{if(c>=0.0){return cS.NW}else{return cS.SW}}}else if(arguments[0] instanceof an&&arguments[1] instanceof an){var d=arguments[0],e=arguments[1];if(e.x===d.x&&e.y===d.y){throw new ag('Cannot compute the quadrant for two identical points '+d)}if(e.x>=d.x){if(e.y>=d.y){return cS.NE}else{return cS.SE}}else{if(e.y>=d.y){return cS.NW}else{return cS.SW}}}};cT.NE.get=function(){return 0};cT.NW.get=function(){return 1};cT.SW.get=function(){return 2};cT.SE.get=function(){return 3};Object.defineProperties(cS,cT);var cU=function a(){this._edge=null;this._label=null;this._node=null;this._p0=null;this._p1=null;this._dx=null;this._dy=null;this._quadrant=null;if(arguments.length===1){var b=arguments[0];this._edge=b}else if(arguments.length===3){var c=arguments[0],d=arguments[1],e=arguments[2],f=null;this._edge=c;this.init(d,e);this._label=f}else if(arguments.length===4){var g=arguments[0],h=arguments[1],i=arguments[2],j=arguments[3];this._edge=g;this.init(h,i);this._label=j}};cU.prototype.compareDirection=function b(a){if(this._dx===a._dx&&this._dy===a._dy){return 0}if(this._quadrant>a._quadrant){return 1}if(this._quadrant<a._quadrant){return-1}return aY.computeOrientation(a._p0,a._p1,this._p1)};cU.prototype.getDy=function a(){return this._dy};cU.prototype.getCoordinate=function a(){return this._p0};cU.prototype.setNode=function b(a){this._node=a};cU.prototype.print=function b(a){var c=Math.atan2(this._dy,this._dx),d=this.getClass().getName(),e=d.lastIndexOf('.'),f=d.substring(e+1);a.print('  '+f+': '+this._p0+' - '+this._p1+' '+this._quadrant+':'+c+'   '+this._label)};cU.prototype.compareTo=function b(a){var c=a;return this.compareDirection(c)};cU.prototype.getDirectedCoordinate=function a(){return this._p1};cU.prototype.getDx=function a(){return this._dx};cU.prototype.getLabel=function a(){return this._label};cU.prototype.getEdge=function a(){return this._edge};cU.prototype.getQuadrant=function a(){return this._quadrant};cU.prototype.getNode=function a(){return this._node};cU.prototype.toString=function a(){var b=Math.atan2(this._dy,this._dx),c=this.getClass().getName(),d=c.lastIndexOf('.'),e=c.substring(d+1);return'  '+e+': '+this._p0+' - '+this._p1+' '+this._quadrant+':'+b+'   '+this._label};cU.prototype.computeLabel=function b(a){};cU.prototype.init=function c(a,b){this._p0=a;this._p1=b;this._dx=b.x-a.x;this._dy=b.y-a.y;this._quadrant=cS.quadrant(this._dx,this._dy);aS.isTrue(!(this._dx===0&&this._dy===0),'EdgeEnd with identical endpoints found')};cU.prototype.interfaces_=function a(){return[aj]};cU.prototype.getClass=function a(){return cU};var cV=function(a){function b(){var b=arguments[0],c=arguments[1];a.call(this,b);this._isForward=null;this._isInResult=!1;this._isVisited=!1;this._sym=null;this._next=null;this._nextMin=null;this._edgeRing=null;this._minEdgeRing=null;this._depth=[0,-999,-999];this._isForward=c;if(c)this.init(b.getCoordinate(0),b.getCoordinate(1));else{var d=b.getNumPoints()-1;this.init(b.getCoordinate(d),b.getCoordinate(d-1))}this.computeDirectedLabel()}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getNextMin=function a(){return this._nextMin};b.prototype.getDepth=function b(a){return this._depth[a]};b.prototype.setVisited=function b(a){this._isVisited=a};b.prototype.computeDirectedLabel=function a(){this._label=new cL(this._edge.getLabel());this._isForward||this._label.flip()};b.prototype.getNext=function a(){return this._next};b.prototype.setDepth=function c(a,b){if(this._depth[a]!==-999){if(this._depth[a]!==b){throw new cH('assigned depths do not match',this.getCoordinate())}}this._depth[a]=b};b.prototype.isInteriorAreaEdge=function(){var b=this,a=!0;for(var c=0;c<2;c++)(b._label.isArea(c)&&b._label.getLocation(c,cC.LEFT)===ar.INTERIOR&&b._label.getLocation(c,cC.RIGHT)===ar.INTERIOR)||(a=!1);return a};b.prototype.setNextMin=function b(a){this._nextMin=a};b.prototype.print=function c(b){a.prototype.print.call(this,b);b.print(' '+this._depth[cC.LEFT]+'/'+this._depth[cC.RIGHT]);b.print(' ('+this.getDepthDelta()+')');this._isInResult&&b.print(' inResult')};b.prototype.setMinEdgeRing=function b(a){this._minEdgeRing=a};b.prototype.isLineEdge=function a(){var b=this._label.isLine(0)||this._label.isLine(1),c=!this._label.isArea(0)||this._label.allPositionsEqual(0,ar.EXTERIOR),d=!this._label.isArea(1)||this._label.allPositionsEqual(1,ar.EXTERIOR);return b&&c&&d};b.prototype.setEdgeRing=function b(a){this._edgeRing=a};b.prototype.getMinEdgeRing=function a(){return this._minEdgeRing};b.prototype.getDepthDelta=function a(){var b=this._edge.getDepthDelta();this._isForward||(b=-b);return b};b.prototype.setInResult=function b(a){this._isInResult=a};b.prototype.getSym=function a(){return this._sym};b.prototype.isForward=function a(){return this._isForward};b.prototype.getEdge=function a(){return this._edge};b.prototype.printEdge=function b(a){this.print(a);a.print(' ');this._isForward?this._edge.print(a):this._edge.printReverse(a)};b.prototype.setSym=function b(a){this._sym=a};b.prototype.setVisitedEdge=function b(a){this.setVisited(a);this._sym.setVisited(a)};b.prototype.setEdgeDepths=function c(a,b){var d=this.getEdge().getDepthDelta();this._isForward||(d=-d);var e=1;a===cC.LEFT&&(e=-1);var f=cC.opposite(a),g=d*e,h=b+g;this.setDepth(a,b);this.setDepth(f,h)};b.prototype.getEdgeRing=function a(){return this._edgeRing};b.prototype.isInResult=function a(){return this._isInResult};b.prototype.setNext=function b(a){this._next=a};b.prototype.isVisited=function a(){return this._isVisited};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};b.depthFactor=function c(a,b){if(a===ar.EXTERIOR&&b===ar.INTERIOR){return 1}else if(a===ar.INTERIOR&&b===ar.EXTERIOR){return-1};return 0};return b}(cU),cW=function a(){};cW.prototype.createNode=function b(a){return new cQ(a,null)};cW.prototype.interfaces_=function a(){return[]};cW.prototype.getClass=function a(){return cW};var cX=function a(){this._edges=new bo();this._nodes=null;this._edgeEndList=new bo();if(arguments.length===0)this._nodes=new cR(new cW());else if(arguments.length===1){var b=arguments[0];this._nodes=new cR(b)}};cX.prototype.printEdges=function b(a){var c=this;a.println('Edges:');for(var d=0;d<this._edges.size();d++){a.println('edge '+d+':');var e=c._edges.get(d);e.print(a);e.eiList.print(a)}};cX.prototype.find=function b(a){return this._nodes.find(a)};cX.prototype.addNode=function a(){if(arguments[0] instanceof cQ){var b=arguments[0];return this._nodes.addNode(b)}else if(arguments[0] instanceof an){var c=arguments[0];return this._nodes.addNode(c)}};cX.prototype.getNodeIterator=function a(){return this._nodes.iterator()};cX.prototype.linkResultDirectedEdges=function a(){for(var b=this._nodes.iterator();b.hasNext();){var c=b.next();c.getEdges().linkResultDirectedEdges()}};cX.prototype.debugPrintln=function b(a){aH.out.println(a)};cX.prototype.isBoundaryNode=function c(a,b){var d=this._nodes.find(b);if(d===null){return !1}var e=d.getLabel();if(e!==null&&e.getLocation(a)===ar.BOUNDARY){return !0}return !1};cX.prototype.linkAllDirectedEdges=function a(){for(var b=this._nodes.iterator();b.hasNext();){var c=b.next();c.getEdges().linkAllDirectedEdges()}};cX.prototype.matchInSameDirection=function e(a,b,c,d){if(!a.equals(c)){return !1}if(aY.computeOrientation(a,b,d)===aY.COLLINEAR&&cS.quadrant(a,b)===cS.quadrant(c,d)){return !0}return !1};cX.prototype.getEdgeEnds=function a(){return this._edgeEndList};cX.prototype.debugPrint=function b(a){aH.out.print(a)};cX.prototype.getEdgeIterator=function a(){return this._edges.iterator()};cX.prototype.findEdgeInSameDirection=function c(a,b){var d=this;for(var e=0;e<this._edges.size();e++){var f=d._edges.get(e),g=f.getCoordinates();if(d.matchInSameDirection(a,b,g[0],g[1])){return f}if(d.matchInSameDirection(a,b,g[g.length-1],g[g.length-2])){return f}}return null};cX.prototype.insertEdge=function b(a){this._edges.add(a)};cX.prototype.findEdgeEnd=function b(a){for(var c=this.getEdgeEnds().iterator();c.hasNext();){var d=c.next();if(d.getEdge()===a){return d}}return null};cX.prototype.addEdges=function b(a){var c=this;for(var d=a.iterator();d.hasNext();){var e=d.next();c._edges.add(e);var f=new cV(e,!0),g=new cV(e,!1);f.setSym(g);g.setSym(f);c.add(f);c.add(g)}};cX.prototype.add=function b(a){this._nodes.add(a);this._edgeEndList.add(a)};cX.prototype.getNodes=function a(){return this._nodes.values()};cX.prototype.findEdge=function c(a,b){var d=this;for(var e=0;e<this._edges.size();e++){var f=d._edges.get(e),g=f.getCoordinates();if(a.equals(g[0])&&b.equals(g[1])){return f}}return null};cX.prototype.interfaces_=function a(){return[]};cX.prototype.getClass=function a(){return cX};cX.linkResultDirectedEdges=function b(a){for(var c=a.iterator();c.hasNext();){var d=c.next();d.getEdges().linkResultDirectedEdges()}};var cY=function a(){this._geometryFactory=null;this._shellList=new bo();var b=arguments[0];this._geometryFactory=b};cY.prototype.sortShellsAndHoles=function d(a,b,c){for(var e=a.iterator();e.hasNext();){var f=e.next();f.isHole()?c.add(f):b.add(f)}};cY.prototype.computePolygons=function b(a){var c=this,d=new bo();for(var e=a.iterator();e.hasNext();){var f=e.next(),g=f.toPolygon(c._geometryFactory);d.add(g)}return d};cY.prototype.placeFreeHoles=function c(a,b){var d=this;for(var e=b.iterator();e.hasNext();){var f=e.next();if(f.getShell()===null){var g=d.findEdgeRingContaining(f,a);if(g===null){throw new cH('unable to assign hole to a shell',f.getCoordinate(0))}f.setShell(g)}}};cY.prototype.buildMinimalEdgeRings=function d(a,b,c){var e=this,f=new bo();for(var g=a.iterator();g.hasNext();){var h=g.next();if(h.getMaxNodeDegree()>2){h.linkDirectedEdgesForMinimalEdgeRings();var i=h.buildMinimalRings(),j=e.findShell(i);j!==null?(e.placePolygonHoles(j,i),b.add(j)):c.addAll(i)}else f.add(h)}return f};cY.prototype.containsPoint=function b(a){for(var c=this._shellList.iterator();c.hasNext();){var d=c.next();if(d.containsPoint(a)){return !0}}return !1};cY.prototype.buildMaximalEdgeRings=function b(a){var c=this,d=new bo();for(var e=a.iterator();e.hasNext();){var f=e.next();if(f.isInResult()&&f.getLabel().isArea()){if(f.getEdgeRing()===null){var g=new cO(f,c._geometryFactory);d.add(g);g.setInResult()}}}return d};cY.prototype.placePolygonHoles=function c(a,b){for(var d=b.iterator();d.hasNext();){var e=d.next();e.isHole()&&e.setShell(a)}};cY.prototype.getPolygons=function a(){var b=this.computePolygons(this._shellList);return b};cY.prototype.findEdgeRingContaining=function c(a,b){var d=a.getLinearRing(),e=d.getEnvelopeInternal(),f=d.getCoordinateN(0),g=null,h=null;for(var i=b.iterator();i.hasNext();){var j=i.next(),k=j.getLinearRing(),l=k.getEnvelopeInternal();g!==null&&(h=g.getLinearRing().getEnvelopeInternal());var m=!1;l.contains(e)&&aY.isPointInRing(f,k.getCoordinates())&&(m=!0);m&&((g===null||h.contains(l))&&(g=j))}return g};cY.prototype.findShell=function b(a){var c=0,d=null;for(var e=a.iterator();e.hasNext();){var f=e.next();f.isHole()||(d=f,c++)}aS.isTrue(c<=1,'found two shells in MinimalEdgeRing list');return d};cY.prototype.add=function a(){if(arguments.length===1){var b=arguments[0];this.add(b.getEdgeEnds(),b.getNodes())}else if(arguments.length===2){var c=arguments[0],d=arguments[1];cX.linkResultDirectedEdges(d);var e=this.buildMaximalEdgeRings(c),f=new bo(),g=this.buildMinimalEdgeRings(e,this._shellList,f);this.sortShellsAndHoles(g,this._shellList,f);this.placeFreeHoles(this._shellList,f)}};cY.prototype.interfaces_=function a(){return[]};cY.prototype.getClass=function a(){return cY};var cZ=function a(){};cZ.prototype.getBounds=function a(){};cZ.prototype.interfaces_=function a(){return[]};cZ.prototype.getClass=function a(){return cZ};var c_=function a(){this._bounds=null;this._item=null;var b=arguments[0],c=arguments[1];this._bounds=b;this._item=c};c_.prototype.getItem=function a(){return this._item};c_.prototype.getBounds=function a(){return this._bounds};c_.prototype.interfaces_=function a(){return[cZ,am]};c_.prototype.getClass=function a(){return c_};var c$=function a(){this._size=null;this._items=null;this._size=0;this._items=new bo();this._items.add(null)};c$.prototype.poll=function a(){if(this.isEmpty()){return null}var b=this._items.get(1);this._items.set(1,this._items.get(this._size));this._size-=1;this.reorder(1);return b};c$.prototype.size=function a(){return this._size};c$.prototype.reorder=function b(a){var c=this,d=null,e=this._items.get(a);for(;a*2<=this._size;a=d){d=a*2;d!==c._size&&c._items.get(d+1).compareTo(c._items.get(d))<0&&d++;if(c._items.get(d).compareTo(e)<0)c._items.set(a,c._items.get(d));else{break}}this._items.set(a,e)};c$.prototype.clear=function a(){this._size=0;this._items.clear()};c$.prototype.isEmpty=function a(){return this._size===0};c$.prototype.add=function b(a){var c=this;this._items.add(null);this._size+=1;var d=this._size;this._items.set(0,a);for(;a.compareTo(this._items.get(Math.trunc(d/2)))<0;d/=2)c._items.set(d,c._items.get(Math.trunc(d/2)));this._items.set(d,a)};c$.prototype.interfaces_=function a(){return[]};c$.prototype.getClass=function a(){return c$};var da=function a(){};da.prototype.visitItem=function b(a){};da.prototype.interfaces_=function a(){return[]};da.prototype.getClass=function a(){return da};var db=function a(){};db.prototype.insert=function c(a,b){};db.prototype.remove=function c(a,b){};db.prototype.query=function a(){};db.prototype.interfaces_=function a(){return[]};db.prototype.getClass=function a(){return db};var dc=function a(){this._childBoundables=new bo();this._bounds=null;this._level=null;if(!arguments.length===0)if(arguments.length===1){var b=arguments[0];this._level=b}},df={serialVersionUID:{configurable:!0}};dc.prototype.getLevel=function a(){return this._level};dc.prototype.size=function a(){return this._childBoundables.size()};dc.prototype.getChildBoundables=function a(){return this._childBoundables};dc.prototype.addChildBoundable=function b(a){aS.isTrue(this._bounds===null);this._childBoundables.add(a)};dc.prototype.isEmpty=function a(){return this._childBoundables.isEmpty()};dc.prototype.getBounds=function a(){this._bounds===null&&(this._bounds=this.computeBounds());return this._bounds};dc.prototype.interfaces_=function a(){return[cZ,am]};dc.prototype.getClass=function a(){return dc};df.serialVersionUID.get=function(){return 6493722185909573708};Object.defineProperties(dc,df);var dg=function a(){};dg.reverseOrder=function c(){return{compare:function c(a,b){return b.compareTo(a)}}};dg.min=function b(a){dg.sort(a);return a.get(0)};dg.sort=function c(a,b){var d=a.toArray();b?bN.sort(d,b):bN.sort(d);var e=a.iterator();for(var f=0,g=d.length;f<g;f++)e.next(),e.set(d[f])};dg.singletonList=function b(a){var c=new bo();c.add(a);return c};var dh=function a(){this._boundable1=null;this._boundable2=null;this._distance=null;this._itemDistance=null;var b=arguments[0],c=arguments[1],d=arguments[2];this._boundable1=b;this._boundable2=c;this._itemDistance=d;this._distance=this.distance()};dh.prototype.expandToQueue=function c(a,b){var d=dh.isComposite(this._boundable1),e=dh.isComposite(this._boundable2);if(d&&e){if(dh.area(this._boundable1)>dh.area(this._boundable2)){this.expand(this._boundable1,this._boundable2,a,b);return null}else{this.expand(this._boundable2,this._boundable1,a,b);return null}}else if(d){this.expand(this._boundable1,this._boundable2,a,b);return null}else if(e){this.expand(this._boundable2,this._boundable1,a,b);return null};throw new ag('neither boundable is composite')};dh.prototype.isLeaves=function a(){return!(dh.isComposite(this._boundable1)||dh.isComposite(this._boundable2))};dh.prototype.compareTo=function b(a){var c=a;if(this._distance<c._distance){return-1}if(this._distance>c._distance){return 1}return 0};dh.prototype.expand=function e(a,b,c,d){var f=this,g=a.getChildBoundables();for(var h=g.iterator();h.hasNext();){var i=h.next(),j=new dh(i,b,f._itemDistance);j.getDistance()<d&&c.add(j)}};dh.prototype.getBoundable=function b(a){if(a===0){return this._boundable1}return this._boundable2};dh.prototype.getDistance=function a(){return this._distance};dh.prototype.distance=function a(){if(this.isLeaves()){return this._itemDistance.distance(this._boundable1,this._boundable2)}return this._boundable1.getBounds().distance(this._boundable2.getBounds())};dh.prototype.interfaces_=function a(){return[aj]};dh.prototype.getClass=function a(){return dh};dh.area=function b(a){return a.getBounds().getArea()};dh.isComposite=function b(a){return a instanceof dc};var di=function a(){this._root=null;this._built=!1;this._itemBoundables=new bo();this._nodeCapacity=null;if(arguments.length===0){var b=a.DEFAULT_NODE_CAPACITY;this._nodeCapacity=b}else if(arguments.length===1){var c=arguments[0];aS.isTrue(c>1,'Node capacity must be greater than 1');this._nodeCapacity=c}},dj={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};di.prototype.getNodeCapacity=function a(){return this._nodeCapacity};di.prototype.lastNode=function b(a){return a.get(a.size()-1)};di.prototype.size=function(){var b=this;if(arguments.length===0){if(this.isEmpty()){return 0}this.build();return this.size(this._root)}else if(arguments.length===1){var c=arguments[0],a=0;for(var d=c.getChildBoundables().iterator();d.hasNext();){var e=d.next();e instanceof dc?(a+=b.size(e)):e instanceof c_&&(a+=1)}return a}};di.prototype.removeItem=function c(a,b){var d=null;for(var e=a.getChildBoundables().iterator();e.hasNext();){var f=e.next();f instanceof c_&&(f.getItem()===b&&(d=f))}if(d!==null){a.getChildBoundables().remove(d);return !0}return !1};di.prototype.itemsTree=function a(){var b=this;if(arguments.length===0){this.build();var c=this.itemsTree(this._root);if(c===null){return new bo()}return c}else if(arguments.length===1){var d=arguments[0],e=new bo();for(var f=d.getChildBoundables().iterator();f.hasNext();){var g=f.next();if(g instanceof dc){var h=b.itemsTree(g);h!==null&&e.add(h)}else g instanceof c_?e.add(g.getItem()):aS.shouldNeverReachHere()}if(e.size()<=0){return null}return e}};di.prototype.insert=function c(a,b){aS.isTrue(!this._built,'Cannot insert items into an STR packed R-tree after it has been built.');this._itemBoundables.add(new c_(a,b))};di.prototype.boundablesAtLevel=function a(){var b=this;if(arguments.length===1){var c=arguments[0],d=new bo();this.boundablesAtLevel(c,this._root,d);return d}else if(arguments.length===3){var e=arguments[0],f=arguments[1],g=arguments[2];aS.isTrue(e>-2);if(f.getLevel()===e){g.add(f);return null}for(var h=f.getChildBoundables().iterator();h.hasNext();){var i=h.next();i instanceof dc?b.boundablesAtLevel(e,i,g):(aS.isTrue(i instanceof c_),e===-1&&g.add(i))}return null}};di.prototype.query=function a(){var b=this;if(arguments.length===1){var c=arguments[0];this.build();var d=new bo();if(this.isEmpty()){return d}this.getIntersectsOp().intersects(this._root.getBounds(),c)&&this.query(c,this._root,d);return d}else if(arguments.length===2){var e=arguments[0],f=arguments[1];this.build();if(this.isEmpty()){return null}this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.query(e,this._root,f)}else if(arguments.length===3){if(at(arguments[2],da)&&(arguments[0] instanceof Object&&arguments[1] instanceof dc)){var g=arguments[0],h=arguments[1],i=arguments[2],j=h.getChildBoundables();for(var k=0;k<j.size();k++){var l=j.get(k);if(!b.getIntersectsOp().intersects(l.getBounds(),g)){continue}l instanceof dc?b.query(g,l,i):l instanceof c_?i.visitItem(l.getItem()):aS.shouldNeverReachHere()}}else if(at(arguments[2],bm)&&(arguments[0] instanceof Object&&arguments[1] instanceof dc)){var m=arguments[0],n=arguments[1],o=arguments[2],p=n.getChildBoundables();for(var q=0;q<p.size();q++){var r=p.get(q);if(!b.getIntersectsOp().intersects(r.getBounds(),m)){continue}r instanceof dc?b.query(m,r,o):r instanceof c_?o.add(r.getItem()):aS.shouldNeverReachHere()}}}};di.prototype.build=function a(){if(this._built){return null}this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1);this._itemBoundables=null;this._built=!0};di.prototype.getRoot=function a(){this.build();return this._root};di.prototype.remove=function a(){var b=this;if(arguments.length===2){var c=arguments[0],d=arguments[1];this.build();if(this.getIntersectsOp().intersects(this._root.getBounds(),c)){return this.remove(c,this._root,d)}return !1}else if(arguments.length===3){var e=arguments[0],f=arguments[1],g=arguments[2],h=this.removeItem(f,g);if(h){return !0}var i=null;for(var j=f.getChildBoundables().iterator();j.hasNext();){var k=j.next();if(!b.getIntersectsOp().intersects(k.getBounds(),e)){continue}if(k instanceof dc){h=b.remove(e,k,g);if(h){i=k;break}}}i!==null&&(i.getChildBoundables().isEmpty()&&f.getChildBoundables().remove(i));return h}};di.prototype.createHigherLevels=function c(a,b){aS.isTrue(!a.isEmpty());var d=this.createParentBoundables(a,b+1);if(d.size()===1){return d.get(0)}return this.createHigherLevels(d,b+1)};di.prototype.depth=function a(){var b=this;if(arguments.length===0){if(this.isEmpty()){return 0}this.build();return this.depth(this._root)}else if(arguments.length===1){var c=arguments[0],d=0;for(var e=c.getChildBoundables().iterator();e.hasNext();){var f=e.next();if(f instanceof dc){var g=b.depth(f);g>d&&(d=g)}}return d+1}};di.prototype.createParentBoundables=function c(a,b){var d=this;aS.isTrue(!a.isEmpty());var e=new bo();e.add(this.createNode(b));var f=new bo(a);dg.sort(f,this.getComparator());for(var g=f.iterator();g.hasNext();){var h=g.next();d.lastNode(e).getChildBoundables().size()===d.getNodeCapacity()&&e.add(d.createNode(b));d.lastNode(e).addChildBoundable(h)}return e};di.prototype.isEmpty=function a(){if(!this._built){return this._itemBoundables.isEmpty()}return this._root.isEmpty()};di.prototype.interfaces_=function a(){return[am]};di.prototype.getClass=function a(){return di};di.compareDoubles=function c(a,b){return a>b?1:a<b?-1:0};dj.IntersectsOp.get=function(){return dk};dj.serialVersionUID.get=function(){return-3886435814360241000};dj.DEFAULT_NODE_CAPACITY.get=function(){return 10};Object.defineProperties(di,dj);var dk=function a(){},dl=function a(){};dl.prototype.distance=function c(a,b){};dl.prototype.interfaces_=function a(){return[]};dl.prototype.getClass=function a(){return dl};var dm=function(c){function d(a){a=a||d.DEFAULT_NODE_CAPACITY;c.call(this,a)}c&&(d.__proto__=c);d.prototype=Object.create(c&&c.prototype);d.prototype.constructor=d;var f={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};d.prototype.createParentBoundablesFromVerticalSlices=function c(a,b){var d=this;aS.isTrue(a.length>0);var e=new bo();for(var f=0;f<a.length;f++)e.addAll(d.createParentBoundablesFromVerticalSlice(a[f],b));return e};d.prototype.createNode=function b(a){return new dn(a)};d.prototype.size=function a(){if(arguments.length===0){return c.prototype.size.call(this)}else{return c.prototype.size.apply(this,arguments)}};d.prototype.insert=function a(){if(arguments.length===2){var b=arguments[0],d=arguments[1];if(b.isNull()){return null}c.prototype.insert.call(this,b,d)}else{return c.prototype.insert.apply(this,arguments)}};d.prototype.getIntersectsOp=function a(){return d.intersectsOp};d.prototype.verticalSlices=function c(a,b){var d=Math.trunc(Math.ceil(a.size()/b)),e=new Array(b).fill(null),f=a.iterator();for(var g=0;g<b;g++){e[g]=new bo();var h=0;while(f.hasNext()&&h<d){var i=f.next();e[g].add(i);h++}}return e};d.prototype.query=function a(){if(arguments.length===1){var b=arguments[0];return c.prototype.query.call(this,b)}else if(arguments.length===2){var d=arguments[0],e=arguments[1];c.prototype.query.call(this,d,e)}else if(arguments.length===3){if(at(arguments[2],da)&&(arguments[0] instanceof Object&&arguments[1] instanceof dc)){var f=arguments[0],g=arguments[1],h=arguments[2];c.prototype.query.call(this,f,g,h)}else if(at(arguments[2],bm)&&(arguments[0] instanceof Object&&arguments[1] instanceof dc)){var i=arguments[0],j=arguments[1],k=arguments[2];c.prototype.query.call(this,i,j,k)}}};d.prototype.getComparator=function a(){return d.yComparator};d.prototype.createParentBoundablesFromVerticalSlice=function d(a,b){return c.prototype.createParentBoundables.call(this,a,b)};d.prototype.remove=function a(){if(arguments.length===2){var b=arguments[0],d=arguments[1];return c.prototype.remove.call(this,b,d)}else{return c.prototype.remove.apply(this,arguments)}};d.prototype.depth=function a(){if(arguments.length===0){return c.prototype.depth.call(this)}else{return c.prototype.depth.apply(this,arguments)}};d.prototype.createParentBoundables=function c(a,b){aS.isTrue(!a.isEmpty());var e=Math.trunc(Math.ceil(a.size()/this.getNodeCapacity())),f=new bo(a);dg.sort(f,d.xComparator);var g=this.verticalSlices(f,Math.trunc(Math.ceil(Math.sqrt(e))));return this.createParentBoundablesFromVerticalSlices(g,b)};d.prototype.nearestNeighbour=function a(){if(arguments.length===1){if(at(arguments[0],dl)){var b=arguments[0],c=new dh(this.getRoot(),this.getRoot(),b);return this.nearestNeighbour(c)}else if(arguments[0] instanceof dh){var e=arguments[0];return this.nearestNeighbour(e,ah.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0] instanceof d&&at(arguments[1],dl)){var f=arguments[0],g=arguments[1],h=new dh(this.getRoot(),f.getRoot(),g);return this.nearestNeighbour(h)}else if(arguments[0] instanceof dh&&typeof arguments[1]==='number'){var i=arguments[0],j=arguments[1],k=j,l=null,m=new c$();m.add(i);while(!m.isEmpty()&&k>0.0){var n=m.poll(),o=n.getDistance();if(o>=k){break}n.isLeaves()?(k=o,l=n):n.expandToQueue(m,k)}return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}}else if(arguments.length===3){var p=arguments[0],q=arguments[1],r=arguments[2],s=new c_(p,q),t=new dh(this.getRoot(),s,r);return this.nearestNeighbour(t)[0]}};d.prototype.interfaces_=function a(){return[db,am]};d.prototype.getClass=function a(){return d};d.centreX=function b(a){return d.avg(a.getMinX(),a.getMaxX())};d.avg=function c(a,b){return(a+b)/2};d.centreY=function b(a){return d.avg(a.getMinY(),a.getMaxY())};f.STRtreeNode.get=function(){return dn};f.serialVersionUID.get=function(){return 259274702368956900};f.xComparator.get=function(){return{interfaces_:function(){return[al]},compare:function(a,b){return c.compareDoubles(d.centreX(a.getBounds()),d.centreX(b.getBounds()))}}};f.yComparator.get=function(){return{interfaces_:function(){return[al]},compare:function(a,b){return c.compareDoubles(d.centreY(a.getBounds()),d.centreY(b.getBounds()))}}};f.intersectsOp.get=function(){return{interfaces_:function(){return[c.IntersectsOp]},intersects:function(a,b){return a.intersects(b)}}};f.DEFAULT_NODE_CAPACITY.get=function(){return 10};Object.defineProperties(d,f);return d}(di),dn=function(a){function b(){var b=arguments[0];a.call(this,b)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.computeBounds=function a(){var b=null;for(var c=this.getChildBoundables().iterator();c.hasNext();){var d=c.next();b===null?(b=new aJ(d.getBounds())):b.expandToInclude(d.getBounds())}return b};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};return b}(dc),dp=function a(){};dp.prototype.interfaces_=function a(){return[]};dp.prototype.getClass=function a(){return dp};dp.relativeSign=function c(a,b){if(a<b){return-1}if(a>b){return 1}return 0};dp.compare=function d(a,b,c){if(b.equals2D(c)){return 0}var e=dp.relativeSign(b.x,c.x),f=dp.relativeSign(b.y,c.y);switch(a){case 0:return dp.compareValue(e,f);case 1:return dp.compareValue(f,e);case 2:return dp.compareValue(f,-e);case 3:return dp.compareValue(-e,f);case 4:return dp.compareValue(-e,-f);case 5:return dp.compareValue(-f,-e);case 6:return dp.compareValue(-f,e);case 7:return dp.compareValue(e,-f);default:};aS.shouldNeverReachHere('invalid octant value');return 0};dp.compareValue=function c(a,b){if(a<0){return-1}if(a>0){return 1}if(b<0){return-1}if(b>0){return 1}return 0};var dq=function a(){this._segString=null;this.coord=null;this.segmentIndex=null;this._segmentOctant=null;this._isInterior=null;var b=arguments[0],c=arguments[1],d=arguments[2],e=arguments[3];this._segString=b;this.coord=new an(c);this.segmentIndex=d;this._segmentOctant=e;this._isInterior=!c.equals2D(b.getCoordinate(d))};dq.prototype.getCoordinate=function a(){return this.coord};dq.prototype.print=function b(a){a.print(this.coord);a.print(' seg # = '+this.segmentIndex)};dq.prototype.compareTo=function b(a){var c=a;if(this.segmentIndex<c.segmentIndex){return-1}if(this.segmentIndex>c.segmentIndex){return 1}if(this.coord.equals2D(c.coord)){return 0}return dp.compare(this._segmentOctant,this.coord,c.coord)};dq.prototype.isEndPoint=function b(a){if(this.segmentIndex===0&&!this._isInterior){return !0}if(this.segmentIndex===a){return !0}return !1};dq.prototype.isInterior=function a(){return this._isInterior};dq.prototype.interfaces_=function a(){return[aj]};dq.prototype.getClass=function a(){return dq};var dr=function a(){this._nodeMap=new bI();this._edge=null;var b=arguments[0];this._edge=b};dr.prototype.getSplitCoordinates=function a(){var b=this,c=new bq();this.addEndpoints();var d=this.iterator(),e=d.next();while(d.hasNext()){var f=d.next();b.addEdgeCoordinates(e,f,c);e=f}return c.toCoordinateArray()};dr.prototype.addCollapsedNodes=function a(){var b=this,c=new bo();this.findCollapsesFromInsertedNodes(c);this.findCollapsesFromExistingVertices(c);for(var d=c.iterator();d.hasNext();){var e=d.next().intValue();b.add(b._edge.getCoordinate(e),e)}};dr.prototype.print=function b(a){a.println('Intersections:');for(var c=this.iterator();c.hasNext();){var d=c.next();d.print(a)}};dr.prototype.findCollapsesFromExistingVertices=function b(a){var c=this;for(var d=0;d<this._edge.size()-2;d++){var e=c._edge.getCoordinate(d),f=c._edge.getCoordinate(d+2);e.equals2D(f)&&a.add(new ax(d+1))}};dr.prototype.addEdgeCoordinates=function d(a,b,c){var e=this,f=this._edge.getCoordinate(b.segmentIndex),g=b.isInterior()||!b.coord.equals2D(f);c.add(new an(a.coord),!1);for(var h=a.segmentIndex+1;h<=b.segmentIndex;h++)c.add(e._edge.getCoordinate(h));g&&c.add(new an(b.coord))};dr.prototype.iterator=function a(){return this._nodeMap.values().iterator()};dr.prototype.addSplitEdges=function b(a){var c=this;this.addEndpoints();this.addCollapsedNodes();var d=this.iterator(),e=d.next();while(d.hasNext()){var f=d.next(),g=c.createSplitEdge(e,f);a.add(g);e=f}};dr.prototype.findCollapseIndex=function d(a,b,c){if(!a.coord.equals2D(b.coord)){return !1}var e=b.segmentIndex-a.segmentIndex;b.isInterior()||e--;if(e===1){c[0]=a.segmentIndex+1;return !0}return !1};dr.prototype.findCollapsesFromInsertedNodes=function b(a){var c=this,d=new Array(1).fill(null),e=this.iterator(),f=e.next();while(e.hasNext()){var g=e.next(),h=c.findCollapseIndex(f,g,d);h&&a.add(new ax(d[0]));f=g}};dr.prototype.getEdge=function a(){return this._edge};dr.prototype.addEndpoints=function a(){var b=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0);this.add(this._edge.getCoordinate(b),b)};dr.prototype.createSplitEdge=function c(a,b){var d=this,e=b.segmentIndex-a.segmentIndex+2,f=this._edge.getCoordinate(b.segmentIndex),g=b.isInterior()||!b.coord.equals2D(f);g||e--;var h=new Array(e).fill(null),i=0;h[i++]=new an(a.coord);for(var j=a.segmentIndex+1;j<=b.segmentIndex;j++)h[i++]=d._edge.getCoordinate(j);g&&(h[i]=new an(b.coord));return new dv(h,this._edge.getData())};dr.prototype.add=function c(a,b){var d=new dq(this._edge,a,b,this._edge.getSegmentOctant(b)),e=this._nodeMap.get(d);if(e!==null){aS.isTrue(e.coord.equals2D(a),'Found equal nodes with different coordinates');return e}this._nodeMap.put(d,d);return d};dr.prototype.checkSplitEdgesCorrectness=function b(a){var c=this._edge.getCoordinates(),d=a.get(0),e=d.getCoordinate(0);if(!e.equals2D(c[0])){throw new aQ('bad split edge start point at '+e)}var f=a.get(a.size()-1),g=f.getCoordinates(),h=g[g.length-1];if(!h.equals2D(c[c.length-1])){throw new aQ('bad split edge end point at '+h)}};dr.prototype.interfaces_=function a(){return[]};dr.prototype.getClass=function a(){return dr};var ds=function a(){};ds.prototype.interfaces_=function a(){return[]};ds.prototype.getClass=function a(){return ds};ds.octant=function a(){if(typeof arguments[0]==='number'&&typeof arguments[1]==='number'){var b=arguments[0],c=arguments[1];if(b===0.0&&c===0.0){throw new ag('Cannot compute the octant for point ( '+b+', '+c+' )')}var d=Math.abs(b),e=Math.abs(c);if(b>=0){if(c>=0){if(d>=e){return 0}else{return 1}}else{if(d>=e){return 7}else{return 6}}}else{if(c>=0){if(d>=e){return 3}else{return 2}}else{if(d>=e){return 4}else{return 5}}}}else if(arguments[0] instanceof an&&arguments[1] instanceof an){var f=arguments[0],g=arguments[1],h=g.x-f.x,i=g.y-f.y;if(h===0.0&&i===0.0){throw new ag('Cannot compute the octant for two identical points '+f)}return ds.octant(h,i)}};var dt=function a(){};dt.prototype.getCoordinates=function a(){};dt.prototype.size=function a(){};dt.prototype.getCoordinate=function b(a){};dt.prototype.isClosed=function a(){};dt.prototype.setData=function b(a){};dt.prototype.getData=function a(){};dt.prototype.interfaces_=function a(){return[]};dt.prototype.getClass=function a(){return dt};var du=function a(){};du.prototype.addIntersection=function c(a,b){};du.prototype.interfaces_=function a(){return[dt]};du.prototype.getClass=function a(){return du};var dv=function a(){this._nodeList=new dr(this);this._pts=null;this._data=null;var b=arguments[0],c=arguments[1];this._pts=b;this._data=c};dv.prototype.getCoordinates=function a(){return this._pts};dv.prototype.size=function a(){return this._pts.length};dv.prototype.getCoordinate=function b(a){return this._pts[a]};dv.prototype.isClosed=function a(){return this._pts[0].equals(this._pts[this._pts.length-1])};dv.prototype.getSegmentOctant=function b(a){if(a===this._pts.length-1){return-1}return this.safeOctant(this.getCoordinate(a),this.getCoordinate(a+1))};dv.prototype.setData=function b(a){this._data=a};dv.prototype.safeOctant=function c(a,b){if(a.equals2D(b)){return 0}return ds.octant(a,b)};dv.prototype.getData=function a(){return this._data};dv.prototype.addIntersection=function a(){if(arguments.length===2){var b=arguments[0],c=arguments[1];this.addIntersectionNode(b,c)}else if(arguments.length===4){var d=arguments[0],e=arguments[1],f=arguments[3],g=new an(d.getIntersection(f));this.addIntersection(g,e)}};dv.prototype.toString=function a(){return aP.toLineString(new cr(this._pts))};dv.prototype.getNodeList=function a(){return this._nodeList};dv.prototype.addIntersectionNode=function c(a,b){var d=b,e=d+1;if(e<this._pts.length){var f=this._pts[e];a.equals2D(f)&&(d=e)}var g=this._nodeList.add(a,d);return g};dv.prototype.addIntersections=function d(a,b,c){var e=this;for(var f=0;f<a.getIntersectionNum();f++)e.addIntersection(a,b,c,f)};dv.prototype.interfaces_=function a(){return[du]};dv.prototype.getClass=function a(){return dv};dv.getNodedSubstrings=function a(){if(arguments.length===1){var b=arguments[0],c=new bo();dv.getNodedSubstrings(b,c);return c}else if(arguments.length===2){var d=arguments[0],e=arguments[1];for(var f=d.iterator();f.hasNext();){var g=f.next();g.getNodeList().addSplitEdges(e)}}};var dw=function a(){this.p0=null;this.p1=null;if(arguments.length===0)this.p0=new an(),this.p1=new an();else if(arguments.length===1){var b=arguments[0];this.p0=new an(b.p0);this.p1=new an(b.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var c=arguments[0],d=arguments[1],e=arguments[2],f=arguments[3];this.p0=new an(c,d);this.p1=new an(e,f)}},dx={serialVersionUID:{configurable:!0}};dw.prototype.minX=function a(){return Math.min(this.p0.x,this.p1.x)};dw.prototype.orientationIndex=function a(){if(arguments[0] instanceof dw){var b=arguments[0],c=aY.orientationIndex(this.p0,this.p1,b.p0),d=aY.orientationIndex(this.p0,this.p1,b.p1);if(c>=0&&d>=0){return Math.max(c,d)}if(c<=0&&d<=0){return Math.max(c,d)}return 0}else if(arguments[0] instanceof an){var e=arguments[0];return aY.orientationIndex(this.p0,this.p1,e)}};dw.prototype.toGeometry=function b(a){return a.createLineString([this.p0,this.p1])};dw.prototype.isVertical=function a(){return this.p0.x===this.p1.x};dw.prototype.equals=function b(a){if(!(a instanceof dw)){return !1}var c=a;return this.p0.equals(c.p0)&&this.p1.equals(c.p1)};dw.prototype.intersection=function b(a){var c=new aV();c.computeIntersection(this.p0,this.p1,a.p0,a.p1);if(c.hasIntersection()){return c.getIntersection(0)}return null};dw.prototype.project=function a(){if(arguments[0] instanceof an){var b=arguments[0];if(b.equals(this.p0)||b.equals(this.p1)){return new an(b)}var c=this.projectionFactor(b),d=new an();d.x=this.p0.x+c*(this.p1.x-this.p0.x);d.y=this.p0.y+c*(this.p1.y-this.p0.y);return d}else if(arguments[0] instanceof dw){var e=arguments[0],f=this.projectionFactor(e.p0),g=this.projectionFactor(e.p1);if(f>=1.0&&g>=1.0){return null}if(f<=0.0&&g<=0.0){return null}var h=this.project(e.p0);f<0.0&&(h=this.p0);f>1.0&&(h=this.p1);var i=this.project(e.p1);g<0.0&&(i=this.p0);g>1.0&&(i=this.p1);return new dw(h,i)}};dw.prototype.normalize=function a(){this.p1.compareTo(this.p0)<0&&this.reverse()};dw.prototype.angle=function a(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)};dw.prototype.getCoordinate=function b(a){if(a===0){return this.p0}return this.p1};dw.prototype.distancePerpendicular=function b(a){return aY.distancePointLinePerpendicular(a,this.p0,this.p1)};dw.prototype.minY=function a(){return Math.min(this.p0.y,this.p1.y)};dw.prototype.midPoint=function a(){return dw.midPoint(this.p0,this.p1)};dw.prototype.projectionFactor=function b(a){if(a.equals(this.p0)){return 0.0}if(a.equals(this.p1)){return 1.0}var c=this.p1.x-this.p0.x,d=this.p1.y-this.p0.y,e=c*c+d*d;if(e<=0.0){return ah.NaN}var f=((a.x-this.p0.x)*c+(a.y-this.p0.y)*d)/e;return f};dw.prototype.closestPoints=function b(a){var c=this.intersection(a);if(c!==null){return[c,c]}var d=new Array(2).fill(null),e=ah.MAX_VALUE,f=null,g=this.closestPoint(a.p0);e=g.distance(a.p0);d[0]=g;d[1]=a.p0;var h=this.closestPoint(a.p1);f=h.distance(a.p1);f<e&&(e=f,d[0]=h,d[1]=a.p1);var i=a.closestPoint(this.p0);f=i.distance(this.p0);f<e&&(e=f,d[0]=this.p0,d[1]=i);var j=a.closestPoint(this.p1);f=j.distance(this.p1);f<e&&(e=f,d[0]=this.p1,d[1]=j);return d};dw.prototype.closestPoint=function b(a){var c=this.projectionFactor(a);if(c>0&&c<1){return this.project(a)}var d=this.p0.distance(a),e=this.p1.distance(a);if(d<e){return this.p0}return this.p1};dw.prototype.maxX=function a(){return Math.max(this.p0.x,this.p1.x)};dw.prototype.getLength=function a(){return this.p0.distance(this.p1)};dw.prototype.compareTo=function b(a){var c=a,d=this.p0.compareTo(c.p0);if(d!==0){return d}return this.p1.compareTo(c.p1)};dw.prototype.reverse=function a(){var b=this.p0;this.p0=this.p1;this.p1=b};dw.prototype.equalsTopo=function b(a){return this.p0.equals(a.p0)&&(this.p1.equals(a.p1)||this.p0.equals(a.p1))&&this.p1.equals(a.p0)};dw.prototype.lineIntersection=function b(a){try{var c=aI.intersection(this.p0,this.p1,a.p0,a.p1);return c}catch(a){if(!a instanceof aG){throw a}}finally{};return null};dw.prototype.maxY=function a(){return Math.max(this.p0.y,this.p1.y)};dw.prototype.pointAlongOffset=function c(a,b){var d=this.p0.x+a*(this.p1.x-this.p0.x),e=this.p0.y+a*(this.p1.y-this.p0.y),f=this.p1.x-this.p0.x,g=this.p1.y-this.p0.y,h=Math.sqrt(f*f+g*g),i=0.0,j=0.0;if(b!==0.0){if(h<=0.0){throw new Error('Cannot compute offset from zero-length line segment')}i=b*f/h;j=b*g/h}var k=d-j,l=e+i,m=new an(k,l);return m};dw.prototype.setCoordinates=function a(){if(arguments.length===1){var b=arguments[0];this.setCoordinates(b.p0,b.p1)}else if(arguments.length===2){var c=arguments[0],d=arguments[1];this.p0.x=c.x;this.p0.y=c.y;this.p1.x=d.x;this.p1.y=d.y}};dw.prototype.segmentFraction=function b(a){var c=this.projectionFactor(a);c<0.0?(c=0.0):(c>1.0||ah.isNaN(c))&&(c=1.0);return c};dw.prototype.toString=function a(){return'LINESTRING( '+this.p0.x+' '+this.p0.y+', '+this.p1.x+' '+this.p1.y+')'};dw.prototype.isHorizontal=function a(){return this.p0.y===this.p1.y};dw.prototype.distance=function a(){if(arguments[0] instanceof dw){var b=arguments[0];return aY.distanceLineLine(this.p0,this.p1,b.p0,b.p1)}else if(arguments[0] instanceof an){var c=arguments[0];return aY.distancePointLine(c,this.p0,this.p1)}};dw.prototype.pointAlong=function b(a){var c=new an();c.x=this.p0.x+a*(this.p1.x-this.p0.x);c.y=this.p0.y+a*(this.p1.y-this.p0.y);return c};dw.prototype.hashCode=function a(){var b=ah.doubleToLongBits(this.p0.x);b^=ah.doubleToLongBits(this.p0.y)*31;var c=Math.trunc(b)^Math.trunc(b>>32),d=ah.doubleToLongBits(this.p1.x);d^=ah.doubleToLongBits(this.p1.y)*31;var e=Math.trunc(d)^Math.trunc(d>>32);return c^e};dw.prototype.interfaces_=function a(){return[aj,am]};dw.prototype.getClass=function a(){return dw};dw.midPoint=function c(a,b){return new an((a.x+b.x)/2,(a.y+b.y)/2)};dx.serialVersionUID.get=function(){return 3252005833466256227};Object.defineProperties(dw,dx);var dy=function a(){this.tempEnv1=new aJ();this.tempEnv2=new aJ();this._overlapSeg1=new dw();this._overlapSeg2=new dw()};dy.prototype.overlap=function a(){if(!arguments.length===2)if(arguments.length===4){var b=arguments[0],c=arguments[1],d=arguments[2],e=arguments[3];b.getLineSegment(c,this._overlapSeg1);d.getLineSegment(e,this._overlapSeg2);this.overlap(this._overlapSeg1,this._overlapSeg2)}};dy.prototype.interfaces_=function a(){return[]};dy.prototype.getClass=function a(){return dy};var dz=function a(){this._pts=null;this._start=null;this._end=null;this._env=null;this._context=null;this._id=null;var b=arguments[0],c=arguments[1],d=arguments[2],e=arguments[3];this._pts=b;this._start=c;this._end=d;this._context=e};dz.prototype.getLineSegment=function c(a,b){b.p0=this._pts[a];b.p1=this._pts[a+1]};dz.prototype.computeSelect=function e(a,b,c,d){var f=this._pts[b],g=this._pts[c];d.tempEnv1.init(f,g);if(c-b===1){d.select(this,b);return null}if(!a.intersects(d.tempEnv1)){return null}var h=Math.trunc((b+c)/2);b<h&&this.computeSelect(a,b,h,d);h<c&&this.computeSelect(a,h,c,d)};dz.prototype.getCoordinates=function a(){var b=this,c=new Array(this._end-this._start+1).fill(null),d=0;for(var e=this._start;e<=this._end;e++)c[d++]=b._pts[e];return c};dz.prototype.computeOverlaps=function c(a,b){this.computeOverlapsInternal(this._start,this._end,a,a._start,a._end,b)};dz.prototype.setId=function b(a){this._id=a};dz.prototype.select=function c(a,b){this.computeSelect(a,this._start,this._end,b)};dz.prototype.getEnvelope=function a(){if(this._env===null){var b=this._pts[this._start],c=this._pts[this._end];this._env=new aJ(b,c)}return this._env};dz.prototype.getEndIndex=function a(){return this._end};dz.prototype.getStartIndex=function a(){return this._start};dz.prototype.getContext=function a(){return this._context};dz.prototype.getId=function a(){return this._id};dz.prototype.computeOverlapsInternal=function g(a,b,c,d,e,f){var h=this._pts[a],i=this._pts[b],j=c._pts[d],k=c._pts[e];if(b-a===1&&e-d===1){f.overlap(this,a,c,d);return null}f.tempEnv1.init(h,i);f.tempEnv2.init(j,k);if(!f.tempEnv1.intersects(f.tempEnv2)){return null}var l=Math.trunc((a+b)/2),m=Math.trunc((d+e)/2);a<l&&(d<m&&this.computeOverlapsInternal(a,l,c,d,m,f),m<e&&this.computeOverlapsInternal(a,l,c,m,e,f));l<b&&(d<m&&this.computeOverlapsInternal(l,b,c,d,m,f),m<e&&this.computeOverlapsInternal(l,b,c,m,e,f))};dz.prototype.interfaces_=function a(){return[]};dz.prototype.getClass=function a(){return dz};var dA=function a(){};dA.prototype.interfaces_=function a(){return[]};dA.prototype.getClass=function a(){return dA};dA.getChainStartIndices=function b(a){var c=0,d=new bo();d.add(new ax(c));do{var e=dA.findChainEnd(a,c);d.add(new ax(e));c=e}while(c<a.length-1);var f=dA.toIntArray(d);return f};dA.findChainEnd=function c(a,b){var d=b;while(d<a.length-1&&a[d].equals2D(a[d+1]))d++;if(d>=a.length-1){return a.length-1}var e=cS.quadrant(a[d],a[d+1]),f=b+1;while(f<a.length){if(!a[f-1].equals2D(a[f])){var g=cS.quadrant(a[f-1],a[f]);if(g!==e){break}}f++}return f-1};dA.getChains=function a(){if(arguments.length===1){var b=arguments[0];return dA.getChains(b,null)}else if(arguments.length===2){var c=arguments[0],d=arguments[1],e=new bo(),f=dA.getChainStartIndices(c);for(var g=0;g<f.length-1;g++){var h=new dz(c,f[g],f[g+1],d);e.add(h)}return e}};dA.toIntArray=function b(a){var c=new Array(a.size()).fill(null);for(var d=0;d<c.length;d++)c[d]=a.get(d).intValue();return c};var dB=function a(){};dB.prototype.computeNodes=function b(a){};dB.prototype.getNodedSubstrings=function a(){};dB.prototype.interfaces_=function a(){return[]};dB.prototype.getClass=function a(){return dB};var dC=function a(){this._segInt=null;if(!arguments.length===0)if(arguments.length===1){var b=arguments[0];this.setSegmentIntersector(b)}};dC.prototype.setSegmentIntersector=function b(a){this._segInt=a};dC.prototype.interfaces_=function a(){return[dB]};dC.prototype.getClass=function a(){return dC};var dD=function(a){function b(b){b?a.call(this,b):a.call(this);this._monoChains=new bo();this._index=new dm();this._idCounter=0;this._nodedSegStrings=null;this._nOverlaps=0}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;var c={SegmentOverlapAction:{configurable:!0}};b.prototype.getMonotoneChains=function a(){return this._monoChains};b.prototype.getNodedSubstrings=function a(){return dv.getNodedSubstrings(this._nodedSegStrings)};b.prototype.getIndex=function a(){return this._index};b.prototype.add=function b(a){var c=this,d=dA.getChains(a.getCoordinates(),a);for(var e=d.iterator();e.hasNext();){var f=e.next();f.setId(c._idCounter++);c._index.insert(f.getEnvelope(),f);c._monoChains.add(f)}};b.prototype.computeNodes=function b(a){var c=this;this._nodedSegStrings=a;for(var d=a.iterator();d.hasNext();)c.add(d.next());this.intersectChains()};b.prototype.intersectChains=function a(){var b=this,c=new dE(this._segInt);for(var d=this._monoChains.iterator();d.hasNext();){var e=d.next(),f=b._index.query(e.getEnvelope());for(var g=f.iterator();g.hasNext();){var h=g.next();h.getId()>e.getId()&&(e.computeOverlaps(h,c),b._nOverlaps++);if(b._segInt.isDone()){return null}}}};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};c.SegmentOverlapAction.get=function(){return dE};Object.defineProperties(b,c);return b}(dC),dE=function(a){function b(){a.call(this);this._si=null;var b=arguments[0];this._si=b}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.overlap=function b(){if(arguments.length===4){var c=arguments[0],d=arguments[1],e=arguments[2],f=arguments[3],g=c.getContext(),h=e.getContext();this._si.processIntersections(g,d,h,f)}else{return a.prototype.overlap.apply(this,arguments)}};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};return b}(dy),dF=function a(){this._quadrantSegments=a.DEFAULT_QUADRANT_SEGMENTS;this._endCapStyle=a.CAP_ROUND;this._joinStyle=a.JOIN_ROUND;this._mitreLimit=a.DEFAULT_MITRE_LIMIT;this._isSingleSided=!1;this._simplifyFactor=a.DEFAULT_SIMPLIFY_FACTOR;if(!arguments.length===0)if(arguments.length===1){var b=arguments[0];this.setQuadrantSegments(b)}else if(arguments.length===2){var c=arguments[0],d=arguments[1];this.setQuadrantSegments(c);this.setEndCapStyle(d)}else if(arguments.length===4){var e=arguments[0],f=arguments[1],g=arguments[2],h=arguments[3];this.setQuadrantSegments(e);this.setEndCapStyle(f);this.setJoinStyle(g);this.setMitreLimit(h)}},dG={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};dF.prototype.getEndCapStyle=function a(){return this._endCapStyle};dF.prototype.isSingleSided=function a(){return this._isSingleSided};dF.prototype.setQuadrantSegments=function b(a){this._quadrantSegments=a;this._quadrantSegments===0&&(this._joinStyle=dF.JOIN_BEVEL);this._quadrantSegments<0&&(this._joinStyle=dF.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments));a<=0&&(this._quadrantSegments=1);this._joinStyle!==dF.JOIN_ROUND&&(this._quadrantSegments=dF.DEFAULT_QUADRANT_SEGMENTS)};dF.prototype.getJoinStyle=function a(){return this._joinStyle};dF.prototype.setJoinStyle=function b(a){this._joinStyle=a};dF.prototype.setSimplifyFactor=function b(a){this._simplifyFactor=a<0?0:a};dF.prototype.getSimplifyFactor=function a(){return this._simplifyFactor};dF.prototype.getQuadrantSegments=function a(){return this._quadrantSegments};dF.prototype.setEndCapStyle=function b(a){this._endCapStyle=a};dF.prototype.getMitreLimit=function a(){return this._mitreLimit};dF.prototype.setMitreLimit=function b(a){this._mitreLimit=a};dF.prototype.setSingleSided=function b(a){this._isSingleSided=a};dF.prototype.interfaces_=function a(){return[]};dF.prototype.getClass=function a(){return dF};dF.bufferDistanceError=function b(a){var c=Math.PI/2.0/a;return 1-Math.cos(c/2.0)};dG.CAP_ROUND.get=function(){return 1};dG.CAP_FLAT.get=function(){return 2};dG.CAP_SQUARE.get=function(){return 3};dG.JOIN_ROUND.get=function(){return 1};dG.JOIN_MITRE.get=function(){return 2};dG.JOIN_BEVEL.get=function(){return 3};dG.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8};dG.DEFAULT_MITRE_LIMIT.get=function(){return 5.0};dG.DEFAULT_SIMPLIFY_FACTOR.get=function(){return 0.01};Object.defineProperties(dF,dG);var dH=function b(a){this._distanceTol=null;this._isDeleted=null;this._angleOrientation=aY.COUNTERCLOCKWISE;this._inputLine=a||null},dI={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};dH.prototype.isDeletable=function e(a,b,c,d){var f=this._inputLine[a],g=this._inputLine[b],h=this._inputLine[c];if(!this.isConcave(f,g,h)){return !1}if(!this.isShallow(f,g,h,d)){return !1}return this.isShallowSampled(f,g,a,c,d)};dH.prototype.deleteShallowConcavities=function a(){var b=this,c=1,d=this.findNextNonDeletedIndex(c),e=this.findNextNonDeletedIndex(d),f=!1;while(e<this._inputLine.length){var g=!1;b.isDeletable(c,d,e,b._distanceTol)&&(b._isDeleted[d]=dH.DELETE,g=!0,f=!0);g?(c=e):(c=d);d=b.findNextNonDeletedIndex(c);e=b.findNextNonDeletedIndex(d)}return f};dH.prototype.isShallowConcavity=function e(a,b,c,d){var f=aY.computeOrientation(a,b,c),g=f===this._angleOrientation;if(!g){return !1}var h=aY.distancePointLine(b,a,c);return h<d};dH.prototype.isShallowSampled=function f(a,b,c,d,e){var g=this,h=Math.trunc((d-c)/dH.NUM_PTS_TO_CHECK);h<=0&&(h=1);for(var i=c;i<d;i+=h){if(!g.isShallow(a,b,g._inputLine[i],e)){return !1}}return !0};dH.prototype.isConcave=function(a,b,c){var e=aY.computeOrientation(a,b,c),d=e===this._angleOrientation;return d};dH.prototype.simplify=function b(a){var c=this;this._distanceTol=Math.abs(a);a<0&&(this._angleOrientation=aY.CLOCKWISE);this._isDeleted=new Array(this._inputLine.length).fill(null);var d=!1;do{d=c.deleteShallowConcavities()}while(d);return this.collapseLine()};dH.prototype.findNextNonDeletedIndex=function b(a){var c=a+1;while(c<this._inputLine.length&&this._isDeleted[c]===dH.DELETE)c++;return c};dH.prototype.isShallow=function e(a,b,c,d){var f=aY.distancePointLine(b,a,c);return f<d};dH.prototype.collapseLine=function a(){var b=this,c=new bq();for(var d=0;d<this._inputLine.length;d++)b._isDeleted[d]!==dH.DELETE&&c.add(b._inputLine[d]);return c.toCoordinateArray()};dH.prototype.interfaces_=function a(){return[]};dH.prototype.getClass=function a(){return dH};dH.simplify=function c(a,b){var d=new dH(a);return d.simplify(b)};dI.INIT.get=function(){return 0};dI.DELETE.get=function(){return 1};dI.KEEP.get=function(){return 1};dI.NUM_PTS_TO_CHECK.get=function(){return 10};Object.defineProperties(dH,dI);var dJ=function a(){this._ptList=null;this._precisionModel=null;this._minimimVertexDistance=0.0;this._ptList=new bo()},dK={COORDINATE_ARRAY_TYPE:{configurable:!0}};dJ.prototype.getCoordinates=function a(){var b=this._ptList.toArray(dJ.COORDINATE_ARRAY_TYPE);return b};dJ.prototype.setPrecisionModel=function b(a){this._precisionModel=a};dJ.prototype.addPt=function b(a){var c=new an(a);this._precisionModel.makePrecise(c);if(this.isRedundant(c)){return null}this._ptList.add(c)};dJ.prototype.revere=function a(){};dJ.prototype.addPts=function c(a,b){var d=this;if(b){for(var e=0;e<a.length;e++)d.addPt(a[e])}else{for(var f=a.length-1;f>=0;f--)d.addPt(a[f])}};dJ.prototype.isRedundant=function b(a){if(this._ptList.size()<1){return !1}var c=this._ptList.get(this._ptList.size()-1),d=a.distance(c);if(d<this._minimimVertexDistance){return !0}return !1};dJ.prototype.toString=function a(){var b=new cA(),c=b.createLineString(this.getCoordinates());return c.toString()};dJ.prototype.closeRing=function a(){if(this._ptList.size()<1){return null}var b=new an(this._ptList.get(0)),c=this._ptList.get(this._ptList.size()-1);if(b.equals(c)){return null}this._ptList.add(b)};dJ.prototype.setMinimumVertexDistance=function b(a){this._minimimVertexDistance=a};dJ.prototype.interfaces_=function a(){return[]};dJ.prototype.getClass=function a(){return dJ};dK.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)};Object.defineProperties(dJ,dK);var dL=function a(){},dM={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};dL.prototype.interfaces_=function a(){return[]};dL.prototype.getClass=function a(){return dL};dL.toDegrees=function b(a){return a*180/Math.PI};dL.normalize=function b(a){while(a>Math.PI)a-=dL.PI_TIMES_2;while(a<=-Math.PI)a+=dL.PI_TIMES_2;return a};dL.angle=function a(){if(arguments.length===1){var b=arguments[0];return Math.atan2(b.y,b.x)}else if(arguments.length===2){var c=arguments[0],d=arguments[1],e=d.x-c.x,f=d.y-c.y;return Math.atan2(f,e)}};dL.isAcute=function d(a,b,c){var e=a.x-b.x,f=a.y-b.y,g=c.x-b.x,h=c.y-b.y,i=e*g+f*h;return i>0};dL.isObtuse=function d(a,b,c){var e=a.x-b.x,f=a.y-b.y,g=c.x-b.x,h=c.y-b.y,i=e*g+f*h;return i<0};dL.interiorAngle=function d(a,b,c){var e=dL.angle(b,a),f=dL.angle(b,c);return Math.abs(f-e)};dL.normalizePositive=function b(a){if(a<0.0){while(a<0.0)a+=dL.PI_TIMES_2;a>=dL.PI_TIMES_2&&(a=0.0)}else{while(a>=dL.PI_TIMES_2)a-=dL.PI_TIMES_2;a<0.0&&(a=0.0)}return a};dL.angleBetween=function d(a,b,c){var e=dL.angle(b,a),f=dL.angle(b,c);return dL.diff(e,f)};dL.diff=function c(a,b){var d=null;a<b?(d=b-a):(d=a-b);d>Math.PI&&(d=2*Math.PI-d);return d};dL.toRadians=function b(a){return a*Math.PI/180.0};dL.getTurn=function c(a,b){var d=Math.sin(b-a);if(d>0){return dL.COUNTERCLOCKWISE}if(d<0){return dL.CLOCKWISE}return dL.NONE};dL.angleBetweenOriented=function d(a,b,c){var e=dL.angle(b,a),f=dL.angle(b,c),g=f-e;if(g<=-Math.PI){return g+dL.PI_TIMES_2}if(g>Math.PI){return g-dL.PI_TIMES_2}return g};dM.PI_TIMES_2.get=function(){return 2.0*Math.PI};dM.PI_OVER_2.get=function(){return Math.PI/2.0};dM.PI_OVER_4.get=function(){return Math.PI/4.0};dM.COUNTERCLOCKWISE.get=function(){return aY.COUNTERCLOCKWISE};dM.CLOCKWISE.get=function(){return aY.CLOCKWISE};dM.NONE.get=function(){return aY.COLLINEAR};Object.defineProperties(dL,dM);var dN=function a(){this._maxCurveSegmentError=0.0;this._filletAngleQuantum=null;this._closingSegLengthFactor=1;this._segList=null;this._distance=0.0;this._precisionModel=null;this._bufParams=null;this._li=null;this._s0=null;this._s1=null;this._s2=null;this._seg0=new dw();this._seg1=new dw();this._offset0=new dw();this._offset1=new dw();this._side=0;this._hasNarrowConcaveAngle=!1;var b=arguments[0],c=arguments[1],d=arguments[2];this._precisionModel=b;this._bufParams=c;this._li=new aV();this._filletAngleQuantum=Math.PI/2.0/c.getQuadrantSegments();c.getQuadrantSegments()>=8&&c.getJoinStyle()===dF.JOIN_ROUND&&(this._closingSegLengthFactor=a.MAX_CLOSING_SEG_LEN_FACTOR);this.init(d)},dO={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};dN.prototype.addNextSegment=function c(a,b){this._s0=this._s1;this._s1=this._s2;this._s2=a;this._seg0.setCoordinates(this._s0,this._s1);this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0);this._seg1.setCoordinates(this._s1,this._s2);this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1);if(this._s1.equals(this._s2)){return null}var d=aY.computeOrientation(this._s0,this._s1,this._s2),e=d===aY.CLOCKWISE&&this._side===cC.LEFT||d===aY.COUNTERCLOCKWISE&&this._side===cC.RIGHT;d===0?this.addCollinear(b):e?this.addOutsideTurn(d,b):this.addInsideTurn(d,b)};dN.prototype.addLineEndCap=function c(a,b){var d=new dw(a,b),e=new dw();this.computeOffsetSegment(d,cC.LEFT,this._distance,e);var f=new dw();this.computeOffsetSegment(d,cC.RIGHT,this._distance,f);var g=b.x-a.x,h=b.y-a.y,i=Math.atan2(h,g);switch(this._bufParams.getEndCapStyle()){case dF.CAP_ROUND:this._segList.addPt(e.p1);this.addFilletArc(b,i+Math.PI/2,i-Math.PI/2,aY.CLOCKWISE,this._distance);this._segList.addPt(f.p1);break;case dF.CAP_FLAT:this._segList.addPt(e.p1);this._segList.addPt(f.p1);break;case dF.CAP_SQUARE:var l=new an();l.x=Math.abs(this._distance)*Math.cos(i);l.y=Math.abs(this._distance)*Math.sin(i);var k=new an(e.p1.x+l.x,e.p1.y+l.y);var j=new an(f.p1.x+l.x,f.p1.y+l.y);this._segList.addPt(k);this._segList.addPt(j);break;default:}};dN.prototype.getCoordinates=function a(){var b=this._segList.getCoordinates();return b};dN.prototype.addMitreJoin=function e(a,b,c,d){var f=!0,g=null;try{g=aI.intersection(b.p0,b.p1,c.p0,c.p1);var h=d<=0.0?1.0:g.distance(a)/Math.abs(d);h>this._bufParams.getMitreLimit()&&(f=!1)}catch(a){if(a instanceof aG)g=new an(0,0),f=!1;else{throw a}}finally{};f?this._segList.addPt(g):this.addLimitedMitreJoin(b,c,d,this._bufParams.getMitreLimit())};dN.prototype.addFilletCorner=function f(a,b,c,d,e){var g=b.x-a.x,h=b.y-a.y,i=Math.atan2(h,g),j=c.x-a.x,k=c.y-a.y,l=Math.atan2(k,j);d===aY.CLOCKWISE?(i<=l&&(i+=2.0*Math.PI)):i>=l&&(i-=2.0*Math.PI);this._segList.addPt(b);this.addFilletArc(a,i,l,d,e);this._segList.addPt(c)};dN.prototype.addOutsideTurn=function c(a,b){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*dN.OFFSET_SEGMENT_SEPARATION_FACTOR){this._segList.addPt(this._offset0.p1);return null}this._bufParams.getJoinStyle()===dF.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===dF.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(b&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,a,this._distance),this._segList.addPt(this._offset1.p0))};dN.prototype.createSquare=function b(a){this._segList.addPt(new an(a.x+this._distance,a.y+this._distance));this._segList.addPt(new an(a.x+this._distance,a.y-this._distance));this._segList.addPt(new an(a.x-this._distance,a.y-this._distance));this._segList.addPt(new an(a.x-this._distance,a.y+this._distance));this._segList.closeRing()};dN.prototype.addSegments=function c(a,b){this._segList.addPts(a,b)};dN.prototype.addFirstSegment=function a(){this._segList.addPt(this._offset1.p0)};dN.prototype.addLastSegment=function a(){this._segList.addPt(this._offset1.p1)};dN.prototype.initSideSegments=function d(a,b,c){this._s1=a;this._s2=b;this._side=c;this._seg1.setCoordinates(a,b);this.computeOffsetSegment(this._seg1,c,this._distance,this._offset1)};dN.prototype.addLimitedMitreJoin=function e(a,b,c,d){var f=this._seg0.p1,g=dL.angle(f,this._seg0.p0),h=dL.angleBetweenOriented(this._seg0.p0,f,this._seg1.p1),i=h/2,j=dL.normalize(g+i),k=dL.normalize(j+Math.PI),l=d*c,m=l*Math.abs(Math.sin(i)),n=c-m,o=f.x+l*Math.cos(k),p=f.y+l*Math.sin(k),q=new an(o,p),r=new dw(f,q),s=r.pointAlongOffset(1.0,n),t=r.pointAlongOffset(1.0,-n);this._side===cC.LEFT?(this._segList.addPt(s),this._segList.addPt(t)):(this._segList.addPt(t),this._segList.addPt(s))};dN.prototype.computeOffsetSegment=function e(a,b,c,d){var f=b===cC.LEFT?1:-1,g=a.p1.x-a.p0.x,h=a.p1.y-a.p0.y,i=Math.sqrt(g*g+h*h),j=f*c*g/i,k=f*c*h/i;d.p0.x=a.p0.x-k;d.p0.y=a.p0.y+j;d.p1.x=a.p1.x-k;d.p1.y=a.p1.y+j};dN.prototype.addFilletArc=function f(a,b,c,d,e){var g=this,h=d===aY.CLOCKWISE?-1:1,i=Math.abs(b-c),j=Math.trunc(i/this._filletAngleQuantum+0.5);if(j<1){return null}var k=0.0,l=i/j,m=k,n=new an();while(m<i){var o=b+h*m;n.x=a.x+e*Math.cos(o);n.y=a.y+e*Math.sin(o);g._segList.addPt(n);m+=l}};dN.prototype.addInsideTurn=function c(a,b){this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1);if(this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else{this._hasNarrowConcaveAngle=!0;if(this._offset0.p1.distance(this._offset1.p0)<this._distance*dN.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{this._segList.addPt(this._offset0.p1);if(this._closingSegLengthFactor>0){var d=new an((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(d);var e=new an((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(e)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}};dN.prototype.createCircle=function b(a){var c=new an(a.x+this._distance,a.y);this._segList.addPt(c);this.addFilletArc(a,0.0,2.0*Math.PI,-1,this._distance);this._segList.closeRing()};dN.prototype.addBevelJoin=function c(a,b){this._segList.addPt(a.p1);this._segList.addPt(b.p0)};dN.prototype.init=function b(a){this._distance=a;this._maxCurveSegmentError=a*(1-Math.cos(this._filletAngleQuantum/2.0));this._segList=new dJ();this._segList.setPrecisionModel(this._precisionModel);this._segList.setMinimumVertexDistance(a*dN.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)};dN.prototype.addCollinear=function b(a){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2);var c=this._li.getIntersectionNum();c>=2&&(this._bufParams.getJoinStyle()===dF.JOIN_BEVEL||this._bufParams.getJoinStyle()===dF.JOIN_MITRE?(a&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,aY.CLOCKWISE,this._distance))};dN.prototype.closeRing=function a(){this._segList.closeRing()};dN.prototype.hasNarrowConcaveAngle=function a(){return this._hasNarrowConcaveAngle};dN.prototype.interfaces_=function a(){return[]};dN.prototype.getClass=function a(){return dN};dO.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return 1.0E-3};dO.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1.0E-3};dO.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1.0E-6};dO.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80};Object.defineProperties(dN,dO);var dP=function a(){this._distance=0.0;this._precisionModel=null;this._bufParams=null;var b=arguments[0],c=arguments[1];this._precisionModel=b;this._bufParams=c};dP.prototype.getOffsetCurve=function c(a,b){this._distance=b;if(b===0.0){return null}var d=b<0.0,e=Math.abs(b),f=this.getSegGen(e);a.length<=1?this.computePointCurve(a[0],f):this.computeOffsetCurve(a,d,f);var g=f.getCoordinates();d&&br.reverse(g);return g};dP.prototype.computeSingleSidedBufferCurve=function d(a,b,c){var e=this.simplifyTolerance(this._distance);if(b){c.addSegments(a,!0);var f=dH.simplify(a,-e),g=f.length-1;c.initSideSegments(f[g],f[g-1],cC.LEFT);c.addFirstSegment();for(var h=g-2;h>=0;h--)c.addNextSegment(f[h],!0)}else{c.addSegments(a,!1);var i=dH.simplify(a,e),j=i.length-1;c.initSideSegments(i[0],i[1],cC.LEFT);c.addFirstSegment();for(var k=2;k<=j;k++)c.addNextSegment(i[k],!0)}c.addLastSegment();c.closeRing()};dP.prototype.computeRingBufferCurve=function d(a,b,c){var e=this.simplifyTolerance(this._distance);b===cC.RIGHT&&(e=-e);var f=dH.simplify(a,e),g=f.length-1;c.initSideSegments(f[g-1],f[0],b);for(var h=1;h<=g;h++){var i=h!==1;c.addNextSegment(f[h],i)}c.closeRing()};dP.prototype.computeLineBufferCurve=function c(a,b){var d=this.simplifyTolerance(this._distance),e=dH.simplify(a,d),f=e.length-1;b.initSideSegments(e[0],e[1],cC.LEFT);for(var g=2;g<=f;g++)b.addNextSegment(e[g],!0);b.addLastSegment();b.addLineEndCap(e[f-1],e[f]);var h=dH.simplify(a,-d),i=h.length-1;b.initSideSegments(h[i],h[i-1],cC.LEFT);for(var j=i-2;j>=0;j--)b.addNextSegment(h[j],!0);b.addLastSegment();b.addLineEndCap(h[1],h[0]);b.closeRing()};dP.prototype.computePointCurve=function c(a,b){switch(this._bufParams.getEndCapStyle()){case dF.CAP_ROUND:b.createCircle(a);break;case dF.CAP_SQUARE:b.createSquare(a);break;default:}};dP.prototype.getLineCurve=function c(a,b){this._distance=b;if(b<0.0&&!this._bufParams.isSingleSided()){return null}if(b===0.0){return null}var d=Math.abs(b),e=this.getSegGen(d);if(a.length<=1)this.computePointCurve(a[0],e);else{if(this._bufParams.isSingleSided()){var f=b<0.0;this.computeSingleSidedBufferCurve(a,f,e)}else this.computeLineBufferCurve(a,e)}var g=e.getCoordinates();return g};dP.prototype.getBufferParameters=function a(){return this._bufParams};dP.prototype.simplifyTolerance=function b(a){return a*this._bufParams.getSimplifyFactor()};dP.prototype.getRingCurve=function d(a,b,c){this._distance=c;if(a.length<=2){return this.getLineCurve(a,c)}if(c===0.0){return dP.copyCoordinates(a)}var e=this.getSegGen(c);this.computeRingBufferCurve(a,b,e);return e.getCoordinates()};dP.prototype.computeOffsetCurve=function d(a,b,c){var e=this.simplifyTolerance(this._distance);if(b){var f=dH.simplify(a,-e),g=f.length-1;c.initSideSegments(f[g],f[g-1],cC.LEFT);c.addFirstSegment();for(var h=g-2;h>=0;h--)c.addNextSegment(f[h],!0)}else{var i=dH.simplify(a,e),j=i.length-1;c.initSideSegments(i[0],i[1],cC.LEFT);c.addFirstSegment();for(var k=2;k<=j;k++)c.addNextSegment(i[k],!0)}c.addLastSegment()};dP.prototype.getSegGen=function b(a){return new dN(this._precisionModel,this._bufParams,a)};dP.prototype.interfaces_=function a(){return[]};dP.prototype.getClass=function a(){return dP};dP.copyCoordinates=function b(a){var c=new Array(a.length).fill(null);for(var d=0;d<c.length;d++)c[d]=new an(a[d]);return c};var dQ=function a(){this._subgraphs=null;this._seg=new dw();this._cga=new aY();var b=arguments[0];this._subgraphs=b},dR={DepthSegment:{configurable:!0}};dQ.prototype.findStabbedSegments=function a(){var b=this;if(arguments.length===1){var c=arguments[0],d=new bo();for(var e=this._subgraphs.iterator();e.hasNext();){var f=e.next(),g=f.getEnvelope();if(c.y<g.getMinY()||c.y>g.getMaxY()){continue}b.findStabbedSegments(c,f.getDirectedEdges(),d)}return d}else if(arguments.length===3){if(at(arguments[2],bm)&&(arguments[0] instanceof an&&arguments[1] instanceof cV)){var h=arguments[0],i=arguments[1],j=arguments[2],k=i.getEdge().getCoordinates();for(var l=0;l<k.length-1;l++){b._seg.p0=k[l];b._seg.p1=k[l+1];b._seg.p0.y>b._seg.p1.y&&b._seg.reverse();var m=Math.max(b._seg.p0.x,b._seg.p1.x);if(m<h.x){continue}if(b._seg.isHorizontal()){continue}if(h.y<b._seg.p0.y||h.y>b._seg.p1.y){continue}if(aY.computeOrientation(b._seg.p0,b._seg.p1,h)===aY.RIGHT){continue}var n=i.getDepth(cC.LEFT);b._seg.p0.equals(k[l])||(n=i.getDepth(cC.RIGHT));var o=new dS(b._seg,n);j.add(o)}}else if(at(arguments[2],bm)&&(arguments[0] instanceof an&&at(arguments[1],bm))){var p=arguments[0],q=arguments[1],r=arguments[2];for(var s=q.iterator();s.hasNext();){var t=s.next();if(!t.isForward()){continue}b.findStabbedSegments(p,t,r)}}}};dQ.prototype.getDepth=function b(a){var c=this.findStabbedSegments(a);if(c.size()===0){return 0}var d=dg.min(c);return d._leftDepth};dQ.prototype.interfaces_=function a(){return[]};dQ.prototype.getClass=function a(){return dQ};dR.DepthSegment.get=function(){return dS};Object.defineProperties(dQ,dR);var dS=function a(){this._upwardSeg=null;this._leftDepth=null;var b=arguments[0],c=arguments[1];this._upwardSeg=new dw(b);this._leftDepth=c};dS.prototype.compareTo=function b(a){var c=a;if(this._upwardSeg.minX()>=c._upwardSeg.maxX()){return 1}if(this._upwardSeg.maxX()<=c._upwardSeg.minX()){return-1}var d=this._upwardSeg.orientationIndex(c._upwardSeg);if(d!==0){return d}d=-1*c._upwardSeg.orientationIndex(this._upwardSeg);if(d!==0){return d}return this._upwardSeg.compareTo(c._upwardSeg)};dS.prototype.compareX=function c(a,b){var d=a.p0.compareTo(b.p0);if(d!==0){return d}return a.p1.compareTo(b.p1)};dS.prototype.toString=function a(){return this._upwardSeg.toString()};dS.prototype.interfaces_=function a(){return[aj]};dS.prototype.getClass=function a(){return dS};var dT=function d(a,b,c){this.p0=a||null;this.p1=b||null;this.p2=c||null};dT.prototype.area=function a(){return dT.area(this.p0,this.p1,this.p2)};dT.prototype.signedArea=function a(){return dT.signedArea(this.p0,this.p1,this.p2)};dT.prototype.interpolateZ=function b(a){if(a===null){throw new ag('Supplied point is null.')}return dT.interpolateZ(a,this.p0,this.p1,this.p2)};dT.prototype.longestSideLength=function a(){return dT.longestSideLength(this.p0,this.p1,this.p2)};dT.prototype.isAcute=function a(){return dT.isAcute(this.p0,this.p1,this.p2)};dT.prototype.circumcentre=function a(){return dT.circumcentre(this.p0,this.p1,this.p2)};dT.prototype.area3D=function a(){return dT.area3D(this.p0,this.p1,this.p2)};dT.prototype.centroid=function a(){return dT.centroid(this.p0,this.p1,this.p2)};dT.prototype.inCentre=function a(){return dT.inCentre(this.p0,this.p1,this.p2)};dT.prototype.interfaces_=function a(){return[]};dT.prototype.getClass=function a(){return dT};dT.area=function d(a,b,c){return Math.abs(((c.x-a.x)*(b.y-a.y)-(b.x-a.x)*(c.y-a.y))/2)};dT.signedArea=function d(a,b,c){return((c.x-a.x)*(b.y-a.y)-(b.x-a.x)*(c.y-a.y))/2};dT.det=function e(a,b,c,d){return a*d-b*c};dT.interpolateZ=function e(a,b,c,d){var f=b.x,g=b.y,h=c.x-f,i=d.x-f,j=c.y-g,k=d.y-g,l=h*k-i*j,m=a.x-f,n=a.y-g,o=(k*m-i*n)/l,p=(-j*m+h*n)/l,q=b.z+o*(c.z-b.z)+p*(d.z-b.z);return q};dT.longestSideLength=function d(a,b,c){var e=a.distance(b),f=b.distance(c),g=c.distance(a),h=e;f>h&&(h=f);g>h&&(h=g);return h};dT.isAcute=function d(a,b,c){if(!dL.isAcute(a,b,c)){return !1}if(!dL.isAcute(b,c,a)){return !1}if(!dL.isAcute(c,a,b)){return !1}return !0};dT.circumcentre=function d(a,b,c){var e=c.x,f=c.y,g=a.x-e,h=a.y-f,i=b.x-e,j=b.y-f,k=2*dT.det(g,h,i,j),l=dT.det(h,g*g+h*h,j,i*i+j*j),m=dT.det(g,g*g+h*h,i,i*i+j*j),n=e-l/k,o=f+m/k;return new an(n,o)};dT.perpendicularBisector=function c(a,b){var d=b.x-a.x,e=b.y-a.y,f=new aI(a.x+d/2.0,a.y+e/2.0,1.0),g=new aI(a.x-e+d/2.0,a.y+d+e/2.0,1.0);return new aI(f,g)};dT.angleBisector=function d(a,b,c){var e=b.distance(a),f=b.distance(c),g=e/(e+f),h=c.x-a.x,i=c.y-a.y,j=new an(a.x+g*h,a.y+g*i);return j};dT.area3D=function(a,b,c){var e=b.x-a.x,f=b.y-a.y,g=b.z-a.z,h=c.x-a.x,i=c.y-a.y,j=c.z-a.z,k=f*j-g*i,l=g*h-e*j,m=e*i-f*h,n=k*k+l*l+m*m,d=Math.sqrt(n)/2;return d};dT.centroid=function d(a,b,c){var e=(a.x+b.x+c.x)/3,f=(a.y+b.y+c.y)/3;return new an(e,f)};dT.inCentre=function d(a,b,c){var e=b.distance(c),f=a.distance(c),g=a.distance(b),h=e+f+g,i=(e*a.x+f*b.x+g*c.x)/h,j=(e*a.y+f*b.y+g*c.y)/h;return new an(i,j)};var dU=function a(){this._inputGeom=null;this._distance=null;this._curveBuilder=null;this._curveList=new bo();var b=arguments[0],c=arguments[1],d=arguments[2];this._inputGeom=b;this._distance=c;this._curveBuilder=d};dU.prototype.addPoint=function b(a){if(this._distance<=0.0){return null}var c=a.getCoordinates(),d=this._curveBuilder.getLineCurve(c,this._distance);this.addCurve(d,ar.EXTERIOR,ar.INTERIOR)};dU.prototype.addPolygon=function b(a){var c=this,d=this._distance,e=cC.LEFT;this._distance<0.0&&(d=-this._distance,e=cC.RIGHT);var f=a.getExteriorRing(),g=br.removeRepeatedPoints(f.getCoordinates());if(this._distance<0.0&&this.isErodedCompletely(f,this._distance)){return null}if(this._distance<=0.0&&g.length<3){return null}this.addPolygonRing(g,d,e,ar.EXTERIOR,ar.INTERIOR);for(var h=0;h<a.getNumInteriorRing();h++){var i=a.getInteriorRingN(h),j=br.removeRepeatedPoints(i.getCoordinates());if(c._distance>0.0&&c.isErodedCompletely(i,-c._distance)){continue}c.addPolygonRing(j,d,cC.opposite(e),ar.INTERIOR,ar.EXTERIOR)}};dU.prototype.isTriangleErodedCompletely=function c(a,b){var d=new dT(a[0],a[1],a[2]),e=d.inCentre(),f=aY.distancePointLine(e,d.p0,d.p1);return f<Math.abs(b)};dU.prototype.addLineString=function b(a){if(this._distance<=0.0&&!this._curveBuilder.getBufferParameters().isSingleSided()){return null}var c=br.removeRepeatedPoints(a.getCoordinates()),d=this._curveBuilder.getLineCurve(c,this._distance);this.addCurve(d,ar.EXTERIOR,ar.INTERIOR)};dU.prototype.addCurve=function d(a,b,c){if(a===null||a.length<2){return null}var e=new dv(a,new cL(0,ar.BOUNDARY,b,c));this._curveList.add(e)};dU.prototype.getCurves=function a(){this.add(this._inputGeom);return this._curveList};dU.prototype.addPolygonRing=function f(a,b,c,d,e){if(b===0.0&&a.length<ck.MINIMUM_VALID_SIZE){return null}var g=d,h=e;a.length>=ck.MINIMUM_VALID_SIZE&&aY.isCCW(a)&&(g=e,h=d,c=cC.opposite(c));var i=this._curveBuilder.getRingCurve(a,c,b);this.addCurve(i,g,h)};dU.prototype.add=function b(a){if(a.isEmpty()){return null}a instanceof ci?this.addPolygon(a):a instanceof cd?this.addLineString(a):a instanceof cf?this.addPoint(a):a instanceof cj?this.addCollection(a):a instanceof bT?this.addCollection(a):a instanceof cl?this.addCollection(a):a instanceof bS&&this.addCollection(a)};dU.prototype.isErodedCompletely=function c(a,b){var d=a.getCoordinates();if(d.length<4){return b<0}if(d.length===4){return this.isTriangleErodedCompletely(d,b)}var e=a.getEnvelopeInternal(),f=Math.min(e.getHeight(),e.getWidth());if(b<0.0&&2*Math.abs(b)>f){return !0}return !1};dU.prototype.addCollection=function b(a){var c=this;for(var d=0;d<a.getNumGeometries();d++){var e=a.getGeometryN(d);c.add(e)}};dU.prototype.interfaces_=function a(){return[]};dU.prototype.getClass=function a(){return dU};var dV=function a(){};dV.prototype.locate=function b(a){};dV.prototype.interfaces_=function a(){return[]};dV.prototype.getClass=function a(){return dV};var dW=function a(){this._parent=null;this._atStart=null;this._max=null;this._index=null;this._subcollectionIterator=null;var b=arguments[0];this._parent=b;this._atStart=!0;this._index=0;this._max=b.getNumGeometries()};dW.prototype.next=function a(){if(this._atStart){this._atStart=!1;dW.isAtomic(this._parent)&&this._index++;return this._parent}if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext()){return this._subcollectionIterator.next()}else this._subcollectionIterator=null}if(this._index>=this._max){throw new bn()}var b=this._parent.getGeometryN(this._index++);if(b instanceof bS){this._subcollectionIterator=new dW(b);return this._subcollectionIterator.next()}return b};dW.prototype.remove=function a(){throw new Error(this.getClass().getName())};dW.prototype.hasNext=function a(){if(this._atStart){return !0}if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext()){return !0}this._subcollectionIterator=null}if(this._index>=this._max){return !1}return !0};dW.prototype.interfaces_=function a(){return[bl]};dW.prototype.getClass=function a(){return dW};dW.isAtomic=function b(a){return!(a instanceof bS)};var dX=function a(){this._geom=null;var b=arguments[0];this._geom=b};dX.prototype.locate=function b(a){return dX.locate(a,this._geom)};dX.prototype.interfaces_=function a(){return[dV]};dX.prototype.getClass=function a(){return dX};dX.isPointInRing=function c(a,b){if(!b.getEnvelopeInternal().intersects(a)){return !1}return aY.isPointInRing(a,b.getCoordinates())};dX.containsPointInPolygon=function c(a,b){if(b.isEmpty()){return !1}var d=b.getExteriorRing();if(!dX.isPointInRing(a,d)){return !1}for(var e=0;e<b.getNumInteriorRing();e++){var f=b.getInteriorRingN(e);if(dX.isPointInRing(a,f)){return !1}}return !0};dX.containsPoint=function c(a,b){if(b instanceof ci){return dX.containsPointInPolygon(a,b)}else if(b instanceof bS){var d=new dW(b);while(d.hasNext()){var e=d.next();if(e!==b){if(dX.containsPoint(a,e)){return !0}}}};return !1};dX.locate=function c(a,b){if(b.isEmpty()){return ar.EXTERIOR}if(dX.containsPoint(a,b)){return ar.INTERIOR}return ar.EXTERIOR};var dY=function a(){this._edgeMap=new bI();this._edgeList=null;this._ptInAreaLocation=[ar.NONE,ar.NONE]};dY.prototype.getNextCW=function b(a){this.getEdges();var c=this._edgeList.indexOf(a),d=c-1;c===0&&(d=this._edgeList.size()-1);return this._edgeList.get(d)};dY.prototype.propagateSideLabels=function b(a){var c=ar.NONE;for(var d=this.iterator();d.hasNext();){var e=d.next(),f=e.getLabel();f.isArea(a)&&f.getLocation(a,cC.LEFT)!==ar.NONE&&(c=f.getLocation(a,cC.LEFT))}if(c===ar.NONE){return null}var g=c;for(var h=this.iterator();h.hasNext();){var i=h.next(),j=i.getLabel();j.getLocation(a,cC.ON)===ar.NONE&&j.setLocation(a,cC.ON,g);if(j.isArea(a)){var k=j.getLocation(a,cC.LEFT),l=j.getLocation(a,cC.RIGHT);if(l!==ar.NONE){if(l!==g){throw new cH('side location conflict',i.getCoordinate())}k===ar.NONE&&aS.shouldNeverReachHere('found single null side (at '+i.getCoordinate()+')');g=k}else aS.isTrue(j.getLocation(a,cC.LEFT)===ar.NONE,'found single null side'),j.setLocation(a,cC.RIGHT,g),j.setLocation(a,cC.LEFT,g)}}};dY.prototype.getCoordinate=function a(){var b=this.iterator();if(!b.hasNext()){return null}var c=b.next();return c.getCoordinate()};dY.prototype.print=function b(a){aH.out.println('EdgeEndStar:   '+this.getCoordinate());for(var c=this.iterator();c.hasNext();){var d=c.next();d.print(a)}};dY.prototype.isAreaLabelsConsistent=function b(a){this.computeEdgeEndLabels(a.getBoundaryNodeRule());return this.checkAreaLabelsConsistent(0)};dY.prototype.checkAreaLabelsConsistent=function b(a){var c=this.getEdges();if(c.size()<=0){return !0}var d=c.size()-1,e=c.get(d).getLabel(),f=e.getLocation(a,cC.LEFT);aS.isTrue(f!==ar.NONE,'Found unlabelled area edge');var g=f;for(var h=this.iterator();h.hasNext();){var i=h.next(),j=i.getLabel();aS.isTrue(j.isArea(a),'Found non-area edge');var k=j.getLocation(a,cC.LEFT),l=j.getLocation(a,cC.RIGHT);if(k===l){return !1}if(l!==g){return !1}g=k}return !0};dY.prototype.findIndex=function b(a){var c=this;this.iterator();for(var d=0;d<this._edgeList.size();d++){var e=c._edgeList.get(d);if(e===a){return d}}return-1};dY.prototype.iterator=function a(){return this.getEdges().iterator()};dY.prototype.getEdges=function a(){this._edgeList===null&&(this._edgeList=new bo(this._edgeMap.values()));return this._edgeList};dY.prototype.getLocation=function d(a,b,c){this._ptInAreaLocation[a]===ar.NONE&&(this._ptInAreaLocation[a]=dX.locate(b,c[a].getGeometry()));return this._ptInAreaLocation[a]};dY.prototype.toString=function a(){var b=new aw();b.append('EdgeEndStar:   '+this.getCoordinate());b.append('\n');for(var c=this.iterator();c.hasNext();){var d=c.next();b.append(d);b.append('\n')}return b.toString()};dY.prototype.computeEdgeEndLabels=function b(a){for(var c=this.iterator();c.hasNext();){var d=c.next();d.computeLabel(a)}};dY.prototype.computeLabelling=function b(a){var c=this;this.computeEdgeEndLabels(a[0].getBoundaryNodeRule());this.propagateSideLabels(0);this.propagateSideLabels(1);var d=[!1,!1];for(var e=this.iterator();e.hasNext();){var f=e.next(),g=f.getLabel();for(var h=0;h<2;h++)g.isLine(h)&&g.getLocation(h)===ar.BOUNDARY&&(d[h]=!0)}for(var i=this.iterator();i.hasNext();){var j=i.next(),k=j.getLabel();for(var l=0;l<2;l++){if(k.isAnyNull(l)){var m=ar.NONE;if(d[l])m=ar.EXTERIOR;else{var n=j.getCoordinate();m=c.getLocation(l,n,a)}k.setAllLocationsIfNull(l,m)}}}};dY.prototype.getDegree=function a(){return this._edgeMap.size()};dY.prototype.insertEdgeEnd=function c(a,b){this._edgeMap.put(a,b);this._edgeList=null};dY.prototype.interfaces_=function a(){return[]};dY.prototype.getClass=function a(){return dY};var dZ=function(a){function b(){a.call(this);this._resultAreaEdgeList=null;this._label=null;this._SCANNING_FOR_INCOMING=1;this._LINKING_TO_OUTGOING=2}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.linkResultDirectedEdges=function a(){var b=this;this.getResultAreaEdges();var c=null,d=null,e=this._SCANNING_FOR_INCOMING;for(var f=0;f<this._resultAreaEdgeList.size();f++){var g=b._resultAreaEdgeList.get(f),h=g.getSym();if(!g.getLabel().isArea()){continue}c===null&&g.isInResult()&&(c=g);switch(e){case b._SCANNING_FOR_INCOMING:if(!h.isInResult()){continue};d=h;e=b._LINKING_TO_OUTGOING;break;case b._LINKING_TO_OUTGOING:if(!g.isInResult()){continue};d.setNext(g);e=b._SCANNING_FOR_INCOMING;break;default:}}if(e===this._LINKING_TO_OUTGOING){if(c===null){throw new cH('no outgoing dirEdge found',this.getCoordinate())}aS.isTrue(c.isInResult(),'unable to link last incoming dirEdge');d.setNext(c)}};b.prototype.insert=function b(a){var c=a;this.insertEdgeEnd(c,c)};b.prototype.getRightmostEdge=function a(){var b=this.getEdges(),c=b.size();if(c<1){return null}var d=b.get(0);if(c===1){return d}var e=b.get(c-1),f=d.getQuadrant(),g=e.getQuadrant();if(cS.isNorthern(f)&&cS.isNorthern(g)){return d}else if(!cS.isNorthern(f)&&!cS.isNorthern(g)){return e}else{if(d.getDy()!==0){return d}else if(e.getDy()!==0){return e}};aS.shouldNeverReachHere('found two horizontal edges incident on node');return null};b.prototype.print=function b(a){aH.out.println('DirectedEdgeStar: '+this.getCoordinate());for(var c=this.iterator();c.hasNext();){var d=c.next();a.print('out ');d.print(a);a.println();a.print('in ');d.getSym().print(a);a.println()}};b.prototype.getResultAreaEdges=function a(){var b=this;if(this._resultAreaEdgeList!==null){return this._resultAreaEdgeList}this._resultAreaEdgeList=new bo();for(var c=this.iterator();c.hasNext();){var d=c.next();(d.isInResult()||d.getSym().isInResult())&&b._resultAreaEdgeList.add(d)}return this._resultAreaEdgeList};b.prototype.updateLabelling=function b(a){for(var c=this.iterator();c.hasNext();){var d=c.next(),e=d.getLabel();e.setAllLocationsIfNull(0,a.getLocation(0));e.setAllLocationsIfNull(1,a.getLocation(1))}};b.prototype.linkAllDirectedEdges=function a(){var b=this;this.getEdges();var c=null,d=null;for(var e=this._edgeList.size()-1;e>=0;e--){var f=b._edgeList.get(e),g=f.getSym();d===null&&(d=g);c!==null&&g.setNext(c);c=f}d.setNext(c)};b.prototype.computeDepths=function a(){var b=this;if(arguments.length===1){var c=arguments[0],d=this.findIndex(c),e=c.getDepth(cC.LEFT),f=c.getDepth(cC.RIGHT),g=this.computeDepths(d+1,this._edgeList.size(),e),h=this.computeDepths(0,d,g);if(h!==f){throw new cH('depth mismatch at '+c.getCoordinate())}}else if(arguments.length===3){var i=arguments[0],j=arguments[1],k=arguments[2],l=k;for(var m=i;m<j;m++){var n=b._edgeList.get(m);n.setEdgeDepths(cC.RIGHT,l);l=n.getDepth(cC.LEFT)}return l}};b.prototype.mergeSymLabels=function a(){for(var b=this.iterator();b.hasNext();){var c=b.next(),d=c.getLabel();d.merge(c.getSym().getLabel())}};b.prototype.linkMinimalDirectedEdges=function b(a){var c=this,d=null,e=null,f=this._SCANNING_FOR_INCOMING;for(var g=this._resultAreaEdgeList.size()-1;g>=0;g--){var h=c._resultAreaEdgeList.get(g),i=h.getSym();d===null&&h.getEdgeRing()===a&&(d=h);switch(f){case c._SCANNING_FOR_INCOMING:if(i.getEdgeRing()!==a){continue};e=i;f=c._LINKING_TO_OUTGOING;break;case c._LINKING_TO_OUTGOING:if(h.getEdgeRing()!==a){continue};e.setNextMin(h);f=c._SCANNING_FOR_INCOMING;break;default:}}f===this._LINKING_TO_OUTGOING&&(aS.isTrue(d!==null,'found null for first outgoing dirEdge'),aS.isTrue(d.getEdgeRing()===a,'unable to link last incoming dirEdge'),e.setNextMin(d))};b.prototype.getOutgoingDegree=function a(){if(arguments.length===0){var b=0;for(var c=this.iterator();c.hasNext();){var d=c.next();d.isInResult()&&b++}return b}else if(arguments.length===1){var e=arguments[0],f=0;for(var g=this.iterator();g.hasNext();){var h=g.next();h.getEdgeRing()===e&&f++}return f}};b.prototype.getLabel=function a(){return this._label};b.prototype.findCoveredLineEdges=function a(){var b=ar.NONE;for(var c=this.iterator();c.hasNext();){var d=c.next(),e=d.getSym();if(!d.isLineEdge()){if(d.isInResult()){b=ar.INTERIOR;break}if(e.isInResult()){b=ar.EXTERIOR;break}}}if(b===ar.NONE){return null}var f=b;for(var g=this.iterator();g.hasNext();){var h=g.next(),i=h.getSym();h.isLineEdge()?h.getEdge().setCovered(f===ar.INTERIOR):(h.isInResult()&&(f=ar.EXTERIOR),i.isInResult()&&(f=ar.INTERIOR))}};b.prototype.computeLabelling=function c(b){var d=this;a.prototype.computeLabelling.call(this,b);this._label=new cL(ar.NONE);for(var e=this.iterator();e.hasNext();){var f=e.next(),g=f.getEdge(),h=g.getLabel();for(var i=0;i<2;i++){var j=h.getLocation(i);(j===ar.INTERIOR||j===ar.BOUNDARY)&&d._label.setLocation(i,ar.INTERIOR)}}};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};return b}(dY),d_=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.createNode=function b(a){return new cQ(a,new dZ())};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};return b}(cW),d$=function a(){this._pts=null;this._orientation=null;var b=arguments[0];this._pts=b;this._orientation=a.orientation(b)};d$.prototype.compareTo=function b(a){var c=a,d=d$.compareOriented(this._pts,this._orientation,c._pts,c._orientation);return d};d$.prototype.interfaces_=function a(){return[aj]};d$.prototype.getClass=function a(){return d$};d$.orientation=function b(a){return br.increasingDirection(a)===1};d$.compareOriented=function e(a,b,c,d){var f=b?1:-1,g=d?1:-1,h=b?a.length:-1,i=d?c.length:-1,j=b?0:a.length-1,k=d?0:c.length-1;while(!0){var l=a[j].compareTo(c[k]);if(l!==0){return l}j+=f;k+=g;var m=j===h,n=k===i;if(m&&!n){return-1}if(!m&&n){return 1}if(m&&n){return 0}}};var ea=function a(){this._edges=new bo();this._ocaMap=new bI()};ea.prototype.print=function b(a){var c=this;a.print('MULTILINESTRING ( ');for(var d=0;d<this._edges.size();d++){var e=c._edges.get(d);d>0&&a.print(',');a.print('(');var f=e.getCoordinates();for(var g=0;g<f.length;g++)g>0&&a.print(','),a.print(f[g].x+' '+f[g].y);a.println(')')}a.print(')  ')};ea.prototype.addAll=function b(a){var c=this;for(var d=a.iterator();d.hasNext();)c.add(d.next())};ea.prototype.findEdgeIndex=function b(a){var c=this;for(var d=0;d<this._edges.size();d++){if(c._edges.get(d).equals(a)){return d}}return-1};ea.prototype.iterator=function a(){return this._edges.iterator()};ea.prototype.getEdges=function a(){return this._edges};ea.prototype.get=function b(a){return this._edges.get(a)};ea.prototype.findEqualEdge=function b(a){var c=new d$(a.getCoordinates()),d=this._ocaMap.get(c);return d};ea.prototype.add=function b(a){this._edges.add(a);var c=new d$(a.getCoordinates());this._ocaMap.put(c,a)};ea.prototype.interfaces_=function a(){return[]};ea.prototype.getClass=function a(){return ea};var eb=function a(){};eb.prototype.processIntersections=function e(a,b,c,d){};eb.prototype.isDone=function a(){};eb.prototype.interfaces_=function a(){return[]};eb.prototype.getClass=function a(){return eb};var ec=function a(){this._hasIntersection=!1;this._hasProper=!1;this._hasProperInterior=!1;this._hasInterior=!1;this._properIntersectionPoint=null;this._li=null;this._isSelfIntersection=null;this.numIntersections=0;this.numInteriorIntersections=0;this.numProperIntersections=0;this.numTests=0;var b=arguments[0];this._li=b};ec.prototype.isTrivialIntersection=function e(a,b,c,d){if(a===c){if(this._li.getIntersectionNum()===1){if(ec.isAdjacentSegments(b,d)){return !0}if(a.isClosed()){var f=a.size()-1;if(b===0&&d===f||d===0&&b===f){return !0}}}}return !1};ec.prototype.getProperIntersectionPoint=function a(){return this._properIntersectionPoint};ec.prototype.hasProperInteriorIntersection=function a(){return this._hasProperInterior};ec.prototype.getLineIntersector=function a(){return this._li};ec.prototype.hasProperIntersection=function a(){return this._hasProper};ec.prototype.processIntersections=function e(a,b,c,d){if(a===c&&b===d){return null}this.numTests++;var f=a.getCoordinates()[b],g=a.getCoordinates()[b+1],h=c.getCoordinates()[d],i=c.getCoordinates()[d+1];this._li.computeIntersection(f,g,h,i);this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(a,b,c,d)||(this._hasIntersection=!0,a.addIntersections(this._li,b,0),c.addIntersections(this._li,d,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))};ec.prototype.hasIntersection=function a(){return this._hasIntersection};ec.prototype.isDone=function a(){return !1};ec.prototype.hasInteriorIntersection=function a(){return this._hasInterior};ec.prototype.interfaces_=function a(){return[eb]};ec.prototype.getClass=function a(){return ec};ec.isAdjacentSegments=function c(a,b){return Math.abs(a-b)===1};var ed=function a(){this.coord=null;this.segmentIndex=null;this.dist=null;var b=arguments[0],c=arguments[1],d=arguments[2];this.coord=new an(b);this.segmentIndex=c;this.dist=d};ed.prototype.getSegmentIndex=function a(){return this.segmentIndex};ed.prototype.getCoordinate=function a(){return this.coord};ed.prototype.print=function b(a){a.print(this.coord);a.print(' seg # = '+this.segmentIndex);a.println(' dist = '+this.dist)};ed.prototype.compareTo=function b(a){var c=a;return this.compare(c.segmentIndex,c.dist)};ed.prototype.isEndPoint=function b(a){if(this.segmentIndex===0&&this.dist===0.0){return !0}if(this.segmentIndex===a){return !0}return !1};ed.prototype.toString=function a(){return this.coord+' seg # = '+this.segmentIndex+' dist = '+this.dist};ed.prototype.getDistance=function a(){return this.dist};ed.prototype.compare=function c(a,b){if(this.segmentIndex<a){return-1}if(this.segmentIndex>a){return 1}if(this.dist<b){return-1}if(this.dist>b){return 1}return 0};ed.prototype.interfaces_=function a(){return[aj]};ed.prototype.getClass=function a(){return ed};var ef=function a(){this._nodeMap=new bI();this.edge=null;var b=arguments[0];this.edge=b};ef.prototype.print=function b(a){a.println('Intersections:');for(var c=this.iterator();c.hasNext();){var d=c.next();d.print(a)}};ef.prototype.iterator=function a(){return this._nodeMap.values().iterator()};ef.prototype.addSplitEdges=function b(a){var c=this;this.addEndpoints();var d=this.iterator(),e=d.next();while(d.hasNext()){var f=d.next(),g=c.createSplitEdge(e,f);a.add(g);e=f}};ef.prototype.addEndpoints=function a(){var b=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0.0);this.add(this.edge.pts[b],b,0.0)};ef.prototype.createSplitEdge=function c(a,b){var d=this,e=b.segmentIndex-a.segmentIndex+2,f=this.edge.pts[b.segmentIndex],g=b.dist>0.0||!b.coord.equals2D(f);g||e--;var h=new Array(e).fill(null),i=0;h[i++]=new an(a.coord);for(var j=a.segmentIndex+1;j<=b.segmentIndex;j++)h[i++]=d.edge.pts[j];g&&(h[i]=b.coord);return new ek(h,new cL(this.edge._label))};ef.prototype.add=function d(a,b,c){var e=new ed(a,b,c),f=this._nodeMap.get(e);if(f!==null){return f}this._nodeMap.put(e,e);return e};ef.prototype.isIntersection=function b(a){for(var c=this.iterator();c.hasNext();){var d=c.next();if(d.coord.equals(a)){return !0}}return !1};ef.prototype.interfaces_=function a(){return[]};ef.prototype.getClass=function a(){return ef};var eg=function a(){};eg.prototype.getChainStartIndices=function b(a){var c=this,d=0,e=new bo();e.add(new ax(d));do{var f=c.findChainEnd(a,d);e.add(new ax(f));d=f}while(d<a.length-1);var g=eg.toIntArray(e);return g};eg.prototype.findChainEnd=function c(a,b){var d=cS.quadrant(a[b],a[b+1]),e=b+1;while(e<a.length){var f=cS.quadrant(a[e-1],a[e]);if(f!==d){break}e++}return e-1};eg.prototype.interfaces_=function a(){return[]};eg.prototype.getClass=function a(){return eg};eg.toIntArray=function b(a){var c=new Array(a.size()).fill(null);for(var d=0;d<c.length;d++)c[d]=a.get(d).intValue();return c};var eh=function a(){this.e=null;this.pts=null;this.startIndex=null;this.env1=new aJ();this.env2=new aJ();var b=arguments[0];this.e=b;this.pts=b.getCoordinates();var c=new eg();this.startIndex=c.getChainStartIndices(this.pts)};eh.prototype.getCoordinates=function a(){return this.pts};eh.prototype.getMaxX=function b(a){var c=this.pts[this.startIndex[a]].x,d=this.pts[this.startIndex[a+1]].x;return c>d?c:d};eh.prototype.getMinX=function b(a){var c=this.pts[this.startIndex[a]].x,d=this.pts[this.startIndex[a+1]].x;return c<d?c:d};eh.prototype.computeIntersectsForChain=function a(){if(arguments.length===4){var b=arguments[0],c=arguments[1],d=arguments[2],e=arguments[3];this.computeIntersectsForChain(this.startIndex[b],this.startIndex[b+1],c,c.startIndex[d],c.startIndex[d+1],e)}else if(arguments.length===6){var f=arguments[0],g=arguments[1],h=arguments[2],i=arguments[3],j=arguments[4],k=arguments[5],l=this.pts[f],m=this.pts[g],n=h.pts[i],o=h.pts[j];if(g-f===1&&j-i===1){k.addIntersections(this.e,f,h.e,i);return null}this.env1.init(l,m);this.env2.init(n,o);if(!this.env1.intersects(this.env2)){return null}var p=Math.trunc((f+g)/2),q=Math.trunc((i+j)/2);f<p&&(i<q&&this.computeIntersectsForChain(f,p,h,i,q,k),q<j&&this.computeIntersectsForChain(f,p,h,q,j,k));p<g&&(i<q&&this.computeIntersectsForChain(p,g,h,i,q,k),q<j&&this.computeIntersectsForChain(p,g,h,q,j,k))}};eh.prototype.getStartIndexes=function a(){return this.startIndex};eh.prototype.computeIntersects=function c(a,b){var d=this;for(var e=0;e<this.startIndex.length-1;e++){for(var f=0;f<a.startIndex.length-1;f++)d.computeIntersectsForChain(e,a,f,b)}};eh.prototype.interfaces_=function a(){return[]};eh.prototype.getClass=function a(){return eh};var ei=function a(){var b=this;this._depth=Array(2).fill().map(function(){return Array(3)});for(var c=0;c<2;c++){for(var d=0;d<3;d++)b._depth[c][d]=a.NULL_VALUE}},ej={NULL_VALUE:{configurable:!0}};ei.prototype.getDepth=function c(a,b){return this._depth[a][b]};ei.prototype.setDepth=function d(a,b,c){this._depth[a][b]=c};ei.prototype.isNull=function a(){var b=this;if(arguments.length===0){for(var c=0;c<2;c++){for(var d=0;d<3;d++){if(b._depth[c][d]!==ei.NULL_VALUE){return !1}}}return !0}else if(arguments.length===1){var e=arguments[0];return this._depth[e][1]===ei.NULL_VALUE}else if(arguments.length===2){var f=arguments[0],g=arguments[1];return this._depth[f][g]===ei.NULL_VALUE}};ei.prototype.normalize=function a(){var b=this;for(var c=0;c<2;c++){if(!b.isNull(c)){var d=b._depth[c][1];b._depth[c][2]<d&&(d=b._depth[c][2]);d<0&&(d=0);for(var e=1;e<3;e++){var f=0;b._depth[c][e]>d&&(f=1);b._depth[c][e]=f}}}};ei.prototype.getDelta=function b(a){return this._depth[a][cC.RIGHT]-this._depth[a][cC.LEFT]};ei.prototype.getLocation=function c(a,b){if(this._depth[a][b]<=0){return ar.EXTERIOR}return ar.INTERIOR};ei.prototype.toString=function a(){return'A: '+this._depth[0][1]+','+this._depth[0][2]+' B: '+this._depth[1][1]+','+this._depth[1][2]};ei.prototype.add=function a(){var b=this;if(arguments.length===1){var c=arguments[0];for(var d=0;d<2;d++){for(var e=1;e<3;e++){var f=c.getLocation(d,e);(f===ar.EXTERIOR||f===ar.INTERIOR)&&(b.isNull(d,e)?(b._depth[d][e]=ei.depthAtLocation(f)):(b._depth[d][e]+=ei.depthAtLocation(f)))}}}else if(arguments.length===3){var g=arguments[0],h=arguments[1],i=arguments[2];i===ar.INTERIOR&&this._depth[g][h]++}};ei.prototype.interfaces_=function a(){return[]};ei.prototype.getClass=function a(){return ei};ei.depthAtLocation=function b(a){if(a===ar.EXTERIOR){return 0}if(a===ar.INTERIOR){return 1}return ei.NULL_VALUE};ej.NULL_VALUE.get=function(){return-1};Object.defineProperties(ei,ej);var ek=function(a){function b(){a.call(this);this.pts=null;this._env=null;this.eiList=new ef(this);this._name=null;this._mce=null;this._isIsolated=!0;this._depth=new ei();this._depthDelta=0;if(arguments.length===1){var c=arguments[0];b.call(this,c,null)}else if(arguments.length===2){var d=arguments[0],e=arguments[1];this.pts=d;this._label=e}}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getDepth=function a(){return this._depth};b.prototype.getCollapsedEdge=function a(){var c=new Array(2).fill(null);c[0]=this.pts[0];c[1]=this.pts[1];var d=new b(c,cL.toLineLabel(this._label));return d};b.prototype.isIsolated=function a(){return this._isIsolated};b.prototype.getCoordinates=function a(){return this.pts};b.prototype.setIsolated=function b(a){this._isIsolated=a};b.prototype.setName=function b(a){this._name=a};b.prototype.equals=function c(a){var d=this;if(!(a instanceof b)){return !1}var e=a;if(this.pts.length!==e.pts.length){return !1}var f=!0,g=!0,h=this.pts.length;for(var i=0;i<this.pts.length;i++){d.pts[i].equals2D(e.pts[i])||(f=!1);d.pts[i].equals2D(e.pts[--h])||(g=!1);if(!f&&!g){return !1}}return !0};b.prototype.getCoordinate=function a(){if(arguments.length===0){if(this.pts.length>0){return this.pts[0]}return null}else if(arguments.length===1){var b=arguments[0];return this.pts[b]}};b.prototype.print=function b(a){var c=this;a.print('edge '+this._name+': ');a.print('LINESTRING (');for(var d=0;d<this.pts.length;d++)d>0&&a.print(','),a.print(c.pts[d].x+' '+c.pts[d].y);a.print(')  '+this._label+' '+this._depthDelta)};b.prototype.computeIM=function c(a){b.updateIM(this._label,a)};b.prototype.isCollapsed=function a(){if(!this._label.isArea()){return !1}if(this.pts.length!==3){return !1}if(this.pts[0].equals(this.pts[2])){return !0}return !1};b.prototype.isClosed=function a(){return this.pts[0].equals(this.pts[this.pts.length-1])};b.prototype.getMaximumSegmentIndex=function a(){return this.pts.length-1};b.prototype.getDepthDelta=function a(){return this._depthDelta};b.prototype.getNumPoints=function a(){return this.pts.length};b.prototype.printReverse=function b(a){var c=this;a.print('edge '+this._name+': ');for(var d=this.pts.length-1;d>=0;d--)a.print(c.pts[d]+' ');a.println('')};b.prototype.getMonotoneChainEdge=function a(){this._mce===null&&(this._mce=new eh(this));return this._mce};b.prototype.getEnvelope=function a(){var b=this;if(this._env===null){this._env=new aJ();for(var c=0;c<this.pts.length;c++)b._env.expandToInclude(b.pts[c])}return this._env};b.prototype.addIntersection=function e(a,b,c,d){var f=new an(a.getIntersection(d)),g=b,h=a.getEdgeDistance(c,d),i=g+1;if(i<this.pts.length){var j=this.pts[i];f.equals2D(j)&&(g=i,h=0.0)}this.eiList.add(f,g,h)};b.prototype.toString=function a(){var b=this,c=new aw();c.append('edge '+this._name+': ');c.append('LINESTRING (');for(var d=0;d<this.pts.length;d++)d>0&&c.append(','),c.append(b.pts[d].x+' '+b.pts[d].y);c.append(')  '+this._label+' '+this._depthDelta);return c.toString()};b.prototype.isPointwiseEqual=function b(a){var c=this;if(this.pts.length!==a.pts.length){return !1}for(var d=0;d<this.pts.length;d++){if(!c.pts[d].equals2D(a.pts[d])){return !1}}return !0};b.prototype.setDepthDelta=function b(a){this._depthDelta=a};b.prototype.getEdgeIntersectionList=function a(){return this.eiList};b.prototype.addIntersections=function d(a,b,c){var e=this;for(var f=0;f<a.getIntersectionNum();f++)e.addIntersection(a,b,c,f)};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};b.updateIM=function b(){if(arguments.length===2){var c=arguments[0],d=arguments[1];d.setAtLeastIfValid(c.getLocation(0,cC.ON),c.getLocation(1,cC.ON),1);c.isArea()&&(d.setAtLeastIfValid(c.getLocation(0,cC.LEFT),c.getLocation(1,cC.LEFT),2),d.setAtLeastIfValid(c.getLocation(0,cC.RIGHT),c.getLocation(1,cC.RIGHT),2))}else{return a.prototype.updateIM.apply(this,arguments)}};return b}(cP),el=function b(a){this._workingPrecisionModel=null;this._workingNoder=null;this._geomFact=null;this._graph=null;this._edgeList=new ea();this._bufParams=a||null};el.prototype.setWorkingPrecisionModel=function b(a){this._workingPrecisionModel=a};el.prototype.insertUniqueEdge=function b(a){var c=this._edgeList.findEqualEdge(a);if(c!==null){var d=c.getLabel(),e=a.getLabel();c.isPointwiseEqual(a)||(e=new cL(a.getLabel()),e.flip());d.merge(e);var f=el.depthDelta(e),g=c.getDepthDelta(),h=g+f;c.setDepthDelta(h)}else this._edgeList.add(a),a.setDepthDelta(el.depthDelta(a.getLabel()))};el.prototype.buildSubgraphs=function c(a,b){var d=new bo();for(var e=a.iterator();e.hasNext();){var f=e.next(),g=f.getRightmostCoordinate(),h=new dQ(d),i=h.getDepth(g);f.computeDepth(i);f.findResultEdges();d.add(f);b.add(f.getDirectedEdges(),f.getNodes())}};el.prototype.createSubgraphs=function b(a){var c=new bo();for(var d=a.getNodes().iterator();d.hasNext();){var e=d.next();if(!e.isVisited()){var f=new cJ();f.create(e);c.add(f)}}dg.sort(c,dg.reverseOrder());return c};el.prototype.createEmptyResultGeometry=function a(){var b=this._geomFact.createPolygon();return b};el.prototype.getNoder=function b(a){if(this._workingNoder!==null){return this._workingNoder}var c=new dD(),d=new aV();d.setPrecisionModel(a);c.setSegmentIntersector(new ec(d));return c};el.prototype.buffer=function c(a,b){var d=this._workingPrecisionModel;d===null&&(d=a.getPrecisionModel());this._geomFact=a.getFactory();var e=new dP(d,this._bufParams),f=new dU(a,b,e),g=f.getCurves();if(g.size()<=0){return this.createEmptyResultGeometry()}this.computeNodedEdges(g,d);this._graph=new cX(new d_());this._graph.addEdges(this._edgeList.getEdges());var h=this.createSubgraphs(this._graph),i=new cY(this._geomFact);this.buildSubgraphs(h,i);var j=i.getPolygons();if(j.size()<=0){return this.createEmptyResultGeometry()}var k=this._geomFact.buildGeometry(j);return k};el.prototype.computeNodedEdges=function c(a,b){var d=this,e=this.getNoder(b);e.computeNodes(a);var f=e.getNodedSubstrings();for(var g=f.iterator();g.hasNext();){var h=g.next(),i=h.getCoordinates();if(i.length===2&&i[0].equals2D(i[1])){continue}var j=h.getData(),k=new ek(h.getCoordinates(),new cL(j));d.insertUniqueEdge(k)}};el.prototype.setNoder=function b(a){this._workingNoder=a};el.prototype.interfaces_=function a(){return[]};el.prototype.getClass=function a(){return el};el.depthDelta=function b(a){var c=a.getLocation(0,cC.LEFT),d=a.getLocation(0,cC.RIGHT);if(c===ar.INTERIOR&&d===ar.EXTERIOR){return 1}else if(c===ar.EXTERIOR&&d===ar.INTERIOR){return-1};return 0};el.convertSegStrings=function b(a){var c=new cA(),d=new bo();while(a.hasNext()){var e=a.next(),f=c.createLineString(e.getCoordinates());d.add(f)}return c.buildGeometry(d)};var em=function a(){this._noder=null;this._scaleFactor=null;this._offsetX=null;this._offsetY=null;this._isScaled=!1;if(arguments.length===2){var b=arguments[0],c=arguments[1];this._noder=b;this._scaleFactor=c;this._offsetX=0.0;this._offsetY=0.0;this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var d=arguments[0],e=arguments[1],f=arguments[2],g=arguments[3];this._noder=d;this._scaleFactor=e;this._offsetX=f;this._offsetY=g;this._isScaled=!this.isIntegerPrecision()}};em.prototype.rescale=function a(){var b=this;if(at(arguments[0],bj)){var c=arguments[0];for(var d=c.iterator();d.hasNext();){var e=d.next();b.rescale(e.getCoordinates())}}else if(arguments[0] instanceof Array){var f=arguments[0];for(var g=0;g<f.length;g++)f[g].x=f[g].x/b._scaleFactor+b._offsetX,f[g].y=f[g].y/b._scaleFactor+b._offsetY;f.length===2&&f[0].equals2D(f[1])&&aH.out.println(f)}};em.prototype.scale=function a(){var b=this;if(at(arguments[0],bj)){var c=arguments[0],d=new bo();for(var e=c.iterator();e.hasNext();){var f=e.next();d.add(new dv(b.scale(f.getCoordinates()),f.getData()))}return d}else if(arguments[0] instanceof Array){var g=arguments[0],h=new Array(g.length).fill(null);for(var i=0;i<g.length;i++)h[i]=new an(Math.round((g[i].x-b._offsetX)*b._scaleFactor),Math.round((g[i].y-b._offsetY)*b._scaleFactor),g[i].z);var j=br.removeRepeatedPoints(h);return j}};em.prototype.isIntegerPrecision=function a(){return this._scaleFactor===1.0};em.prototype.getNodedSubstrings=function a(){var b=this._noder.getNodedSubstrings();this._isScaled&&this.rescale(b);return b};em.prototype.computeNodes=function b(a){var c=a;this._isScaled&&(c=this.scale(a));this._noder.computeNodes(c)};em.prototype.interfaces_=function a(){return[dB]};em.prototype.getClass=function a(){return em};var en=function a(){this._li=new aV();this._segStrings=null;var b=arguments[0];this._segStrings=b},eo={fact:{configurable:!0}};en.prototype.checkEndPtVertexIntersections=function a(){var b=this;if(arguments.length===0){for(var c=this._segStrings.iterator();c.hasNext();){var d=c.next(),e=d.getCoordinates();b.checkEndPtVertexIntersections(e[0],b._segStrings);b.checkEndPtVertexIntersections(e[e.length-1],b._segStrings)}}else if(arguments.length===2){var f=arguments[0],g=arguments[1];for(var h=g.iterator();h.hasNext();){var i=h.next(),j=i.getCoordinates();for(var k=1;k<j.length-1;k++){if(j[k].equals(f)){throw new aQ('found endpt/interior pt intersection at index '+k+' :pt '+f)}}}}};en.prototype.checkInteriorIntersections=function a(){var b=this;if(arguments.length===0){for(var c=this._segStrings.iterator();c.hasNext();){var d=c.next();for(var e=this._segStrings.iterator();e.hasNext();){var f=e.next();b.checkInteriorIntersections(d,f)}}}else if(arguments.length===2){var g=arguments[0],h=arguments[1],i=g.getCoordinates(),j=h.getCoordinates();for(var k=0;k<i.length-1;k++){for(var l=0;l<j.length-1;l++)b.checkInteriorIntersections(g,k,h,l)}}else if(arguments.length===4){var m=arguments[0],n=arguments[1],o=arguments[2],p=arguments[3];if(m===o&&n===p){return null}var q=m.getCoordinates()[n],r=m.getCoordinates()[n+1],s=o.getCoordinates()[p],t=o.getCoordinates()[p+1];this._li.computeIntersection(q,r,s,t);if(this._li.hasIntersection()){if(this._li.isProper()||this.hasInteriorIntersection(this._li,q,r)||this.hasInteriorIntersection(this._li,s,t)){throw new aQ('found non-noded intersection at '+q+'-'+r+' and '+s+'-'+t)}}}};en.prototype.checkValid=function a(){this.checkEndPtVertexIntersections();this.checkInteriorIntersections();this.checkCollapses()};en.prototype.checkCollapses=function a(){var b=this;if(arguments.length===0){for(var c=this._segStrings.iterator();c.hasNext();){var d=c.next();b.checkCollapses(d)}}else if(arguments.length===1){var e=arguments[0],f=e.getCoordinates();for(var g=0;g<f.length-2;g++)b.checkCollapse(f[g],f[g+1],f[g+2])}};en.prototype.hasInteriorIntersection=function d(a,b,c){for(var e=0;e<a.getIntersectionNum();e++){var f=a.getIntersection(e);if(!(f.equals(b)||f.equals(c))){return !0}}return !1};en.prototype.checkCollapse=function d(a,b,c){if(a.equals(c)){throw new aQ('found non-noded collapse at '+en.fact.createLineString([a,b,c]))}};en.prototype.interfaces_=function a(){return[]};en.prototype.getClass=function a(){return en};eo.fact.get=function(){return new cA()};Object.defineProperties(en,eo);var ep=function a(){this._li=null;this._pt=null;this._originalPt=null;this._ptScaled=null;this._p0Scaled=null;this._p1Scaled=null;this._scaleFactor=null;this._minx=null;this._maxx=null;this._miny=null;this._maxy=null;this._corner=new Array(4).fill(null);this._safeEnv=null;var b=arguments[0],c=arguments[1],d=arguments[2];this._originalPt=b;this._pt=b;this._scaleFactor=c;this._li=d;if(c<=0){throw new ag('Scale factor must be non-zero')}c!==1.0&&(this._pt=new an(this.scale(b.x),this.scale(b.y)),this._p0Scaled=new an(),this._p1Scaled=new an());this.initCorners(this._pt)},eq={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};ep.prototype.intersectsScaled=function c(a,b){var d=Math.min(a.x,b.x),e=Math.max(a.x,b.x),f=Math.min(a.y,b.y),g=Math.max(a.y,b.y),h=this._maxx<d||this._minx>e||this._maxy<f||this._miny>g;if(h){return !1}var i=this.intersectsToleranceSquare(a,b);aS.isTrue(!(h&&i),'Found bad envelope test');return i};ep.prototype.initCorners=function b(a){var c=0.5;this._minx=a.x-c;this._maxx=a.x+c;this._miny=a.y-c;this._maxy=a.y+c;this._corner[0]=new an(this._maxx,this._maxy);this._corner[1]=new an(this._minx,this._maxy);this._corner[2]=new an(this._minx,this._miny);this._corner[3]=new an(this._maxx,this._miny)};ep.prototype.intersects=function c(a,b){if(this._scaleFactor===1.0){return this.intersectsScaled(a,b)}this.copyScaled(a,this._p0Scaled);this.copyScaled(b,this._p1Scaled);return this.intersectsScaled(this._p0Scaled,this._p1Scaled)};ep.prototype.scale=function b(a){return Math.round(a*this._scaleFactor)};ep.prototype.getCoordinate=function a(){return this._originalPt};ep.prototype.copyScaled=function c(a,b){b.x=this.scale(a.x);b.y=this.scale(a.y)};ep.prototype.getSafeEnvelope=function a(){if(this._safeEnv===null){var b=ep.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new aJ(this._originalPt.x-b,this._originalPt.x+b,this._originalPt.y-b,this._originalPt.y+b)}return this._safeEnv};ep.prototype.intersectsPixelClosure=function c(a,b){this._li.computeIntersection(a,b,this._corner[0],this._corner[1]);if(this._li.hasIntersection()){return !0}this._li.computeIntersection(a,b,this._corner[1],this._corner[2]);if(this._li.hasIntersection()){return !0}this._li.computeIntersection(a,b,this._corner[2],this._corner[3]);if(this._li.hasIntersection()){return !0}this._li.computeIntersection(a,b,this._corner[3],this._corner[0]);if(this._li.hasIntersection()){return !0}return !1};ep.prototype.intersectsToleranceSquare=function c(a,b){var d=!1,e=!1;this._li.computeIntersection(a,b,this._corner[0],this._corner[1]);if(this._li.isProper()){return !0}this._li.computeIntersection(a,b,this._corner[1],this._corner[2]);if(this._li.isProper()){return !0}this._li.hasIntersection()&&(d=!0);this._li.computeIntersection(a,b,this._corner[2],this._corner[3]);if(this._li.isProper()){return !0}this._li.hasIntersection()&&(e=!0);this._li.computeIntersection(a,b,this._corner[3],this._corner[0]);if(this._li.isProper()){return !0}if(d&&e){return !0}if(a.equals(this._pt)){return !0}if(b.equals(this._pt)){return !0}return !1};ep.prototype.addSnappedNode=function c(a,b){var d=a.getCoordinate(b),e=a.getCoordinate(b+1);if(this.intersects(d,e)){a.addIntersection(this.getCoordinate(),b);return !0}return !1};ep.prototype.interfaces_=function a(){return[]};ep.prototype.getClass=function a(){return ep};eq.SAFE_ENV_EXPANSION_FACTOR.get=function(){return 0.75};Object.defineProperties(ep,eq);var es=function a(){this.tempEnv1=new aJ();this.selectedSegment=new dw()};es.prototype.select=function a(){if(!arguments.length===1)if(arguments.length===2){var b=arguments[0],c=arguments[1];b.getLineSegment(c,this.selectedSegment);this.select(this.selectedSegment)}};es.prototype.interfaces_=function a(){return[]};es.prototype.getClass=function a(){return es};var et=function a(){this._index=null;var b=arguments[0];this._index=b},eu={HotPixelSnapAction:{configurable:!0}};et.prototype.snap=function a(){if(arguments.length===1){var b=arguments[0];return this.snap(b,null,-1)}else if(arguments.length===3){var c=arguments[0],d=arguments[1],e=arguments[2],f=c.getSafeEnvelope(),g=new ew(c,d,e);this._index.query(f,{interfaces_:function(){return[da]},visitItem:function(a){var b=a;b.select(f,g)}});return g.isNodeAdded()}};et.prototype.interfaces_=function a(){return[]};et.prototype.getClass=function a(){return et};eu.HotPixelSnapAction.get=function(){return ew};Object.defineProperties(et,eu);var ew=function(a){function b(){a.call(this);this._hotPixel=null;this._parentEdge=null;this._hotPixelVertexIndex=null;this._isNodeAdded=!1;var b=arguments[0],c=arguments[1],d=arguments[2];this._hotPixel=b;this._parentEdge=c;this._hotPixelVertexIndex=d}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.isNodeAdded=function a(){return this._isNodeAdded};b.prototype.select=function b(){if(arguments.length===2){var c=arguments[0],d=arguments[1],e=c.getContext();if(this._parentEdge!==null){if(e===this._parentEdge&&d===this._hotPixelVertexIndex){return null}}this._isNodeAdded=this._hotPixel.addSnappedNode(e,d)}else{return a.prototype.select.apply(this,arguments)}};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};return b}(es),ey=function a(){this._li=null;this._interiorIntersections=null;var b=arguments[0];this._li=b;this._interiorIntersections=new bo()};ey.prototype.processIntersections=function e(a,b,c,d){var f=this;if(a===c&&b===d){return null}var g=a.getCoordinates()[b],h=a.getCoordinates()[b+1],i=c.getCoordinates()[d],j=c.getCoordinates()[d+1];this._li.computeIntersection(g,h,i,j);if(this._li.hasIntersection()){if(this._li.isInteriorIntersection()){for(var k=0;k<this._li.getIntersectionNum();k++)f._interiorIntersections.add(f._li.getIntersection(k));a.addIntersections(this._li,b,0);c.addIntersections(this._li,d,1)}}};ey.prototype.isDone=function a(){return !1};ey.prototype.getInteriorIntersections=function a(){return this._interiorIntersections};ey.prototype.interfaces_=function a(){return[eb]};ey.prototype.getClass=function a(){return ey};var ez=function a(){this._pm=null;this._li=null;this._scaleFactor=null;this._noder=null;this._pointSnapper=null;this._nodedSegStrings=null;var b=arguments[0];this._pm=b;this._li=new aV();this._li.setPrecisionModel(b);this._scaleFactor=b.getScale()};ez.prototype.checkCorrectness=function b(a){var c=dv.getNodedSubstrings(a),d=new en(c);try{d.checkValid()}catch(a){if(a instanceof aF)a.printStackTrace();else{throw a}}finally{}};ez.prototype.getNodedSubstrings=function a(){return dv.getNodedSubstrings(this._nodedSegStrings)};ez.prototype.snapRound=function c(a,b){var d=this.findInteriorIntersections(a,b);this.computeIntersectionSnaps(d);this.computeVertexSnaps(a)};ez.prototype.findInteriorIntersections=function c(a,b){var d=new ey(b);this._noder.setSegmentIntersector(d);this._noder.computeNodes(a);return d.getInteriorIntersections()};ez.prototype.computeVertexSnaps=function a(){var b=this;if(at(arguments[0],bj)){var c=arguments[0];for(var d=c.iterator();d.hasNext();){var e=d.next();b.computeVertexSnaps(e)}}else if(arguments[0] instanceof dv){var f=arguments[0],g=f.getCoordinates();for(var h=0;h<g.length;h++){var i=new ep(g[h],b._scaleFactor,b._li),j=b._pointSnapper.snap(i,f,h);j&&f.addIntersection(g[h],h)}}};ez.prototype.computeNodes=function b(a){this._nodedSegStrings=a;this._noder=new dD();this._pointSnapper=new et(this._noder.getIndex());this.snapRound(a,this._li)};ez.prototype.computeIntersectionSnaps=function b(a){var c=this;for(var d=a.iterator();d.hasNext();){var e=d.next(),f=new ep(e,c._scaleFactor,c._li);c._pointSnapper.snap(f)}};ez.prototype.interfaces_=function a(){return[dB]};ez.prototype.getClass=function a(){return ez};var eA=function a(){this._argGeom=null;this._distance=null;this._bufParams=new dF();this._resultGeometry=null;this._saveException=null;if(arguments.length===1){var b=arguments[0];this._argGeom=b}else if(arguments.length===2){var c=arguments[0],d=arguments[1];this._argGeom=c;this._bufParams=d}},eB={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};eA.prototype.bufferFixedPrecision=function b(a){var c=new em(new ez(new cw(1.0)),a.getScale()),d=new el(this._bufParams);d.setWorkingPrecisionModel(a);d.setNoder(c);this._resultGeometry=d.buffer(this._argGeom,this._distance)};eA.prototype.bufferReducedPrecision=function a(){var b=this;if(arguments.length===0){for(var c=eA.MAX_PRECISION_DIGITS;c>=0;c--){try{b.bufferReducedPrecision(c)}catch(a){if(a instanceof cH)b._saveException=a;else{throw a}}finally{};if(b._resultGeometry!==null){return null}}throw this._saveException}else if(arguments.length===1){var d=arguments[0],e=eA.precisionScaleFactor(this._argGeom,this._distance,d),f=new cw(e);this.bufferFixedPrecision(f)}};eA.prototype.computeGeometry=function a(){this.bufferOriginalPrecision();if(this._resultGeometry!==null){return null}var b=this._argGeom.getFactory().getPrecisionModel();b.getType()===cw.FIXED?this.bufferFixedPrecision(b):this.bufferReducedPrecision()};eA.prototype.setQuadrantSegments=function b(a){this._bufParams.setQuadrantSegments(a)};eA.prototype.bufferOriginalPrecision=function a(){try{var b=new el(this._bufParams);this._resultGeometry=b.buffer(this._argGeom,this._distance)}catch(a){if(a instanceof aQ)this._saveException=a;else{throw a}}finally{}};eA.prototype.getResultGeometry=function b(a){this._distance=a;this.computeGeometry();return this._resultGeometry};eA.prototype.setEndCapStyle=function b(a){this._bufParams.setEndCapStyle(a)};eA.prototype.interfaces_=function a(){return[]};eA.prototype.getClass=function a(){return eA};eA.bufferOp=function a(){if(arguments.length===2){var b=arguments[0],c=arguments[1],d=new eA(b),e=d.getResultGeometry(c);return e}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&(arguments[0] instanceof a$&&typeof arguments[1]==='number')){var f=arguments[0],g=arguments[1],h=arguments[2],i=new eA(f);i.setQuadrantSegments(h);var j=i.getResultGeometry(g);return j}else if(arguments[2] instanceof dF&&(arguments[0] instanceof a$&&typeof arguments[1]==='number')){var k=arguments[0],l=arguments[1],m=arguments[2],n=new eA(k,m),o=n.getResultGeometry(l);return o}}else if(arguments.length===4){var p=arguments[0],q=arguments[1],r=arguments[2],s=arguments[3],t=new eA(p);t.setQuadrantSegments(r);t.setEndCapStyle(s);var u=t.getResultGeometry(q);return u}};eA.precisionScaleFactor=function d(a,b,c){var e=a.getEnvelopeInternal(),f=au.max(Math.abs(e.getMaxX()),Math.abs(e.getMaxY()),Math.abs(e.getMinX()),Math.abs(e.getMinY())),g=b>0.0?b:0.0,h=f+2*g,i=Math.trunc(Math.log(h)/Math.log(10)+1.0),j=c-i,k=Math.pow(10.0,j);return k};eB.CAP_ROUND.get=function(){return dF.CAP_ROUND};eB.CAP_BUTT.get=function(){return dF.CAP_FLAT};eB.CAP_FLAT.get=function(){return dF.CAP_FLAT};eB.CAP_SQUARE.get=function(){return dF.CAP_SQUARE};eB.MAX_PRECISION_DIGITS.get=function(){return 12};Object.defineProperties(eA,eB);var eC=function a(){this._pt=[new an(),new an()];this._distance=ah.NaN;this._isNull=!0};eC.prototype.getCoordinates=function a(){return this._pt};eC.prototype.getCoordinate=function b(a){return this._pt[a]};eC.prototype.setMinimum=function a(){if(arguments.length===1){var b=arguments[0];this.setMinimum(b._pt[0],b._pt[1])}else if(arguments.length===2){var c=arguments[0],d=arguments[1];if(this._isNull){this.initialize(c,d);return null}var e=c.distance(d);e<this._distance&&this.initialize(c,d,e)}};eC.prototype.initialize=function a(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var b=arguments[0],c=arguments[1];this._pt[0].setCoordinate(b);this._pt[1].setCoordinate(c);this._distance=b.distance(c);this._isNull=!1}else if(arguments.length===3){var d=arguments[0],e=arguments[1],f=arguments[2];this._pt[0].setCoordinate(d);this._pt[1].setCoordinate(e);this._distance=f;this._isNull=!1}};eC.prototype.getDistance=function a(){return this._distance};eC.prototype.setMaximum=function a(){if(arguments.length===1){var b=arguments[0];this.setMaximum(b._pt[0],b._pt[1])}else if(arguments.length===2){var c=arguments[0],d=arguments[1];if(this._isNull){this.initialize(c,d);return null}var e=c.distance(d);e>this._distance&&this.initialize(c,d,e)}};eC.prototype.interfaces_=function a(){return[]};eC.prototype.getClass=function a(){return eC};var eD=function a(){};eD.prototype.interfaces_=function a(){return[]};eD.prototype.getClass=function a(){return eD};eD.computeDistance=function a(){if(arguments[2] instanceof eC&&(arguments[0] instanceof cd&&arguments[1] instanceof an)){var b=arguments[0],c=arguments[1],d=arguments[2],e=b.getCoordinates(),f=new dw();for(var g=0;g<e.length-1;g++){f.setCoordinates(e[g],e[g+1]);var h=f.closestPoint(c);d.setMinimum(h,c)}}else if(arguments[2] instanceof eC&&(arguments[0] instanceof ci&&arguments[1] instanceof an)){var i=arguments[0],j=arguments[1],k=arguments[2];eD.computeDistance(i.getExteriorRing(),j,k);for(var l=0;l<i.getNumInteriorRing();l++)eD.computeDistance(i.getInteriorRingN(l),j,k)}else if(arguments[2] instanceof eC&&(arguments[0] instanceof a$&&arguments[1] instanceof an)){var m=arguments[0],n=arguments[1],o=arguments[2];if(m instanceof cd)eD.computeDistance(m,n,o);else if(m instanceof ci)eD.computeDistance(m,n,o);else if(m instanceof bS){var p=m;for(var q=0;q<p.getNumGeometries();q++){var r=p.getGeometryN(q);eD.computeDistance(r,n,o)}}else o.setMinimum(m.getCoordinate(),n)}else if(arguments[2] instanceof eC&&(arguments[0] instanceof dw&&arguments[1] instanceof an)){var s=arguments[0],t=arguments[1],u=arguments[2],v=s.closestPoint(t);u.setMinimum(v,t)}};var eE=function b(a){this._maxPtDist=new eC();this._inputGeom=a||null},eF={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};eE.prototype.computeMaxMidpointDistance=function b(a){var c=new eH(this._inputGeom);a.apply(c);this._maxPtDist.setMaximum(c.getMaxPointDistance())};eE.prototype.computeMaxVertexDistance=function b(a){var c=new eG(this._inputGeom);a.apply(c);this._maxPtDist.setMaximum(c.getMaxPointDistance())};eE.prototype.findDistance=function b(a){this.computeMaxVertexDistance(a);this.computeMaxMidpointDistance(a);return this._maxPtDist.getDistance()};eE.prototype.getDistancePoints=function a(){return this._maxPtDist};eE.prototype.interfaces_=function a(){return[]};eE.prototype.getClass=function a(){return eE};eF.MaxPointDistanceFilter.get=function(){return eG};eF.MaxMidpointDistanceFilter.get=function(){return eH};Object.defineProperties(eE,eF);var eG=function b(a){this._maxPtDist=new eC();this._minPtDist=new eC();this._geom=a||null};eG.prototype.filter=function b(a){this._minPtDist.initialize();eD.computeDistance(this._geom,a,this._minPtDist);this._maxPtDist.setMaximum(this._minPtDist)};eG.prototype.getMaxPointDistance=function a(){return this._maxPtDist};eG.prototype.interfaces_=function a(){return[bc]};eG.prototype.getClass=function a(){return eG};var eH=function b(a){this._maxPtDist=new eC();this._minPtDist=new eC();this._geom=a||null};eH.prototype.filter=function c(a,b){if(b===0){return null}var d=a.getCoordinate(b-1),e=a.getCoordinate(b),f=new an((d.x+e.x)/2,(d.y+e.y)/2);this._minPtDist.initialize();eD.computeDistance(this._geom,f,this._minPtDist);this._maxPtDist.setMaximum(this._minPtDist)};eH.prototype.isDone=function a(){return !1};eH.prototype.isGeometryChanged=function a(){return !1};eH.prototype.getMaxPointDistance=function a(){return this._maxPtDist};eH.prototype.interfaces_=function a(){return[bR]};eH.prototype.getClass=function a(){return eH};var eI=function b(a){this._comps=a||null};eI.prototype.filter=function b(a){a instanceof ci&&this._comps.add(a)};eI.prototype.interfaces_=function a(){return[bQ]};eI.prototype.getClass=function a(){return eI};eI.getPolygons=function a(){if(arguments.length===1){var b=arguments[0];return eI.getPolygons(b,new bo())}else if(arguments.length===2){var c=arguments[0],d=arguments[1];c instanceof ci?d.add(c):c instanceof bS&&c.apply(new eI(d));return d}};var eJ=function a(){this._lines=null;this._isForcedToLineString=!1;if(arguments.length===1){var b=arguments[0];this._lines=b}else if(arguments.length===2){var c=arguments[0],d=arguments[1];this._lines=c;this._isForcedToLineString=d}};eJ.prototype.filter=function b(a){if(this._isForcedToLineString&&a instanceof ck){var c=a.getFactory().createLineString(a.getCoordinateSequence());this._lines.add(c);return null}a instanceof cd&&this._lines.add(a)};eJ.prototype.setForceToLineString=function b(a){this._isForcedToLineString=a};eJ.prototype.interfaces_=function a(){return[a_]};eJ.prototype.getClass=function a(){return eJ};eJ.getGeometry=function a(){if(arguments.length===1){var b=arguments[0];return b.getFactory().buildGeometry(eJ.getLines(b))}else if(arguments.length===2){var c=arguments[0],d=arguments[1];return c.getFactory().buildGeometry(eJ.getLines(c,d))}};eJ.getLines=function a(){if(arguments.length===1){var b=arguments[0];return eJ.getLines(b,!1)}else if(arguments.length===2){if(at(arguments[0],bj)&&at(arguments[1],bj)){var c=arguments[0],d=arguments[1];for(var e=c.iterator();e.hasNext();){var f=e.next();eJ.getLines(f,d)}return d}else if(arguments[0] instanceof a$&&typeof arguments[1]==='boolean'){var g=arguments[0],h=arguments[1],i=new bo();g.apply(new eJ(i,h));return i}else if(arguments[0] instanceof a$&&at(arguments[1],bj)){var j=arguments[0],k=arguments[1];j instanceof cd?k.add(j):j.apply(new eJ(k));return k}}else if(arguments.length===3){if(typeof arguments[2]==='boolean'&&(at(arguments[0],bj)&&at(arguments[1],bj))){var l=arguments[0],m=arguments[1],n=arguments[2];for(var o=l.iterator();o.hasNext();){var p=o.next();eJ.getLines(p,m,n)}return m}else if(typeof arguments[2]==='boolean'&&(arguments[0] instanceof a$&&at(arguments[1],bj))){var q=arguments[0],r=arguments[1],s=arguments[2];q.apply(new eJ(r,s));return r}}};var eK=function a(){this._boundaryRule=bd.OGC_SFS_BOUNDARY_RULE;this._isIn=null;this._numBoundaries=null;if(!arguments.length===0)if(arguments.length===1){var b=arguments[0];if(b===null){throw new ag('Rule must be non-null')}this._boundaryRule=b}};eK.prototype.locateInternal=function a(){var b=this;if(arguments[0] instanceof an&&arguments[1] instanceof ci){var c=arguments[0],d=arguments[1];if(d.isEmpty()){return ar.EXTERIOR}var e=d.getExteriorRing(),f=this.locateInPolygonRing(c,e);if(f===ar.EXTERIOR){return ar.EXTERIOR}if(f===ar.BOUNDARY){return ar.BOUNDARY}for(var g=0;g<d.getNumInteriorRing();g++){var h=d.getInteriorRingN(g),i=b.locateInPolygonRing(c,h);if(i===ar.INTERIOR){return ar.EXTERIOR}if(i===ar.BOUNDARY){return ar.BOUNDARY}}return ar.INTERIOR}else if(arguments[0] instanceof an&&arguments[1] instanceof cd){var j=arguments[0],k=arguments[1];if(!k.getEnvelopeInternal().intersects(j)){return ar.EXTERIOR}var l=k.getCoordinates();if(!k.isClosed()){if(j.equals(l[0])||j.equals(l[l.length-1])){return ar.BOUNDARY}}if(aY.isOnLine(j,l)){return ar.INTERIOR}return ar.EXTERIOR}else if(arguments[0] instanceof an&&arguments[1] instanceof cf){var m=arguments[0],n=arguments[1],o=n.getCoordinate();if(o.equals2D(m)){return ar.INTERIOR}return ar.EXTERIOR}};eK.prototype.locateInPolygonRing=function c(a,b){if(!b.getEnvelopeInternal().intersects(a)){return ar.EXTERIOR}return aY.locatePointInRing(a,b.getCoordinates())};eK.prototype.intersects=function c(a,b){return this.locate(a,b)!==ar.EXTERIOR};eK.prototype.updateLocationInfo=function b(a){a===ar.INTERIOR&&(this._isIn=!0);a===ar.BOUNDARY&&this._numBoundaries++};eK.prototype.computeLocation=function c(a,b){var d=this;b instanceof cf&&this.updateLocationInfo(this.locateInternal(a,b));if(b instanceof cd)this.updateLocationInfo(this.locateInternal(a,b));else if(b instanceof ci)this.updateLocationInfo(this.locateInternal(a,b));else if(b instanceof bT){var e=b;for(var f=0;f<e.getNumGeometries();f++){var g=e.getGeometryN(f);d.updateLocationInfo(d.locateInternal(a,g))}}else if(b instanceof cl){var h=b;for(var i=0;i<h.getNumGeometries();i++){var j=h.getGeometryN(i);d.updateLocationInfo(d.locateInternal(a,j))}}else if(b instanceof bS){var k=new dW(b);while(k.hasNext()){var l=k.next();l!==b&&d.computeLocation(a,l)}}};eK.prototype.locate=function c(a,b){if(b.isEmpty()){return ar.EXTERIOR}if(b instanceof cd){return this.locateInternal(a,b)}else if(b instanceof ci){return this.locateInternal(a,b)};this._isIn=!1;this._numBoundaries=0;this.computeLocation(a,b);if(this._boundaryRule.isInBoundary(this._numBoundaries)){return ar.BOUNDARY}if(this._numBoundaries>0||this._isIn){return ar.INTERIOR}return ar.EXTERIOR};eK.prototype.interfaces_=function a(){return[]};eK.prototype.getClass=function a(){return eK};var eL=function a(){this._component=null;this._segIndex=null;this._pt=null;if(arguments.length===2){var b=arguments[0],c=arguments[1];a.call(this,b,a.INSIDE_AREA,c)}else if(arguments.length===3){var d=arguments[0],e=arguments[1],f=arguments[2];this._component=d;this._segIndex=e;this._pt=f}},eM={INSIDE_AREA:{configurable:!0}};eL.prototype.isInsideArea=function a(){return this._segIndex===eL.INSIDE_AREA};eL.prototype.getCoordinate=function a(){return this._pt};eL.prototype.getGeometryComponent=function a(){return this._component};eL.prototype.getSegmentIndex=function a(){return this._segIndex};eL.prototype.interfaces_=function a(){return[]};eL.prototype.getClass=function a(){return eL};eM.INSIDE_AREA.get=function(){return-1};Object.defineProperties(eL,eM);var eN=function b(a){this._pts=a||null};eN.prototype.filter=function b(a){a instanceof cf&&this._pts.add(a)};eN.prototype.interfaces_=function a(){return[bQ]};eN.prototype.getClass=function a(){return eN};eN.getPoints=function a(){if(arguments.length===1){var b=arguments[0];if(b instanceof cf){return dg.singletonList(b)}return eN.getPoints(b,new bo())}else if(arguments.length===2){var c=arguments[0],d=arguments[1];c instanceof cf?d.add(c):c instanceof bS&&c.apply(new eN(d));return d}};var eO=function a(){this._locations=null;var b=arguments[0];this._locations=b};eO.prototype.filter=function b(a){(a instanceof cf||a instanceof cd||a instanceof ci)&&this._locations.add(new eL(a,0,a.getCoordinate()))};eO.prototype.interfaces_=function a(){return[bQ]};eO.prototype.getClass=function a(){return eO};eO.getLocations=function b(a){var c=new bo();a.apply(new eO(c));return c};var eP=function a(){this._geom=null;this._terminateDistance=0.0;this._ptLocator=new eK();this._minDistanceLocation=null;this._minDistance=ah.MAX_VALUE;if(arguments.length===2){var b=arguments[0],c=arguments[1];this._geom=[b,c];this._terminateDistance=0.0}else if(arguments.length===3){var d=arguments[0],e=arguments[1],f=arguments[2];this._geom=new Array(2).fill(null);this._geom[0]=d;this._geom[1]=e;this._terminateDistance=f}};eP.prototype.computeContainmentDistance=function a(){var b=this;if(arguments.length===0){var c=new Array(2).fill(null);this.computeContainmentDistance(0,c);if(this._minDistance<=this._terminateDistance){return null}this.computeContainmentDistance(1,c)}else if(arguments.length===2){var d=arguments[0],e=arguments[1],f=1-d,g=eI.getPolygons(this._geom[d]);if(g.size()>0){var h=eO.getLocations(this._geom[f]);this.computeContainmentDistance(h,g,e);if(this._minDistance<=this._terminateDistance){this._minDistanceLocation[f]=e[0];this._minDistanceLocation[d]=e[1];return null}}}else if(arguments.length===3){if(arguments[2] instanceof Array&&(at(arguments[0],bm)&&at(arguments[1],bm))){var i=arguments[0],j=arguments[1],k=arguments[2];for(var l=0;l<i.size();l++){var m=i.get(l);for(var n=0;n<j.size();n++){b.computeContainmentDistance(m,j.get(n),k);if(b._minDistance<=b._terminateDistance){return null}}}}else if(arguments[2] instanceof Array&&(arguments[0] instanceof eL&&arguments[1] instanceof ci)){var o=arguments[0],p=arguments[1],q=arguments[2],r=o.getCoordinate();if(ar.EXTERIOR!==this._ptLocator.locate(r,p)){this._minDistance=0.0;q[0]=o;q[1]=new eL(p,r);return null}}}};eP.prototype.computeMinDistanceLinesPoints=function d(a,b,c){var e=this;for(var f=0;f<a.size();f++){var g=a.get(f);for(var h=0;h<b.size();h++){var i=b.get(h);e.computeMinDistance(g,i,c);if(e._minDistance<=e._terminateDistance){return null}}}};eP.prototype.computeFacetDistance=function a(){var b=new Array(2).fill(null),c=eJ.getLines(this._geom[0]),d=eJ.getLines(this._geom[1]),e=eN.getPoints(this._geom[0]),f=eN.getPoints(this._geom[1]);this.computeMinDistanceLines(c,d,b);this.updateMinDistance(b,!1);if(this._minDistance<=this._terminateDistance){return null}b[0]=null;b[1]=null;this.computeMinDistanceLinesPoints(c,f,b);this.updateMinDistance(b,!1);if(this._minDistance<=this._terminateDistance){return null}b[0]=null;b[1]=null;this.computeMinDistanceLinesPoints(d,e,b);this.updateMinDistance(b,!0);if(this._minDistance<=this._terminateDistance){return null}b[0]=null;b[1]=null;this.computeMinDistancePoints(e,f,b);this.updateMinDistance(b,!1)};eP.prototype.nearestLocations=function a(){this.computeMinDistance();return this._minDistanceLocation};eP.prototype.updateMinDistance=function c(a,b){if(a[0]===null){return null}b?(this._minDistanceLocation[0]=a[1],this._minDistanceLocation[1]=a[0]):(this._minDistanceLocation[0]=a[0],this._minDistanceLocation[1]=a[1])};eP.prototype.nearestPoints=function a(){this.computeMinDistance();var b=[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()];return b};eP.prototype.computeMinDistance=function a(){var b=this;if(arguments.length===0){if(this._minDistanceLocation!==null){return null}this._minDistanceLocation=new Array(2).fill(null);this.computeContainmentDistance();if(this._minDistance<=this._terminateDistance){return null}this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2] instanceof Array&&(arguments[0] instanceof cd&&arguments[1] instanceof cf)){var c=arguments[0],d=arguments[1],e=arguments[2];if(c.getEnvelopeInternal().distance(d.getEnvelopeInternal())>this._minDistance){return null}var f=c.getCoordinates(),g=d.getCoordinate();for(var h=0;h<f.length-1;h++){var i=aY.distancePointLine(g,f[h],f[h+1]);if(i<b._minDistance){b._minDistance=i;var j=new dw(f[h],f[h+1]),k=j.closestPoint(g);e[0]=new eL(c,h,k);e[1]=new eL(d,0,g)}if(b._minDistance<=b._terminateDistance){return null}}}else if(arguments[2] instanceof Array&&(arguments[0] instanceof cd&&arguments[1] instanceof cd)){var l=arguments[0],m=arguments[1],n=arguments[2];if(l.getEnvelopeInternal().distance(m.getEnvelopeInternal())>this._minDistance){return null}var o=l.getCoordinates(),p=m.getCoordinates();for(var q=0;q<o.length-1;q++){for(var r=0;r<p.length-1;r++){var s=aY.distanceLineLine(o[q],o[q+1],p[r],p[r+1]);if(s<b._minDistance){b._minDistance=s;var t=new dw(o[q],o[q+1]),u=new dw(p[r],p[r+1]),v=t.closestPoints(u);n[0]=new eL(l,q,v[0]);n[1]=new eL(m,r,v[1])}if(b._minDistance<=b._terminateDistance){return null}}}}}};eP.prototype.computeMinDistancePoints=function d(a,b,c){var e=this;for(var f=0;f<a.size();f++){var g=a.get(f);for(var h=0;h<b.size();h++){var i=b.get(h),j=g.getCoordinate().distance(i.getCoordinate());j<e._minDistance&&(e._minDistance=j,c[0]=new eL(g,0,g.getCoordinate()),c[1]=new eL(i,0,i.getCoordinate()));if(e._minDistance<=e._terminateDistance){return null}}}};eP.prototype.distance=function a(){if(this._geom[0]===null||this._geom[1]===null){throw new ag('null geometries are not supported')}if(this._geom[0].isEmpty()||this._geom[1].isEmpty()){return 0.0}this.computeMinDistance();return this._minDistance};eP.prototype.computeMinDistanceLines=function d(a,b,c){var e=this;for(var f=0;f<a.size();f++){var g=a.get(f);for(var h=0;h<b.size();h++){var i=b.get(h);e.computeMinDistance(g,i,c);if(e._minDistance<=e._terminateDistance){return null}}}};eP.prototype.interfaces_=function a(){return[]};eP.prototype.getClass=function a(){return eP};eP.distance=function c(a,b){var d=new eP(a,b);return d.distance()};eP.isWithinDistance=function d(a,b,c){var e=new eP(a,b,c);return e.distance()<=c};eP.nearestPoints=function c(a,b){var d=new eP(a,b);return d.nearestPoints()};var eQ=function a(){this._pt=[new an(),new an()];this._distance=ah.NaN;this._isNull=!0};eQ.prototype.getCoordinates=function a(){return this._pt};eQ.prototype.getCoordinate=function b(a){return this._pt[a]};eQ.prototype.setMinimum=function a(){if(arguments.length===1){var b=arguments[0];this.setMinimum(b._pt[0],b._pt[1])}else if(arguments.length===2){var c=arguments[0],d=arguments[1];if(this._isNull){this.initialize(c,d);return null}var e=c.distance(d);e<this._distance&&this.initialize(c,d,e)}};eQ.prototype.initialize=function a(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var b=arguments[0],c=arguments[1];this._pt[0].setCoordinate(b);this._pt[1].setCoordinate(c);this._distance=b.distance(c);this._isNull=!1}else if(arguments.length===3){var d=arguments[0],e=arguments[1],f=arguments[2];this._pt[0].setCoordinate(d);this._pt[1].setCoordinate(e);this._distance=f;this._isNull=!1}};eQ.prototype.toString=function a(){return aP.toLineString(this._pt[0],this._pt[1])};eQ.prototype.getDistance=function a(){return this._distance};eQ.prototype.setMaximum=function a(){if(arguments.length===1){var b=arguments[0];this.setMaximum(b._pt[0],b._pt[1])}else if(arguments.length===2){var c=arguments[0],d=arguments[1];if(this._isNull){this.initialize(c,d);return null}var e=c.distance(d);e>this._distance&&this.initialize(c,d,e)}};eQ.prototype.interfaces_=function a(){return[]};eQ.prototype.getClass=function a(){return eQ};var eR=function a(){};eR.prototype.interfaces_=function a(){return[]};eR.prototype.getClass=function a(){return eR};eR.computeDistance=function a(){if(arguments[2] instanceof eQ&&(arguments[0] instanceof cd&&arguments[1] instanceof an)){var b=arguments[0],c=arguments[1],d=arguments[2],e=new dw(),f=b.getCoordinates();for(var g=0;g<f.length-1;g++){e.setCoordinates(f[g],f[g+1]);var h=e.closestPoint(c);d.setMinimum(h,c)}}else if(arguments[2] instanceof eQ&&(arguments[0] instanceof ci&&arguments[1] instanceof an)){var i=arguments[0],j=arguments[1],k=arguments[2];eR.computeDistance(i.getExteriorRing(),j,k);for(var l=0;l<i.getNumInteriorRing();l++)eR.computeDistance(i.getInteriorRingN(l),j,k)}else if(arguments[2] instanceof eQ&&(arguments[0] instanceof a$&&arguments[1] instanceof an)){var m=arguments[0],n=arguments[1],o=arguments[2];if(m instanceof cd)eR.computeDistance(m,n,o);else if(m instanceof ci)eR.computeDistance(m,n,o);else if(m instanceof bS){var p=m;for(var q=0;q<p.getNumGeometries();q++){var r=p.getGeometryN(q);eR.computeDistance(r,n,o)}}else o.setMinimum(m.getCoordinate(),n)}else if(arguments[2] instanceof eQ&&(arguments[0] instanceof dw&&arguments[1] instanceof an)){var s=arguments[0],t=arguments[1],u=arguments[2],v=s.closestPoint(t);u.setMinimum(v,t)}};var eS=function a(){this._g0=null;this._g1=null;this._ptDist=new eQ();this._densifyFrac=0.0;var b=arguments[0],c=arguments[1];this._g0=b;this._g1=c},eT={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};eS.prototype.getCoordinates=function a(){return this._ptDist.getCoordinates()};eS.prototype.setDensifyFraction=function b(a){if(a>1.0||a<=0.0){throw new ag('Fraction is not in range (0.0 - 1.0]')}this._densifyFrac=a};eS.prototype.compute=function c(a,b){this.computeOrientedDistance(a,b,this._ptDist);this.computeOrientedDistance(b,a,this._ptDist)};eS.prototype.distance=function a(){this.compute(this._g0,this._g1);return this._ptDist.getDistance()};eS.prototype.computeOrientedDistance=function d(a,b,c){var e=new eU(b);a.apply(e);c.setMaximum(e.getMaxPointDistance());if(this._densifyFrac>0){var f=new eV(b,this._densifyFrac);a.apply(f);c.setMaximum(f.getMaxPointDistance())}};eS.prototype.orientedDistance=function a(){this.computeOrientedDistance(this._g0,this._g1,this._ptDist);return this._ptDist.getDistance()};eS.prototype.interfaces_=function a(){return[]};eS.prototype.getClass=function a(){return eS};eS.distance=function a(){if(arguments.length===2){var b=arguments[0],c=arguments[1],d=new eS(b,c);return d.distance()}else if(arguments.length===3){var e=arguments[0],f=arguments[1],g=arguments[2],h=new eS(e,f);h.setDensifyFraction(g);return h.distance()}};eT.MaxPointDistanceFilter.get=function(){return eU};eT.MaxDensifiedByFractionDistanceFilter.get=function(){return eV};Object.defineProperties(eS,eT);var eU=function a(){this._maxPtDist=new eQ();this._minPtDist=new eQ();this._euclideanDist=new eR();this._geom=null;var b=arguments[0];this._geom=b};eU.prototype.filter=function b(a){this._minPtDist.initialize();eR.computeDistance(this._geom,a,this._minPtDist);this._maxPtDist.setMaximum(this._minPtDist)};eU.prototype.getMaxPointDistance=function a(){return this._maxPtDist};eU.prototype.interfaces_=function a(){return[bc]};eU.prototype.getClass=function a(){return eU};var eV=function a(){this._maxPtDist=new eQ();this._minPtDist=new eQ();this._geom=null;this._numSubSegs=0;var b=arguments[0],c=arguments[1];this._geom=b;this._numSubSegs=Math.trunc(Math.round(1.0/c))};eV.prototype.filter=function c(a,b){var d=this;if(b===0){return null}var e=a.getCoordinate(b-1),f=a.getCoordinate(b),g=(f.x-e.x)/this._numSubSegs,h=(f.y-e.y)/this._numSubSegs;for(var i=0;i<this._numSubSegs;i++){var j=e.x+i*g,k=e.y+i*h,l=new an(j,k);d._minPtDist.initialize();eR.computeDistance(d._geom,l,d._minPtDist);d._maxPtDist.setMaximum(d._minPtDist)}};eV.prototype.isDone=function a(){return !1};eV.prototype.isGeometryChanged=function a(){return !1};eV.prototype.getMaxPointDistance=function a(){return this._maxPtDist};eV.prototype.interfaces_=function a(){return[bR]};eV.prototype.getClass=function a(){return eV};var eW=function d(a,b,c){this._minValidDistance=null;this._maxValidDistance=null;this._minDistanceFound=null;this._maxDistanceFound=null;this._isValid=!0;this._errMsg=null;this._errorLocation=null;this._errorIndicator=null;this._input=a||null;this._bufDistance=b||null;this._result=c||null},eX={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};eW.prototype.checkMaximumDistance=function d(a,b,c){var e=new eS(b,a);e.setDensifyFraction(0.25);this._maxDistanceFound=e.orientedDistance();if(this._maxDistanceFound>c){this._isValid=!1;var f=e.getCoordinates();this._errorLocation=f[1];this._errorIndicator=a.getFactory().createLineString(f);this._errMsg='Distance between buffer curve and input is too large ('+this._maxDistanceFound+' at '+aP.toLineString(f[0],f[1])+')'}};eW.prototype.isValid=function a(){var b=Math.abs(this._bufDistance),c=eW.MAX_DISTANCE_DIFF_FRAC*b;this._minValidDistance=b-c;this._maxValidDistance=b+c;if(this._input.isEmpty()||this._result.isEmpty()){return !0}this._bufDistance>0.0?this.checkPositiveValid():this.checkNegativeValid();eW.VERBOSE&&aH.out.println('Min Dist= '+this._minDistanceFound+'  err= '+(1.0-this._minDistanceFound/this._bufDistance)+'  Max Dist= '+this._maxDistanceFound+'  err= '+(this._maxDistanceFound/this._bufDistance-1.0));return this._isValid};eW.prototype.checkNegativeValid=function a(){if(!(this._input instanceof ci||this._input instanceof cl||this._input instanceof bS)){return null}var b=this.getPolygonLines(this._input);this.checkMinimumDistance(b,this._result,this._minValidDistance);if(!this._isValid){return null}this.checkMaximumDistance(b,this._result,this._maxValidDistance)};eW.prototype.getErrorIndicator=function a(){return this._errorIndicator};eW.prototype.checkMinimumDistance=function d(a,b,c){var e=new eP(a,b,c);this._minDistanceFound=e.distance();if(this._minDistanceFound<c){this._isValid=!1;var f=e.nearestPoints();this._errorLocation=e.nearestPoints()[1];this._errorIndicator=a.getFactory().createLineString(f);this._errMsg='Distance between buffer curve and input is too small ('+this._minDistanceFound+' at '+aP.toLineString(f[0],f[1])+' )'}};eW.prototype.checkPositiveValid=function a(){var b=this._result.getBoundary();this.checkMinimumDistance(this._input,b,this._minValidDistance);if(!this._isValid){return null}this.checkMaximumDistance(this._input,b,this._maxValidDistance)};eW.prototype.getErrorLocation=function a(){return this._errorLocation};eW.prototype.getPolygonLines=function b(a){var c=new bo(),d=new eJ(c),e=eI.getPolygons(a);for(var f=e.iterator();f.hasNext();){var g=f.next();g.apply(d)}return a.getFactory().buildGeometry(c)};eW.prototype.getErrorMessage=function a(){return this._errMsg};eW.prototype.interfaces_=function a(){return[]};eW.prototype.getClass=function a(){return eW};eX.VERBOSE.get=function(){return !1};eX.MAX_DISTANCE_DIFF_FRAC.get=function(){return 0.012};Object.defineProperties(eW,eX);var eY=function d(a,b,c){this._isValid=!0;this._errorMsg=null;this._errorLocation=null;this._errorIndicator=null;this._input=a||null;this._distance=b||null;this._result=c||null},eZ={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};eY.prototype.isValid=function a(){this.checkPolygonal();if(!this._isValid){return this._isValid}this.checkExpectedEmpty();if(!this._isValid){return this._isValid}this.checkEnvelope();if(!this._isValid){return this._isValid}this.checkArea();if(!this._isValid){return this._isValid}this.checkDistance();return this._isValid};eY.prototype.checkEnvelope=function a(){if(this._distance<0.0){return null}var b=this._distance*eY.MAX_ENV_DIFF_FRAC;b===0.0&&(b=0.001);var c=new aJ(this._input.getEnvelopeInternal());c.expandBy(this._distance);var d=new aJ(this._result.getEnvelopeInternal());d.expandBy(b);d.contains(c)||(this._isValid=!1,this._errorMsg='Buffer envelope is incorrect',this._errorIndicator=this._input.getFactory().toGeometry(d));this.report('Envelope')};eY.prototype.checkDistance=function a(){var b=new eW(this._input,this._distance,this._result);b.isValid()||(this._isValid=!1,this._errorMsg=b.getErrorMessage(),this._errorLocation=b.getErrorLocation(),this._errorIndicator=b.getErrorIndicator());this.report('Distance')};eY.prototype.checkArea=function a(){var b=this._input.getArea(),c=this._result.getArea();this._distance>0.0&&b>c&&(this._isValid=!1,this._errorMsg='Area of positive buffer is smaller than input',this._errorIndicator=this._result);this._distance<0.0&&b<c&&(this._isValid=!1,this._errorMsg='Area of negative buffer is larger than input',this._errorIndicator=this._result);this.report('Area')};eY.prototype.checkPolygonal=function a(){(this._result instanceof ci||this._result instanceof cl)||(this._isValid=!1);this._errorMsg='Result is not polygonal';this._errorIndicator=this._result;this.report('Polygonal')};eY.prototype.getErrorIndicator=function a(){return this._errorIndicator};eY.prototype.getErrorLocation=function a(){return this._errorLocation};eY.prototype.checkExpectedEmpty=function a(){if(this._input.getDimension()>=2){return null}if(this._distance>0.0){return null}this._result.isEmpty()||(this._isValid=!1,this._errorMsg='Result is non-empty',this._errorIndicator=this._result);this.report('ExpectedEmpty')};eY.prototype.report=function b(a){if(!eY.VERBOSE){return null}aH.out.println('Check '+a+': '+(this._isValid?'passed':'FAILED'))};eY.prototype.getErrorMessage=function a(){return this._errorMsg};eY.prototype.interfaces_=function a(){return[]};eY.prototype.getClass=function a(){return eY};eY.isValidMsg=function d(a,b,c){var e=new eY(a,b,c);if(!e.isValid()){return e.getErrorMessage()}return null};eY.isValid=function d(a,b,c){var e=new eY(a,b,c);if(e.isValid()){return !0}return !1};eZ.VERBOSE.get=function(){return !1};eZ.MAX_ENV_DIFF_FRAC.get=function(){return 0.012};Object.defineProperties(eY,eZ);var e_=function a(){this._pts=null;this._data=null;var b=arguments[0],c=arguments[1];this._pts=b;this._data=c};e_.prototype.getCoordinates=function a(){return this._pts};e_.prototype.size=function a(){return this._pts.length};e_.prototype.getCoordinate=function b(a){return this._pts[a]};e_.prototype.isClosed=function a(){return this._pts[0].equals(this._pts[this._pts.length-1])};e_.prototype.getSegmentOctant=function b(a){if(a===this._pts.length-1){return-1}return ds.octant(this.getCoordinate(a),this.getCoordinate(a+1))};e_.prototype.setData=function b(a){this._data=a};e_.prototype.getData=function a(){return this._data};e_.prototype.toString=function a(){return aP.toLineString(new cr(this._pts))};e_.prototype.interfaces_=function a(){return[dt]};e_.prototype.getClass=function a(){return e_};var e$=function a(){this._findAllIntersections=!1;this._isCheckEndSegmentsOnly=!1;this._li=null;this._interiorIntersection=null;this._intSegments=null;this._intersections=new bo();this._intersectionCount=0;this._keepIntersections=!0;var b=arguments[0];this._li=b;this._interiorIntersection=null};e$.prototype.getInteriorIntersection=function a(){return this._interiorIntersection};e$.prototype.setCheckEndSegmentsOnly=function b(a){this._isCheckEndSegmentsOnly=a};e$.prototype.getIntersectionSegments=function a(){return this._intSegments};e$.prototype.count=function a(){return this._intersectionCount};e$.prototype.getIntersections=function a(){return this._intersections};e$.prototype.setFindAllIntersections=function b(a){this._findAllIntersections=a};e$.prototype.setKeepIntersections=function b(a){this._keepIntersections=a};e$.prototype.processIntersections=function e(a,b,c,d){if(!this._findAllIntersections&&this.hasIntersection()){return null}if(a===c&&b===d){return null}if(this._isCheckEndSegmentsOnly){var f=this.isEndSegment(a,b)||this.isEndSegment(c,d);if(!f){return null}}var g=a.getCoordinates()[b],h=a.getCoordinates()[b+1],i=c.getCoordinates()[d],j=c.getCoordinates()[d+1];this._li.computeIntersection(g,h,i,j);this._li.hasIntersection()&&(this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=g,this._intSegments[1]=h,this._intSegments[2]=i,this._intSegments[3]=j,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++))};e$.prototype.isEndSegment=function c(a,b){if(b===0){return !0}if(b>=a.size()-2){return !0}return !1};e$.prototype.hasIntersection=function a(){return this._interiorIntersection!==null};e$.prototype.isDone=function a(){if(this._findAllIntersections){return !1}return this._interiorIntersection!==null};e$.prototype.interfaces_=function a(){return[eb]};e$.prototype.getClass=function a(){return e$};e$.createAllIntersectionsFinder=function b(a){var c=new e$(a);c.setFindAllIntersections(!0);return c};e$.createAnyIntersectionFinder=function b(a){return new e$(a)};e$.createIntersectionCounter=function b(a){var c=new e$(a);c.setFindAllIntersections(!0);c.setKeepIntersections(!1);return c};var fa=function a(){this._li=new aV();this._segStrings=null;this._findAllIntersections=!1;this._segInt=null;this._isValid=!0;var b=arguments[0];this._segStrings=b};fa.prototype.execute=function a(){if(this._segInt!==null){return null}this.checkInteriorIntersections()};fa.prototype.getIntersections=function a(){return this._segInt.getIntersections()};fa.prototype.isValid=function a(){this.execute();return this._isValid};fa.prototype.setFindAllIntersections=function b(a){this._findAllIntersections=a};fa.prototype.checkInteriorIntersections=function a(){this._isValid=!0;this._segInt=new e$(this._li);this._segInt.setFindAllIntersections(this._findAllIntersections);var b=new dD();b.setSegmentIntersector(this._segInt);b.computeNodes(this._segStrings);if(this._segInt.hasIntersection()){this._isValid=!1;return null}};fa.prototype.checkValid=function a(){this.execute();if(!this._isValid){throw new cH(this.getErrorMessage(),this._segInt.getInteriorIntersection())}};fa.prototype.getErrorMessage=function a(){if(this._isValid){return'no intersections found'}var b=this._segInt.getIntersectionSegments();return'found non-noded intersection between '+aP.toLineString(b[0],b[1])+' and '+aP.toLineString(b[2],b[3])};fa.prototype.interfaces_=function a(){return[]};fa.prototype.getClass=function a(){return fa};fa.computeIntersections=function b(a){var c=new fa(a);c.setFindAllIntersections(!0);c.isValid();return c.getIntersections()};var fb=function a(){this._nv=null;var b=arguments[0];this._nv=new fa(a.toSegmentStrings(b))};fb.prototype.checkValid=function a(){this._nv.checkValid()};fb.prototype.interfaces_=function a(){return[]};fb.prototype.getClass=function a(){return fb};fb.toSegmentStrings=function b(a){var c=new bo();for(var d=a.iterator();d.hasNext();){var e=d.next();c.add(new e_(e.getCoordinates(),e))}return c};fb.checkValid=function b(a){var c=new fb(a);c.checkValid()};var fc=function b(a){this._mapOp=a};fc.prototype.map=function b(a){var c=this,d=new bo();for(var e=0;e<a.getNumGeometries();e++){var f=c._mapOp.map(a.getGeometryN(e));f.isEmpty()||d.add(f)}return a.getFactory().createGeometryCollection(cA.toGeometryArray(d))};fc.prototype.interfaces_=function a(){return[]};fc.prototype.getClass=function a(){return fc};fc.map=function c(a,b){var d=new fc(b);return d.map(a)};var fd=function a(){this._op=null;this._geometryFactory=null;this._ptLocator=null;this._lineEdgesList=new bo();this._resultLineList=new bo();var b=arguments[0],c=arguments[1],d=arguments[2];this._op=b;this._geometryFactory=c;this._ptLocator=d};fd.prototype.collectLines=function b(a){var c=this;for(var d=this._op.getGraph().getEdgeEnds().iterator();d.hasNext();){var e=d.next();c.collectLineEdge(e,a,c._lineEdgesList);c.collectBoundaryTouchEdge(e,a,c._lineEdgesList)}};fd.prototype.labelIsolatedLine=function c(a,b){var d=this._ptLocator.locate(a.getCoordinate(),this._op.getArgGeometry(b));a.getLabel().setLocation(b,d)};fd.prototype.build=function b(a){this.findCoveredLineEdges();this.collectLines(a);this.buildLines(a);return this._resultLineList};fd.prototype.collectLineEdge=function d(a,b,c){var e=a.getLabel(),f=a.getEdge();a.isLineEdge()&&(!a.isVisited()&&fL.isResultOfOp(e,b)&&!f.isCovered()&&(c.add(f),a.setVisitedEdge(!0)))};fd.prototype.findCoveredLineEdges=function a(){var b=this;for(var c=this._op.getGraph().getNodes().iterator();c.hasNext();){var d=c.next();d.getEdges().findCoveredLineEdges()}for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var f=e.next(),g=f.getEdge();if(f.isLineEdge()&&!g.isCoveredSet()){var h=b._op.isCoveredByA(f.getCoordinate());g.setCovered(h)}}};fd.prototype.labelIsolatedLines=function b(a){var c=this;for(var d=a.iterator();d.hasNext();){var e=d.next(),f=e.getLabel();e.isIsolated()&&(f.isNull(0)?c.labelIsolatedLine(e,0):c.labelIsolatedLine(e,1))}};fd.prototype.buildLines=function b(a){var c=this;for(var d=this._lineEdgesList.iterator();d.hasNext();){var e=d.next(),f=c._geometryFactory.createLineString(e.getCoordinates());c._resultLineList.add(f);e.setInResult(!0)}};fd.prototype.collectBoundaryTouchEdge=function d(a,b,c){var e=a.getLabel();if(a.isLineEdge()){return null}if(a.isVisited()){return null}if(a.isInteriorAreaEdge()){return null}if(a.getEdge().isInResult()){return null}aS.isTrue(!(a.isInResult()||a.getSym().isInResult())||!a.getEdge().isInResult());fL.isResultOfOp(e,b)&&b===fL.INTERSECTION&&(c.add(a.getEdge()),a.setVisitedEdge(!0))};fd.prototype.interfaces_=function a(){return[]};fd.prototype.getClass=function a(){return fd};var fe=function a(){this._op=null;this._geometryFactory=null;this._resultPointList=new bo();var b=arguments[0],c=arguments[1];this._op=b;this._geometryFactory=c};fe.prototype.filterCoveredNodeToPoint=function b(a){var c=a.getCoordinate();if(!this._op.isCoveredByLA(c)){var d=this._geometryFactory.createPoint(c);this._resultPointList.add(d)}};fe.prototype.extractNonCoveredResultNodes=function b(a){var c=this;for(var d=this._op.getGraph().getNodes().iterator();d.hasNext();){var e=d.next();if(e.isInResult()){continue}if(e.isIncidentEdgeInResult()){continue}if(e.getEdges().getDegree()===0||a===fL.INTERSECTION){var f=e.getLabel();fL.isResultOfOp(f,a)&&c.filterCoveredNodeToPoint(e)}}};fe.prototype.build=function b(a){this.extractNonCoveredResultNodes(a);return this._resultPointList};fe.prototype.interfaces_=function a(){return[]};fe.prototype.getClass=function a(){return fe};var ff=function a(){this._inputGeom=null;this._factory=null;this._pruneEmptyGeometry=!0;this._preserveGeometryCollectionType=!0;this._preserveCollections=!1;this._preserveType=!1};ff.prototype.transformPoint=function c(a,b){return this._factory.createPoint(this.transformCoordinates(a.getCoordinateSequence(),a))};ff.prototype.transformPolygon=function c(a,b){var d=this,e=!0,f=this.transformLinearRing(a.getExteriorRing(),a);(f===null||!(f instanceof ck)||f.isEmpty())&&(e=!1);var g=new bo();for(var h=0;h<a.getNumInteriorRing();h++){var i=d.transformLinearRing(a.getInteriorRingN(h),a);if(i===null||i.isEmpty()){continue}(i instanceof ck)||(e=!1);g.add(i)}if(e){return this._factory.createPolygon(f,g.toArray([]))}else{var j=new bo();f!==null&&j.add(f);j.addAll(g);return this._factory.buildGeometry(j)}};ff.prototype.createCoordinateSequence=function b(a){return this._factory.getCoordinateSequenceFactory().create(a)};ff.prototype.getInputGeometry=function a(){return this._inputGeom};ff.prototype.transformMultiLineString=function c(a,b){var d=this,e=new bo();for(var f=0;f<a.getNumGeometries();f++){var g=d.transformLineString(a.getGeometryN(f),a);if(g===null){continue}if(g.isEmpty()){continue}e.add(g)}return this._factory.buildGeometry(e)};ff.prototype.transformCoordinates=function c(a,b){return this.copy(a)};ff.prototype.transformLineString=function c(a,b){return this._factory.createLineString(this.transformCoordinates(a.getCoordinateSequence(),a))};ff.prototype.transformMultiPoint=function c(a,b){var d=this,e=new bo();for(var f=0;f<a.getNumGeometries();f++){var g=d.transformPoint(a.getGeometryN(f),a);if(g===null){continue}if(g.isEmpty()){continue}e.add(g)}return this._factory.buildGeometry(e)};ff.prototype.transformMultiPolygon=function c(a,b){var d=this,e=new bo();for(var f=0;f<a.getNumGeometries();f++){var g=d.transformPolygon(a.getGeometryN(f),a);if(g===null){continue}if(g.isEmpty()){continue}e.add(g)}return this._factory.buildGeometry(e)};ff.prototype.copy=function b(a){return a.copy()};ff.prototype.transformGeometryCollection=function c(a,b){var d=this,e=new bo();for(var f=0;f<a.getNumGeometries();f++){var g=d.transform(a.getGeometryN(f));if(g===null){continue}if(d._pruneEmptyGeometry&&g.isEmpty()){continue}e.add(g)}if(this._preserveGeometryCollectionType){return this._factory.createGeometryCollection(cA.toGeometryArray(e))}return this._factory.buildGeometry(e)};ff.prototype.transform=function b(a){this._inputGeom=a;this._factory=a.getFactory();if(a instanceof cf){return this.transformPoint(a,null)}if(a instanceof cj){return this.transformMultiPoint(a,null)}if(a instanceof ck){return this.transformLinearRing(a,null)}if(a instanceof cd){return this.transformLineString(a,null)}if(a instanceof bT){return this.transformMultiLineString(a,null)}if(a instanceof ci){return this.transformPolygon(a,null)}if(a instanceof cl){return this.transformMultiPolygon(a,null)}if(a instanceof bS){return this.transformGeometryCollection(a,null)}throw new ag('Unknown Geometry subtype: '+a.getClass().getName())};ff.prototype.transformLinearRing=function c(a,b){var d=this.transformCoordinates(a.getCoordinateSequence(),a);if(d===null){return this._factory.createLinearRing(null)}var e=d.size();if(e>0&&e<4&&!this._preserveType){return this._factory.createLineString(d)}return this._factory.createLinearRing(d)};ff.prototype.interfaces_=function a(){return[]};ff.prototype.getClass=function a(){return ff};var fg=function a(){this._snapTolerance=0.0;this._srcPts=null;this._seg=new dw();this._allowSnappingToSourceVertices=!1;this._isClosed=!1;if(arguments[0] instanceof cd&&typeof arguments[1]==='number'){var b=arguments[0],c=arguments[1];a.call(this,b.getCoordinates(),c)}else if(arguments[0] instanceof Array&&typeof arguments[1]==='number'){var d=arguments[0],e=arguments[1];this._srcPts=d;this._isClosed=a.isClosed(d);this._snapTolerance=e}};fg.prototype.snapVertices=function c(a,b){var d=this,e=this._isClosed?a.size()-1:a.size();for(var f=0;f<e;f++){var g=a.get(f),h=d.findSnapForVertex(g,b);h!==null&&(a.set(f,new an(h)),f===0&&d._isClosed&&a.set(a.size()-1,new an(h)))}};fg.prototype.findSnapForVertex=function c(a,b){var d=this;for(var e=0;e<b.length;e++){if(a.equals2D(b[e])){return null}if(a.distance(b[e])<d._snapTolerance){return b[e]}}return null};fg.prototype.snapTo=function b(a){var c=new bq(this._srcPts);this.snapVertices(c,a);this.snapSegments(c,a);var d=c.toCoordinateArray();return d};fg.prototype.snapSegments=function c(a,b){var d=this;if(b.length===0){return null}var e=b.length;b[0].equals2D(b[b.length-1])&&(e=b.length-1);for(var f=0;f<e;f++){var g=b[f],h=d.findSegmentIndexToSnap(g,a);h>=0&&a.add(h+1,new an(g),!1)}};fg.prototype.findSegmentIndexToSnap=function c(a,b){var d=this,e=ah.MAX_VALUE,f=-1;for(var g=0;g<b.size()-1;g++){d._seg.p0=b.get(g);d._seg.p1=b.get(g+1);if(d._seg.p0.equals2D(a)||d._seg.p1.equals2D(a)){if(d._allowSnappingToSourceVertices){continue}else{return-1}}var h=d._seg.distance(a);h<d._snapTolerance&&h<e&&(e=h,f=g)}return f};fg.prototype.setAllowSnappingToSourceVertices=function b(a){this._allowSnappingToSourceVertices=a};fg.prototype.interfaces_=function a(){return[]};fg.prototype.getClass=function a(){return fg};fg.isClosed=function b(a){if(a.length<=1){return !1}return a[0].equals2D(a[a.length-1])};var fh=function b(a){this._srcGeom=a||null},fi={SNAP_PRECISION_FACTOR:{configurable:!0}};fh.prototype.snapTo=function c(a,b){var d=this.extractTargetCoordinates(a),e=new fj(b,d);return e.transform(this._srcGeom)};fh.prototype.snapToSelf=function c(a,b){var d=this.extractTargetCoordinates(this._srcGeom),e=new fj(a,d,!0),f=e.transform(this._srcGeom),g=f;b&&at(g,cg)&&(g=f.buffer(0));return g};fh.prototype.computeSnapTolerance=function b(a){var c=this.computeMinimumSegmentLength(a),d=c/10;return d};fh.prototype.extractTargetCoordinates=function b(a){var c=new bL(),d=a.getCoordinates();for(var e=0;e<d.length;e++)c.add(d[e]);return c.toArray(new Array(0).fill(null))};fh.prototype.computeMinimumSegmentLength=function b(a){var c=ah.MAX_VALUE;for(var d=0;d<a.length-1;d++){var e=a[d].distance(a[d+1]);e<c&&(c=e)}return c};fh.prototype.interfaces_=function a(){return[]};fh.prototype.getClass=function a(){return fh};fh.snap=function d(a,b,c){var e=new Array(2).fill(null),f=new fh(a);e[0]=f.snapTo(b,c);var g=new fh(b);e[1]=g.snapTo(e[0],c);return e};fh.computeOverlaySnapTolerance=function a(){if(arguments.length===1){var b=arguments[0],c=fh.computeSizeBasedSnapTolerance(b),d=b.getPrecisionModel();if(d.getType()===cw.FIXED){var e=1/d.getScale()*2/1.415;e>c&&(c=e)}return c}else if(arguments.length===2){var f=arguments[0],g=arguments[1];return Math.min(fh.computeOverlaySnapTolerance(f),fh.computeOverlaySnapTolerance(g))}};fh.computeSizeBasedSnapTolerance=function b(a){var c=a.getEnvelopeInternal(),d=Math.min(c.getHeight(),c.getWidth()),e=d*fh.SNAP_PRECISION_FACTOR;return e};fh.snapToSelf=function d(a,b,c){var e=new fh(a);return e.snapToSelf(b,c)};fi.SNAP_PRECISION_FACTOR.get=function(){return 1e-9};Object.defineProperties(fh,fi);var fj=function(a){function b(b,c,d){a.call(this);this._snapTolerance=b||null;this._snapPts=c||null;this._isSelfSnap=d!==undefined?d:!1}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.snapLine=function c(a,b){var d=new fg(a,this._snapTolerance);d.setAllowSnappingToSourceVertices(this._isSelfSnap);return d.snapTo(b)};b.prototype.transformCoordinates=function c(a,b){var d=a.toCoordinateArray(),e=this.snapLine(d,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(e)};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};return b}(ff),fk=function a(){this._isFirst=!0;this._commonMantissaBitsCount=53;this._commonBits=0;this._commonSignExp=null};fk.prototype.getCommon=function a(){return ah.longBitsToDouble(this._commonBits)};fk.prototype.add=function b(a){var c=ah.doubleToLongBits(a);if(this._isFirst){this._commonBits=c;this._commonSignExp=fk.signExpBits(this._commonBits);this._isFirst=!1;return null}var d=fk.signExpBits(c);if(d!==this._commonSignExp){this._commonBits=0;return null}this._commonMantissaBitsCount=fk.numCommonMostSigMantissaBits(this._commonBits,c);this._commonBits=fk.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))};fk.prototype.toString=function a(){if(arguments.length===1){var b=arguments[0],c=ah.longBitsToDouble(b),d=ah.toBinaryString(b),e='0000000000000000000000000000000000000000000000000000000000000000'+d,f=e.substring(e.length-64),g=f.substring(0,1)+'  '+f.substring(1,12)+'(exp) '+f.substring(12)+' [ '+c+' ]';return g}};fk.prototype.interfaces_=function a(){return[]};fk.prototype.getClass=function a(){return fk};fk.getBit=function c(a,b){var d=1<<b;return(a&d)!==0?1:0};fk.signExpBits=function b(a){return a>>52};fk.zeroLowerBits=function c(a,b){var d=(1<<b)-1,e=~d,f=a&e;return f};fk.numCommonMostSigMantissaBits=function c(a,b){var d=0;for(var e=52;e>=0;e--){if(fk.getBit(a,e)!==fk.getBit(b,e)){return d}d++}return 52};var fl=function a(){this._commonCoord=null;this._ccFilter=new fn()},fm={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};fl.prototype.addCommonBits=function b(a){var c=new fo(this._commonCoord);a.apply(c);a.geometryChanged()};fl.prototype.removeCommonBits=function b(a){if(this._commonCoord.x===0.0&&this._commonCoord.y===0.0){return a}var c=new an(this._commonCoord);c.x=-c.x;c.y=-c.y;var d=new fo(c);a.apply(d);a.geometryChanged();return a};fl.prototype.getCommonCoordinate=function a(){return this._commonCoord};fl.prototype.add=function b(a){a.apply(this._ccFilter);this._commonCoord=this._ccFilter.getCommonCoordinate()};fl.prototype.interfaces_=function a(){return[]};fl.prototype.getClass=function a(){return fl};fm.CommonCoordinateFilter.get=function(){return fn};fm.Translater.get=function(){return fo};Object.defineProperties(fl,fm);var fn=function a(){this._commonBitsX=new fk();this._commonBitsY=new fk()};fn.prototype.filter=function b(a){this._commonBitsX.add(a.x);this._commonBitsY.add(a.y)};fn.prototype.getCommonCoordinate=function a(){return new an(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())};fn.prototype.interfaces_=function a(){return[bc]};fn.prototype.getClass=function a(){return fn};var fo=function a(){this.trans=null;var b=arguments[0];this.trans=b};fo.prototype.filter=function c(a,b){var d=a.getOrdinate(b,0)+this.trans.x,e=a.getOrdinate(b,1)+this.trans.y;a.setOrdinate(b,0,d);a.setOrdinate(b,1,e)};fo.prototype.isDone=function a(){return !1};fo.prototype.isGeometryChanged=function a(){return !0};fo.prototype.interfaces_=function a(){return[bR]};fo.prototype.getClass=function a(){return fo};var fp=function c(a,b){this._geom=new Array(2).fill(null);this._snapTolerance=null;this._cbr=null;this._geom[0]=a;this._geom[1]=b;this.computeSnapTolerance()};fp.prototype.selfSnap=function b(a){var c=new fh(a),d=c.snapTo(a,this._snapTolerance);return d};fp.prototype.removeCommonBits=function b(a){this._cbr=new fl();this._cbr.add(a[0]);this._cbr.add(a[1]);var c=new Array(2).fill(null);c[0]=this._cbr.removeCommonBits(a[0].copy());c[1]=this._cbr.removeCommonBits(a[1].copy());return c};fp.prototype.prepareResult=function b(a){this._cbr.addCommonBits(a);return a};fp.prototype.getResultGeometry=function b(a){var c=this.snap(this._geom),d=fL.overlayOp(c[0],c[1],a);return this.prepareResult(d)};fp.prototype.checkValid=function b(a){a.isValid()||aH.out.println('Snapped geometry is invalid')};fp.prototype.computeSnapTolerance=function a(){this._snapTolerance=fh.computeOverlaySnapTolerance(this._geom[0],this._geom[1])};fp.prototype.snap=function b(a){var c=this.removeCommonBits(a),d=fh.snap(c[0],c[1],this._snapTolerance);return d};fp.prototype.interfaces_=function a(){return[]};fp.prototype.getClass=function a(){return fp};fp.overlayOp=function d(a,b,c){var e=new fp(a,b);return e.getResultGeometry(c)};fp.union=function c(a,b){return fp.overlayOp(a,b,fL.UNION)};fp.intersection=function c(a,b){return fp.overlayOp(a,b,fL.INTERSECTION)};fp.symDifference=function c(a,b){return fp.overlayOp(a,b,fL.SYMDIFFERENCE)};fp.difference=function c(a,b){return fp.overlayOp(a,b,fL.DIFFERENCE)};var fq=function c(a,b){this._geom=new Array(2).fill(null);this._geom[0]=a;this._geom[1]=b};fq.prototype.getResultGeometry=function b(a){var c=null,d=!1,e=null;try{c=fL.overlayOp(this._geom[0],this._geom[1],a);var f=!0;f&&(d=!0)}catch(a){if(a instanceof aQ)e=a;else{throw a}}finally{};if(!d){try{c=fp.overlayOp(this._geom[0],this._geom[1],a)}catch(a){if(a instanceof aQ){throw e}else{throw a}}finally{}}return c};fq.prototype.interfaces_=function a(){return[]};fq.prototype.getClass=function a(){return fq};fq.overlayOp=function d(a,b,c){var e=new fq(a,b);return e.getResultGeometry(c)};fq.union=function c(a,b){return fq.overlayOp(a,b,fL.UNION)};fq.intersection=function c(a,b){return fq.overlayOp(a,b,fL.INTERSECTION)};fq.symDifference=function c(a,b){return fq.overlayOp(a,b,fL.SYMDIFFERENCE)};fq.difference=function c(a,b){return fq.overlayOp(a,b,fL.DIFFERENCE)};var fr=function a(){this.mce=null;this.chainIndex=null;var b=arguments[0],c=arguments[1];this.mce=b;this.chainIndex=c};fr.prototype.computeIntersections=function c(a,b){this.mce.computeIntersectsForChain(this.chainIndex,a.mce,a.chainIndex,b)};fr.prototype.interfaces_=function a(){return[]};fr.prototype.getClass=function a(){return fr};var fs=function a(){this._label=null;this._xValue=null;this._eventType=null;this._insertEvent=null;this._deleteEventIndex=null;this._obj=null;if(arguments.length===2){var b=arguments[0],c=arguments[1];this._eventType=a.DELETE;this._xValue=b;this._insertEvent=c}else if(arguments.length===3){var d=arguments[0],e=arguments[1],f=arguments[2];this._eventType=a.INSERT;this._label=d;this._xValue=e;this._obj=f}},ft={INSERT:{configurable:!0},DELETE:{configurable:!0}};fs.prototype.isDelete=function a(){return this._eventType===fs.DELETE};fs.prototype.setDeleteEventIndex=function b(a){this._deleteEventIndex=a};fs.prototype.getObject=function a(){return this._obj};fs.prototype.compareTo=function b(a){var c=a;if(this._xValue<c._xValue){return-1}if(this._xValue>c._xValue){return 1}if(this._eventType<c._eventType){return-1}if(this._eventType>c._eventType){return 1}return 0};fs.prototype.getInsertEvent=function a(){return this._insertEvent};fs.prototype.isInsert=function a(){return this._eventType===fs.INSERT};fs.prototype.isSameLabel=function b(a){if(this._label===null){return !1}return this._label===a._label};fs.prototype.getDeleteEventIndex=function a(){return this._deleteEventIndex};fs.prototype.interfaces_=function a(){return[aj]};fs.prototype.getClass=function a(){return fs};ft.INSERT.get=function(){return 1};ft.DELETE.get=function(){return 2};Object.defineProperties(fs,ft);var fu=function a(){};fu.prototype.interfaces_=function a(){return[]};fu.prototype.getClass=function a(){return fu};var fv=function a(){this._hasIntersection=!1;this._hasProper=!1;this._hasProperInterior=!1;this._properIntersectionPoint=null;this._li=null;this._includeProper=null;this._recordIsolated=null;this._isSelfIntersection=null;this._numIntersections=0;this.numTests=0;this._bdyNodes=null;this._isDone=!1;this._isDoneWhenProperInt=!1;var b=arguments[0],c=arguments[1],d=arguments[2];this._li=b;this._includeProper=c;this._recordIsolated=d};fv.prototype.isTrivialIntersection=function e(a,b,c,d){if(a===c){if(this._li.getIntersectionNum()===1){if(fv.isAdjacentSegments(b,d)){return !0}if(a.isClosed()){var f=a.getNumPoints()-1;if(b===0&&d===f||d===0&&b===f){return !0}}}}return !1};fv.prototype.getProperIntersectionPoint=function a(){return this._properIntersectionPoint};fv.prototype.setIsDoneIfProperInt=function b(a){this._isDoneWhenProperInt=a};fv.prototype.hasProperInteriorIntersection=function a(){return this._hasProperInterior};fv.prototype.isBoundaryPointInternal=function c(a,b){for(var d=b.iterator();d.hasNext();){var e=d.next(),f=e.getCoordinate();if(a.isIntersection(f)){return !0}}return !1};fv.prototype.hasProperIntersection=function a(){return this._hasProper};fv.prototype.hasIntersection=function a(){return this._hasIntersection};fv.prototype.isDone=function a(){return this._isDone};fv.prototype.isBoundaryPoint=function c(a,b){if(b===null){return !1}if(this.isBoundaryPointInternal(a,b[0])){return !0}if(this.isBoundaryPointInternal(a,b[1])){return !0}return !1};fv.prototype.setBoundaryNodes=function c(a,b){this._bdyNodes=new Array(2).fill(null);this._bdyNodes[0]=a;this._bdyNodes[1]=b};fv.prototype.addIntersections=function e(a,b,c,d){if(a===c&&b===d){return null}this.numTests++;var f=a.getCoordinates()[b],g=a.getCoordinates()[b+1],h=c.getCoordinates()[d],i=c.getCoordinates()[d+1];this._li.computeIntersection(f,g,h,i);this._li.hasIntersection()&&(this._recordIsolated&&(a.setIsolated(!1),c.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(a,b,c,d)||(this._hasIntersection=!0,(this._includeProper||!this._li.isProper())&&(a.addIntersections(this._li,b,0),c.addIntersections(this._li,d,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))};fv.prototype.interfaces_=function a(){return[]};fv.prototype.getClass=function a(){return fv};fv.isAdjacentSegments=function c(a,b){return Math.abs(a-b)===1};var fw=function(a){function b(){a.call(this);this.events=new bo();this.nOverlaps=null}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.prepareEvents=function a(){var b=this;dg.sort(this.events);for(var c=0;c<this.events.size();c++){var d=b.events.get(c);d.isDelete()&&d.getInsertEvent().setDeleteEventIndex(c)}};b.prototype.computeIntersections=function a(){var b=this;if(arguments.length===1){var c=arguments[0];this.nOverlaps=0;this.prepareEvents();for(var d=0;d<this.events.size();d++){var e=b.events.get(d);e.isInsert()&&b.processOverlaps(d,e.getDeleteEventIndex(),e,c);if(c.isDone()){break}}}else if(arguments.length===3){if(arguments[2] instanceof fv&&(at(arguments[0],bm)&&at(arguments[1],bm))){var f=arguments[0],g=arguments[1],h=arguments[2];this.addEdges(f,f);this.addEdges(g,g);this.computeIntersections(h)}else if(typeof arguments[2]==='boolean'&&(at(arguments[0],bm)&&arguments[1] instanceof fv)){var i=arguments[0],j=arguments[1],k=arguments[2];k?this.addEdges(i,null):this.addEdges(i);this.computeIntersections(j)}}};b.prototype.addEdge=function c(a,b){var d=this,e=a.getMonotoneChainEdge(),f=e.getStartIndexes();for(var g=0;g<f.length-1;g++){var h=new fr(e,g),i=new fs(b,e.getMinX(g),h);d.events.add(i);d.events.add(new fs(e.getMaxX(g),i))}};b.prototype.processOverlaps=function e(a,b,c,d){var f=this,g=c.getObject();for(var h=a;h<b;h++){var i=f.events.get(h);if(i.isInsert()){var j=i.getObject();c.isSameLabel(i)||(g.computeIntersections(j,d),f.nOverlaps++)}}};b.prototype.addEdges=function a(){var b=this;if(arguments.length===1){var c=arguments[0];for(var d=c.iterator();d.hasNext();){var e=d.next();b.addEdge(e,e)}}else if(arguments.length===2){var f=arguments[0],g=arguments[1];for(var h=f.iterator();h.hasNext();){var i=h.next();b.addEdge(i,g)}}};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};return b}(fu),fx=function a(){this._min=ah.POSITIVE_INFINITY;this._max=ah.NEGATIVE_INFINITY},fy={NodeComparator:{configurable:!0}};fx.prototype.getMin=function a(){return this._min};fx.prototype.intersects=function c(a,b){if(this._min>b||this._max<a){return !1}return !0};fx.prototype.getMax=function a(){return this._max};fx.prototype.toString=function a(){return aP.toLineString(new an(this._min,0),new an(this._max,0))};fx.prototype.interfaces_=function a(){return[]};fx.prototype.getClass=function a(){return fx};fy.NodeComparator.get=function(){return fz};Object.defineProperties(fx,fy);var fz=function a(){};fz.prototype.compare=function c(a,b){var d=a,e=b,f=(d._min+d._max)/2,g=(e._min+e._max)/2;if(f<g){return-1}if(f>g){return 1}return 0};fz.prototype.interfaces_=function a(){return[al]};fz.prototype.getClass=function a(){return fz};var fA=function(a){function b(){a.call(this);this._item=null;var b=arguments[0],c=arguments[1],d=arguments[2];this._min=b;this._max=c;this._item=d}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.query=function d(a,b,c){if(!this.intersects(a,b)){return null}c.visitItem(this._item)};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};return b}(fx),fB=function(a){function b(){a.call(this);this._node1=null;this._node2=null;var b=arguments[0],c=arguments[1];this._node1=b;this._node2=c;this.buildExtent(this._node1,this._node2)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.buildExtent=function c(a,b){this._min=Math.min(a._min,b._min);this._max=Math.max(a._max,b._max)};b.prototype.query=function d(a,b,c){if(!this.intersects(a,b)){return null}this._node1!==null&&this._node1.query(a,b,c);this._node2!==null&&this._node2.query(a,b,c)};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};return b}(fx),fC=function a(){this._leaves=new bo();this._root=null;this._level=0};fC.prototype.buildTree=function a(){var b=this;dg.sort(this._leaves,new fx.NodeComparator());var c=this._leaves,d=null,e=new bo();while(!0){b.buildLevel(c,e);if(e.size()===1){return e.get(0)}d=c;c=e;e=d}};fC.prototype.insert=function d(a,b,c){if(this._root!==null){throw new Error('Index cannot be added to once it has been queried')}this._leaves.add(new fA(a,b,c))};fC.prototype.query=function d(a,b,c){this.init();this._root.query(a,b,c)};fC.prototype.buildRoot=function a(){if(this._root!==null){return null}this._root=this.buildTree()};fC.prototype.printNode=function b(a){aH.out.println(aP.toLineString(new an(a._min,this._level),new an(a._max,this._level)))};fC.prototype.init=function a(){if(this._root!==null){return null}this.buildRoot()};fC.prototype.buildLevel=function c(a,b){this._level++;b.clear();for(var d=0;d<a.size();d+=2){var e=a.get(d),f=d+1<a.size()?a.get(d):null;if(f===null)b.add(e);else{var g=new fB(a.get(d),a.get(d+1));b.add(g)}}};fC.prototype.interfaces_=function a(){return[]};fC.prototype.getClass=function a(){return fC};var fD=function a(){this._items=new bo()};fD.prototype.visitItem=function b(a){this._items.add(a)};fD.prototype.getItems=function a(){return this._items};fD.prototype.interfaces_=function a(){return[da]};fD.prototype.getClass=function a(){return fD};var fE=function a(){this._index=null;var b=arguments[0];if(!at(b,cg)){throw new ag('Argument must be Polygonal')}this._index=new fH(b)},fF={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};fE.prototype.locate=function b(a){var c=new aX(a),d=new fG(c);this._index.query(a.y,a.y,d);return c.getLocation()};fE.prototype.interfaces_=function a(){return[dV]};fE.prototype.getClass=function a(){return fE};fF.SegmentVisitor.get=function(){return fG};fF.IntervalIndexedGeometry.get=function(){return fH};Object.defineProperties(fE,fF);var fG=function a(){this._counter=null;var b=arguments[0];this._counter=b};fG.prototype.visitItem=function b(a){var c=a;this._counter.countSegment(c.getCoordinate(0),c.getCoordinate(1))};fG.prototype.interfaces_=function a(){return[da]};fG.prototype.getClass=function a(){return fG};var fH=function a(){this._index=new fC();var b=arguments[0];this.init(b)};fH.prototype.init=function b(a){var c=this,d=eJ.getLines(a);for(var e=d.iterator();e.hasNext();){var f=e.next(),g=f.getCoordinates();c.addLine(g)}};fH.prototype.addLine=function b(a){var c=this;for(var d=1;d<a.length;d++){var e=new dw(a[d-1],a[d]),f=Math.min(e.p0.y,e.p1.y),g=Math.max(e.p0.y,e.p1.y);c._index.insert(f,g,e)}};fH.prototype.query=function a(){if(arguments.length===2){var b=arguments[0],c=arguments[1],d=new fD();this._index.query(b,c,d);return d.getItems()}else if(arguments.length===3){var e=arguments[0],f=arguments[1],g=arguments[2];this._index.query(e,f,g)}};fH.prototype.interfaces_=function a(){return[]};fH.prototype.getClass=function a(){return fH};var fI=function(a){function b(){a.call(this);this._parentGeom=null;this._lineEdgeMap=new cv();this._boundaryNodeRule=null;this._useBoundaryDeterminationRule=!0;this._argIndex=null;this._boundaryNodes=null;this._hasTooFewPoints=!1;this._invalidPoint=null;this._areaPtLocator=null;this._ptLocator=new eK();if(arguments.length===2){var b=arguments[0],c=arguments[1],d=bd.OGC_SFS_BOUNDARY_RULE;this._argIndex=b;this._parentGeom=c;this._boundaryNodeRule=d;c!==null&&this.add(c)}else if(arguments.length===3){var e=arguments[0],f=arguments[1],g=arguments[2];this._argIndex=e;this._parentGeom=f;this._boundaryNodeRule=g;f!==null&&this.add(f)}}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.insertBoundaryPoint=function d(a,c){var e=this._nodes.addNode(c),f=e.getLabel(),g=1,h=ar.NONE;h=f.getLocation(a,cC.ON);h===ar.BOUNDARY&&g++;var i=b.determineBoundary(this._boundaryNodeRule,g);f.setLocation(a,i)};b.prototype.computeSelfNodes=function a(){if(arguments.length===2){var b=arguments[0],c=arguments[1];return this.computeSelfNodes(b,c,!1)}else if(arguments.length===3){var d=arguments[0],e=arguments[1],f=arguments[2],g=new fv(d,!0,!1);g.setIsDoneIfProperInt(f);var h=this.createEdgeSetIntersector(),i=this._parentGeom instanceof ck||this._parentGeom instanceof ci||this._parentGeom instanceof cl,j=e||!i;h.computeIntersections(this._edges,g,j);this.addSelfIntersectionNodes(this._argIndex);return g}};b.prototype.computeSplitEdges=function b(a){for(var c=this._edges.iterator();c.hasNext();){var d=c.next();d.eiList.addSplitEdges(a)}};b.prototype.computeEdgeIntersections=function d(a,b,c){var e=new fv(b,c,!0);e.setBoundaryNodes(this.getBoundaryNodes(),a.getBoundaryNodes());var f=this.createEdgeSetIntersector();f.computeIntersections(this._edges,a._edges,e);return e};b.prototype.getGeometry=function a(){return this._parentGeom};b.prototype.getBoundaryNodeRule=function a(){return this._boundaryNodeRule};b.prototype.hasTooFewPoints=function a(){return this._hasTooFewPoints};b.prototype.addPoint=function a(){if(arguments[0] instanceof cf){var b=arguments[0],c=b.getCoordinate();this.insertPoint(this._argIndex,c,ar.INTERIOR)}else if(arguments[0] instanceof an){var d=arguments[0];this.insertPoint(this._argIndex,d,ar.INTERIOR)}};b.prototype.addPolygon=function b(a){var c=this;this.addPolygonRing(a.getExteriorRing(),ar.EXTERIOR,ar.INTERIOR);for(var d=0;d<a.getNumInteriorRing();d++){var e=a.getInteriorRingN(d);c.addPolygonRing(e,ar.INTERIOR,ar.EXTERIOR)}};b.prototype.addEdge=function b(a){this.insertEdge(a);var c=a.getCoordinates();this.insertPoint(this._argIndex,c[0],ar.BOUNDARY);this.insertPoint(this._argIndex,c[c.length-1],ar.BOUNDARY)};b.prototype.addLineString=function b(a){var c=br.removeRepeatedPoints(a.getCoordinates());if(c.length<2){this._hasTooFewPoints=!0;this._invalidPoint=c[0];return null}var d=new ek(c,new cL(this._argIndex,ar.INTERIOR));this._lineEdgeMap.put(a,d);this.insertEdge(d);aS.isTrue(c.length>=2,'found LineString with single point');this.insertBoundaryPoint(this._argIndex,c[0]);this.insertBoundaryPoint(this._argIndex,c[c.length-1])};b.prototype.getInvalidPoint=function a(){return this._invalidPoint};b.prototype.getBoundaryPoints=function a(){var b=this.getBoundaryNodes(),c=new Array(b.size()).fill(null),d=0;for(var e=b.iterator();e.hasNext();){var f=e.next();c[d++]=f.getCoordinate().copy()}return c};b.prototype.getBoundaryNodes=function a(){this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex));return this._boundaryNodes};b.prototype.addSelfIntersectionNode=function d(a,b,c){if(this.isBoundaryNode(a,b)){return null}c===ar.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(a,b):this.insertPoint(a,b,c)};b.prototype.addPolygonRing=function d(a,b,c){if(a.isEmpty()){return null}var e=br.removeRepeatedPoints(a.getCoordinates());if(e.length<4){this._hasTooFewPoints=!0;this._invalidPoint=e[0];return null}var f=b,g=c;aY.isCCW(e)&&(f=c,g=b);var h=new ek(e,new cL(this._argIndex,ar.BOUNDARY,f,g));this._lineEdgeMap.put(a,h);this.insertEdge(h);this.insertPoint(this._argIndex,e[0],ar.BOUNDARY)};b.prototype.insertPoint=function d(a,b,c){var e=this._nodes.addNode(b),f=e.getLabel();f===null?(e._label=new cL(a,c)):f.setLocation(a,c)};b.prototype.createEdgeSetIntersector=function a(){return new fw()};b.prototype.addSelfIntersectionNodes=function b(a){var c=this;for(var d=this._edges.iterator();d.hasNext();){var e=d.next(),f=e.getLabel().getLocation(a);for(var g=e.eiList.iterator();g.hasNext();){var h=g.next();c.addSelfIntersectionNode(a,h.coord,f)}}};b.prototype.add=function b(){if(arguments.length===1){var c=arguments[0];if(c.isEmpty()){return null}c instanceof cl&&(this._useBoundaryDeterminationRule=!1);if(c instanceof ci)this.addPolygon(c);else if(c instanceof cd)this.addLineString(c);else if(c instanceof cf)this.addPoint(c);else if(c instanceof cj)this.addCollection(c);else if(c instanceof bT)this.addCollection(c);else if(c instanceof cl)this.addCollection(c);else if(c instanceof bS)this.addCollection(c);else{throw new Error(c.getClass().getName())}}else{return a.prototype.add.apply(this,arguments)}};b.prototype.addCollection=function b(a){var c=this;for(var d=0;d<a.getNumGeometries();d++){var e=a.getGeometryN(d);c.add(e)}};b.prototype.locate=function b(a){if(at(this._parentGeom,cg)&&this._parentGeom.getNumGeometries()>50){this._areaPtLocator===null&&(this._areaPtLocator=new fE(this._parentGeom));return this._areaPtLocator.locate(a)}return this._ptLocator.locate(a,this._parentGeom)};b.prototype.findEdge=function b(){if(arguments.length===1){var c=arguments[0];return this._lineEdgeMap.get(c)}else{return a.prototype.findEdge.apply(this,arguments)}};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};b.determineBoundary=function c(a,b){return a.isInBoundary(b)?ar.BOUNDARY:ar.INTERIOR};return b}(cX),fJ=function a(){this._li=new aV();this._resultPrecisionModel=null;this._arg=null;if(arguments.length===1){var b=arguments[0];this.setComputationPrecision(b.getPrecisionModel());this._arg=new Array(1).fill(null);this._arg[0]=new fI(0,b)}else if(arguments.length===2){var c=arguments[0],d=arguments[1],e=bd.OGC_SFS_BOUNDARY_RULE;c.getPrecisionModel().compareTo(d.getPrecisionModel())>=0?this.setComputationPrecision(c.getPrecisionModel()):this.setComputationPrecision(d.getPrecisionModel());this._arg=new Array(2).fill(null);this._arg[0]=new fI(0,c,e);this._arg[1]=new fI(1,d,e)}else if(arguments.length===3){var f=arguments[0],g=arguments[1],h=arguments[2];f.getPrecisionModel().compareTo(g.getPrecisionModel())>=0?this.setComputationPrecision(f.getPrecisionModel()):this.setComputationPrecision(g.getPrecisionModel());this._arg=new Array(2).fill(null);this._arg[0]=new fI(0,f,h);this._arg[1]=new fI(1,g,h)}};fJ.prototype.getArgGeometry=function b(a){return this._arg[a].getGeometry()};fJ.prototype.setComputationPrecision=function b(a){this._resultPrecisionModel=a;this._li.setPrecisionModel(this._resultPrecisionModel)};fJ.prototype.interfaces_=function a(){return[]};fJ.prototype.getClass=function a(){return fJ};var fK=function a(){};fK.prototype.interfaces_=function a(){return[]};fK.prototype.getClass=function a(){return fK};fK.map=function a(){if(arguments[0] instanceof a$&&at(arguments[1],fK.MapOp)){var b=arguments[0],c=arguments[1],d=new bo();for(var e=0;e<b.getNumGeometries();e++){var f=c.map(b.getGeometryN(e));f!==null&&d.add(f)}return b.getFactory().buildGeometry(d)}else if(at(arguments[0],bj)&&at(arguments[1],fK.MapOp)){var g=arguments[0],h=arguments[1],i=new bo();for(var j=g.iterator();j.hasNext();){var k=j.next(),l=h.map(k);l!==null&&i.add(l)}return i}};fK.MapOp=function a(){};var fL=function(a){function b(){var b=arguments[0],c=arguments[1];a.call(this,b,c);this._ptLocator=new eK();this._geomFact=null;this._resultGeom=null;this._graph=null;this._edgeList=new ea();this._resultPolyList=new bo();this._resultLineList=new bo();this._resultPointList=new bo();this._graph=new cX(new d_());this._geomFact=b.getFactory()}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.insertUniqueEdge=function b(a){var c=this._edgeList.findEqualEdge(a);if(c!==null){var d=c.getLabel(),e=a.getLabel();c.isPointwiseEqual(a)||(e=new cL(a.getLabel()),e.flip());var f=c.getDepth();f.isNull()&&f.add(d);f.add(e);d.merge(e)}else this._edgeList.add(a)};b.prototype.getGraph=function a(){return this._graph};b.prototype.cancelDuplicateResultEdges=function a(){for(var b=this._graph.getEdgeEnds().iterator();b.hasNext();){var c=b.next(),d=c.getSym();c.isInResult()&&d.isInResult()&&(c.setInResult(!1),d.setInResult(!1))}};b.prototype.isCoveredByLA=function b(a){if(this.isCovered(a,this._resultLineList)){return !0}if(this.isCovered(a,this._resultPolyList)){return !0}return !1};b.prototype.computeGeometry=function f(a,c,d,e){var g=new bo();g.addAll(a);g.addAll(c);g.addAll(d);if(g.isEmpty()){return b.createEmptyResult(e,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact)}return this._geomFact.buildGeometry(g)};b.prototype.mergeSymLabels=function a(){for(var b=this._graph.getNodes().iterator();b.hasNext();){var c=b.next();c.getEdges().mergeSymLabels()}};b.prototype.isCovered=function c(a,b){var d=this;for(var e=b.iterator();e.hasNext();){var f=e.next(),g=d._ptLocator.locate(a,f);if(g!==ar.EXTERIOR){return !0}}return !1};b.prototype.replaceCollapsedEdges=function a(){var b=new bo();for(var c=this._edgeList.iterator();c.hasNext();){var d=c.next();d.isCollapsed()&&(c.remove(),b.add(d.getCollapsedEdge()))}this._edgeList.addAll(b)};b.prototype.updateNodeLabelling=function a(){for(var b=this._graph.getNodes().iterator();b.hasNext();){var c=b.next(),d=c.getEdges().getLabel();c.getLabel().merge(d)}};b.prototype.getResultGeometry=function b(a){this.computeOverlay(a);return this._resultGeom};b.prototype.insertUniqueEdges=function b(a){var c=this;for(var d=a.iterator();d.hasNext();){var e=d.next();c.insertUniqueEdge(e)}};b.prototype.computeOverlay=function b(a){this.copyPoints(0);this.copyPoints(1);this._arg[0].computeSelfNodes(this._li,!1);this._arg[1].computeSelfNodes(this._li,!1);this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var c=new bo();this._arg[0].computeSplitEdges(c);this._arg[1].computeSplitEdges(c);this.insertUniqueEdges(c);this.computeLabelsFromDepths();this.replaceCollapsedEdges();fb.checkValid(this._edgeList.getEdges());this._graph.addEdges(this._edgeList.getEdges());this.computeLabelling();this.labelIncompleteNodes();this.findResultAreaEdges(a);this.cancelDuplicateResultEdges();var d=new cY(this._geomFact);d.add(this._graph);this._resultPolyList=d.getPolygons();var e=new fd(this,this._geomFact,this._ptLocator);this._resultLineList=e.build(a);var f=new fe(this,this._geomFact,this._ptLocator);this._resultPointList=f.build(a);this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,a)};b.prototype.labelIncompleteNode=function c(a,b){var d=this._ptLocator.locate(a.getCoordinate(),this._arg[b].getGeometry());a.getLabel().setLocation(b,d)};b.prototype.copyPoints=function b(a){var c=this;for(var d=this._arg[a].getNodeIterator();d.hasNext();){var e=d.next(),f=c._graph.addNode(e.getCoordinate());f.setLabel(a,e.getLabel().getLocation(a))}};b.prototype.findResultAreaEdges=function c(a){for(var d=this._graph.getEdgeEnds().iterator();d.hasNext();){var e=d.next(),f=e.getLabel();f.isArea()&&!e.isInteriorAreaEdge()&&b.isResultOfOp(f.getLocation(0,cC.RIGHT),f.getLocation(1,cC.RIGHT),a)&&e.setInResult(!0)}};b.prototype.computeLabelsFromDepths=function a(){for(var b=this._edgeList.iterator();b.hasNext();){var c=b.next(),d=c.getLabel(),e=c.getDepth();if(!e.isNull()){e.normalize();for(var f=0;f<2;f++)!d.isNull(f)&&d.isArea()&&!e.isNull(f)&&(e.getDelta(f)===0?d.toLine(f):(aS.isTrue(!e.isNull(f,cC.LEFT),'depth of LEFT side has not been initialized'),d.setLocation(f,cC.LEFT,e.getLocation(f,cC.LEFT)),aS.isTrue(!e.isNull(f,cC.RIGHT),'depth of RIGHT side has not been initialized'),d.setLocation(f,cC.RIGHT,e.getLocation(f,cC.RIGHT))))}}};b.prototype.computeLabelling=function a(){var b=this;for(var c=this._graph.getNodes().iterator();c.hasNext();){var d=c.next();d.getEdges().computeLabelling(b._arg)}this.mergeSymLabels();this.updateNodeLabelling()};b.prototype.labelIncompleteNodes=function a(){var b=this;for(var c=this._graph.getNodes().iterator();c.hasNext();){var d=c.next(),e=d.getLabel();d.isIsolated()&&(e.isNull(0)?b.labelIncompleteNode(d,0):b.labelIncompleteNode(d,1));d.getEdges().updateLabelling(e)}};b.prototype.isCoveredByA=function b(a){if(this.isCovered(a,this._resultPolyList)){return !0}return !1};b.prototype.interfaces_=function a(){return[]};b.prototype.getClass=function a(){return b};return b}(fJ);fL.overlayOp=function(a,b,c){var d=new fL(a,b),e=d.getResultGeometry(c);return e};fL.intersection=function(a,b){if(a.isEmpty()||b.isEmpty()){return fL.createEmptyResult(fL.INTERSECTION,a,b,a.getFactory())}if(a.isGeometryCollection()){var c=b;return fc.map(a,{interfaces_:function(){return[fK.MapOp]},map:function(a){return a.intersection(c)}})}a.checkNotGeometryCollection(a);a.checkNotGeometryCollection(b);return fq.overlayOp(a,b,fL.INTERSECTION)};fL.symDifference=function(a,b){if(a.isEmpty()||b.isEmpty()){if(a.isEmpty()&&b.isEmpty()){return fL.createEmptyResult(fL.SYMDIFFERENCE,a,b,a.getFactory())}if(a.isEmpty()){return b.copy()}if(b.isEmpty()){return a.copy()}}a.checkNotGeometryCollection(a);a.checkNotGeometryCollection(b);return fq.overlayOp(a,b,fL.SYMDIFFERENCE)};fL.resultDimension=function(a,b,c){var d=b.getDimension(),e=c.getDimension(),f=-1;switch(a){case fL.INTERSECTION:f=Math.min(d,e);break;case fL.UNION:f=Math.max(d,e);break;case fL.DIFFERENCE:f=d;break;case fL.SYMDIFFERENCE:f=Math.max(d,e);break;default:};return f};fL.createEmptyResult=function(a,b,c,d){var e=null;switch(fL.resultDimension(a,b,c)){case -1:e=d.createGeometryCollection(new Array(0).fill(null));break;case 0:e=d.createPoint();break;case 1:e=d.createLineString();break;case 2:e=d.createPolygon();break;default:};return e};fL.difference=function(a,b){if(a.isEmpty()){return fL.createEmptyResult(fL.DIFFERENCE,a,b,a.getFactory())}if(b.isEmpty()){return a.copy()}a.checkNotGeometryCollection(a);a.checkNotGeometryCollection(b);return fq.overlayOp(a,b,fL.DIFFERENCE)};fL.isResultOfOp=function(){if(arguments.length===2){var a=arguments[0],b=arguments[1],c=a.getLocation(0),d=a.getLocation(1);return fL.isResultOfOp(c,d,b)}else if(arguments.length===3){var e=arguments[0],f=arguments[1],g=arguments[2];e===ar.BOUNDARY&&(e=ar.INTERIOR);f===ar.BOUNDARY&&(f=ar.INTERIOR);switch(g){case fL.INTERSECTION:return e===ar.INTERIOR&&f===ar.INTERIOR;case fL.UNION:return e===ar.INTERIOR||f===ar.INTERIOR;case fL.DIFFERENCE:return e===ar.INTERIOR&&f!==ar.INTERIOR;case fL.SYMDIFFERENCE:return e===ar.INTERIOR&&f!==ar.INTERIOR||e!==ar.INTERIOR&&f===ar.INTERIOR;default:};return !1}};fL.INTERSECTION=1;fL.UNION=2;fL.DIFFERENCE=3;fL.SYMDIFFERENCE=4;var fM=function a(){this._g=null;this._boundaryDistanceTolerance=null;this._linework=null;this._ptLocator=new eK();this._seg=new dw();var b=arguments[0],c=arguments[1];this._g=b;this._boundaryDistanceTolerance=c;this._linework=this.extractLinework(b)};fM.prototype.isWithinToleranceOfBoundary=function b(a){var c=this;for(var d=0;d<this._linework.getNumGeometries();d++){var e=c._linework.getGeometryN(d),f=e.getCoordinateSequence();for(var g=0;g<f.size()-1;g++){f.getCoordinate(g,c._seg.p0);f.getCoordinate(g+1,c._seg.p1);var h=c._seg.distance(a);if(h<=c._boundaryDistanceTolerance){return !0}}}return !1};fM.prototype.getLocation=function b(a){if(this.isWithinToleranceOfBoundary(a)){return ar.BOUNDARY}return this._ptLocator.locate(a,this._g)};fM.prototype.extractLinework=function b(a){var c=new fN();a.apply(c);var d=c.getLinework(),e=cA.toLineStringArray(d);return a.getFactory().createMultiLineString(e)};fM.prototype.interfaces_=function a(){return[]};fM.prototype.getClass=function a(){return fM};var fN=function a(){this._linework=null;this._linework=new bo()};fN.prototype.getLinework=function a(){return this._linework};fN.prototype.filter=function b(a){var c=this;if(a instanceof ci){var d=a;this._linework.add(d.getExteriorRing());for(var e=0;e<d.getNumInteriorRing();e++)c._linework.add(d.getInteriorRingN(e))}};fN.prototype.interfaces_=function a(){return[bQ]};fN.prototype.getClass=function a(){return fN};var fO=function a(){this._g=null;this._doLeft=!0;this._doRight=!0;var b=arguments[0];this._g=b};fO.prototype.extractPoints=function d(a,b,c){var e=this,f=a.getCoordinates();for(var g=0;g<f.length-1;g++)e.computeOffsetPoints(f[g],f[g+1],b,c)};fO.prototype.setSidesToGenerate=function c(a,b){this._doLeft=a;this._doRight=b};fO.prototype.getPoints=function b(a){var c=this,d=new bo(),e=eJ.getLines(this._g);for(var f=e.iterator();f.hasNext();){var g=f.next();c.extractPoints(g,a,d)}return d};fO.prototype.computeOffsetPoints=function e(a,b,c,d){var f=b.x-a.x,g=b.y-a.y,h=Math.sqrt(f*f+g*g),i=c*f/h,j=c*g/h,k=(b.x+a.x)/2,l=(b.y+a.y)/2;if(this._doLeft){var m=new an(k-j,l+i);d.add(m)}if(this._doRight){var n=new an(k+j,l-i);d.add(n)}};fO.prototype.interfaces_=function a(){return[]};fO.prototype.getClass=function a(){return fO};var fP=function a(){this._geom=null;this._locFinder=null;this._location=new Array(3).fill(null);this._invalidLocation=null;this._boundaryDistanceTolerance=a.TOLERANCE;this._testCoords=new bo();var b=arguments[0],c=arguments[1],d=arguments[2];this._boundaryDistanceTolerance=a.computeBoundaryDistanceTolerance(b,c);this._geom=[b,c,d];this._locFinder=[new fM(this._geom[0],this._boundaryDistanceTolerance),new fM(this._geom[1],this._boundaryDistanceTolerance),new fM(this._geom[2],this._boundaryDistanceTolerance)]},fQ={TOLERANCE:{configurable:!0}};fP.prototype.reportResult=function d(a,b,c){aH.out.println('Overlay result invalid - A:'+ar.toLocationSymbol(b[0])+' B:'+ar.toLocationSymbol(b[1])+' expected:'+(c?'i':'e')+' actual:'+ar.toLocationSymbol(b[2]))};fP.prototype.isValid=function(a){this.addTestPts(this._geom[0]);this.addTestPts(this._geom[1]);var b=this.checkValid(a);return b};fP.prototype.checkValid=function a(){var b=this;if(arguments.length===1){var c=arguments[0];for(var d=0;d<this._testCoords.size();d++){var e=b._testCoords.get(d);if(!b.checkValid(c,e)){b._invalidLocation=e;return !1}}return !0}else if(arguments.length===2){var f=arguments[0],g=arguments[1];this._location[0]=this._locFinder[0].getLocation(g);this._location[1]=this._locFinder[1].getLocation(g);this._location[2]=this._locFinder[2].getLocation(g);if(fP.hasLocation(this._location,ar.BOUNDARY)){return !0}return this.isValidResult(f,this._location)}};fP.prototype.addTestPts=function b(a){var c=new fO(a);this._testCoords.addAll(c.getPoints(5*this._boundaryDistanceTolerance))};fP.prototype.isValidResult=function c(a,b){var d=fL.isResultOfOp(b[0],b[1],a),e=b[2]===ar.INTERIOR,f=!(d^e);f||this.reportResult(a,b,d);return f};fP.prototype.getInvalidLocation=function a(){return this._invalidLocation};fP.prototype.interfaces_=function a(){return[]};fP.prototype.getClass=function a(){return fP};fP.hasLocation=function c(a,b){for(var d=0;d<3;d++){if(a[d]===b){return !0}}return !1};fP.computeBoundaryDistanceTolerance=function c(a,b){return Math.min(fh.computeSizeBasedSnapTolerance(a),fh.computeSizeBasedSnapTolerance(b))};fP.isValid=function e(a,b,c,d){var f=new fP(a,b,d);return f.isValid(c)};fQ.TOLERANCE.get=function(){return 0.000001};Object.defineProperties(fP,fQ);var fR=function b(a){this._geomFactory=null;this._skipEmpty=!1;this._inputGeoms=null;this._geomFactory=b.extractFactory(a);this._inputGeoms=a};fR.prototype.extractElements=function c(a,b){var d=this;if(a===null){return null}for(var e=0;e<a.getNumGeometries();e++){var f=a.getGeometryN(e);if(d._skipEmpty&&f.isEmpty()){continue}b.add(f)}};fR.prototype.combine=function a(){var b=this,c=new bo();for(var d=this._inputGeoms.iterator();d.hasNext();){var e=d.next();b.extractElements(e,c)}if(c.size()===0){if(this._geomFactory!==null){return this._geomFactory.createGeometryCollection(null)}return null}return this._geomFactory.buildGeometry(c)};fR.prototype.interfaces_=function a(){return[]};fR.prototype.getClass=function a(){return fR};fR.combine=function a(){if(arguments.length===1){var b=arguments[0],c=new fR(b);return c.combine()}else if(arguments.length===2){var d=arguments[0],e=arguments[1],f=new fR(fR.createList(d,e));return f.combine()}else if(arguments.length===3){var g=arguments[0],h=arguments[1],i=arguments[2],j=new fR(fR.createList(g,h,i));return j.combine()}};fR.extractFactory=function b(a){if(a.isEmpty()){return null}return a.iterator().next().getFactory()};fR.createList=function a(){if(arguments.length===2){var b=arguments[0],c=arguments[1],d=new bo();d.add(b);d.add(c);return d}else if(arguments.length===3){var e=arguments[0],f=arguments[1],g=arguments[2],h=new bo();h.add(e);h.add(f);h.add(g);return h}};var fS=function a(){this._inputPolys=null;this._geomFactory=null;var b=arguments[0];this._inputPolys=b;this._inputPolys===null&&(this._inputPolys=new bo())},fT={STRTREE_NODE_CAPACITY:{configurable:!0}};fS.prototype.reduceToGeometries=function b(a){var c=this,d=new bo();for(var e=a.iterator();e.hasNext();){var f=e.next(),g=null;at(f,bm)?(g=c.unionTree(f)):f instanceof a$&&(g=f);d.add(g)}return d};fS.prototype.extractByEnvelope=function d(a,b,c){var e=new bo();for(var f=0;f<b.getNumGeometries();f++){var g=b.getGeometryN(f);g.getEnvelopeInternal().intersects(a)?e.add(g):c.add(g)}return this._geomFactory.buildGeometry(e)};fS.prototype.unionOptimized=function c(a,b){var d=a.getEnvelopeInternal(),e=b.getEnvelopeInternal();if(!d.intersects(e)){var f=fR.combine(a,b);return f}if(a.getNumGeometries()<=1&&b.getNumGeometries()<=1){return this.unionActual(a,b)}var g=d.intersection(e);return this.unionUsingEnvelopeIntersection(a,b,g)};fS.prototype.union=function a(){if(this._inputPolys===null){throw new Error('union() method cannot be called twice')}if(this._inputPolys.isEmpty()){return null}this._geomFactory=this._inputPolys.iterator().next().getFactory();var b=new dm(fS.STRTREE_NODE_CAPACITY);for(var c=this._inputPolys.iterator();c.hasNext();){var d=c.next();b.insert(d.getEnvelopeInternal(),d)}this._inputPolys=null;var e=b.itemsTree(),f=this.unionTree(e);return f};fS.prototype.binaryUnion=function a(){if(arguments.length===1){var b=arguments[0];return this.binaryUnion(b,0,b.size())}else if(arguments.length===3){var c=arguments[0],d=arguments[1],e=arguments[2];if(e-d<=1){var f=fS.getGeometry(c,d);return this.unionSafe(f,null)}else if(e-d===2){return this.unionSafe(fS.getGeometry(c,d),fS.getGeometry(c,d+1))}else{var g=Math.trunc((e+d)/2),h=this.binaryUnion(c,d,g),i=this.binaryUnion(c,g,e);return this.unionSafe(h,i)}}};fS.prototype.repeatedUnion=function b(a){var c=null;for(var d=a.iterator();d.hasNext();){var e=d.next();c===null?(c=e.copy()):(c=c.union(e))}return c};fS.prototype.unionSafe=function c(a,b){if(a===null&&b===null){return null}if(a===null){return b.copy()}if(b===null){return a.copy()}return this.unionOptimized(a,b)};fS.prototype.unionActual=function c(a,b){return fS.restrictToPolygons(a.union(b))};fS.prototype.unionTree=function b(a){var c=this.reduceToGeometries(a),d=this.binaryUnion(c);return d};fS.prototype.unionUsingEnvelopeIntersection=function d(a,b,c){var e=new bo(),f=this.extractByEnvelope(c,a,e),g=this.extractByEnvelope(c,b,e),h=this.unionActual(f,g);e.add(h);var i=fR.combine(e);return i};fS.prototype.bufferUnion=function a(){if(arguments.length===1){var b=arguments[0],c=b.get(0).getFactory(),d=c.buildGeometry(b),e=d.buffer(0.0);return e}else if(arguments.length===2){var f=arguments[0],g=arguments[1],h=f.getFactory(),i=h.createGeometryCollection([f,g]),j=i.buffer(0.0);return j}};fS.prototype.interfaces_=function a(){return[]};fS.prototype.getClass=function a(){return fS};fS.restrictToPolygons=function b(a){if(at(a,cg)){return a}var c=eI.getPolygons(a);if(c.size()===1){return c.get(0)}return a.getFactory().createMultiPolygon(cA.toPolygonArray(c))};fS.getGeometry=function c(a,b){if(b>=a.size()){return null}return a.get(b)};fS.union=function b(a){var c=new fS(a);return c.union()};fT.STRTREE_NODE_CAPACITY.get=function(){return 4};Object.defineProperties(fS,fT);var fU=0;d.TrueSize=d.Layer.extend({geoJSON:{"type":"Feature","properties":{},"geometry":{"type":"Polygon","coordinates":[]}},options:{color:'#886699',weight:1,opacity:1,markerDiv:'',markerClass:''},initialize:function a(){var b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.geoJSON,c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this._options=d.Util.extend(this.options,c);this._geometryType=b.geometry.type;d.Util.setOptions(this,this._options);this._initGeoJson(b,this._options)},_initGeoJson:function c(a,b){this._geoJSONLayer=d.geoJSON(a,b);this._currentId=fU++},onAdd:function b(a){this._map=a;this._geoJSONLayer.addTo(this._map);var c=this._geoJSONLayer._layers[Object.keys(this._geoJSONLayer._layers)[0]];this._makeDraggable(c);this._options.markerDiv.length&&this._addMarker(c,this._options)},_addMarker:function c(a,b){var e=this,f=b.markerClass,g=b.markerDiv,h=d.divIcon({className:f,html:g});this._dragMarker=d.marker(a.getCenter(),{icon:h,draggable:!0}).on('drag',function(b){return e._onDrag(b,a)}).addTo(this._map)},_makeDraggable:function b(a){var c=this,e=new d.Draggable(a._path);e.on('drag',function(b){return c._onDrag(b,a)}).enable()},_onDrag:function c(a,b){var e=d.point(a.originalEvent.clientX,a.originalEvent.clientY),f=this._map.containerPointToLatLng(e),g=[f.lng,f.lat],h=this._getBearingDistance(b);this._redraw(b,g,h)},_getBearingDistance:function b(a){var c=E(a.feature).geometry.coordinates;return ae(a.feature).map(function(a){var b=J(c,a),d=R(c,a,{units:'kilometers'});return{bearing:b,distance:d}})},_redraw:function d(a,b,c){var e=c.map(function(a){return ac(b,a.distance,a.bearing,{units:'kilometers'}).geometry.coordinates}),f={"type":"Feature","properties":{},"geometry":{"type":this._geometryType,"coordinates":this._getCoordsByType(e,this._geometryType)}};this._geoJSONLayer.clearLayers();this._geoJSONLayer.addData(f);var g=this._geoJSONLayer._layers[Object.keys(this._geoJSONLayer._layers)[0]];this._makeDraggable(g);this._dragMarker&&this._dragMarker.setLatLng(g.getCenter())},onRemove:function b(a){this._map=a;this._map.removeLayer(this._geoJSONLayer)},_getCoordsByType:function c(a,b){switch(b){case 'LineString':{return a};case 'Polygon':{return[a]};case 'MultiPolygon':{return[[a]]};default:{return[a]}}}});d.trueSize=function(a,b){return new d.TrueSize(a,b)}}))
//# sourceMappingURL=Leaflet.TrueSize.min.js.map
