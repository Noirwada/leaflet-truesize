{"version":3,"file":"Leaflet.TrueSize.js","sources":["../src/index.js"],"sourcesContent":["import L from 'leaflet';\nimport turf from '@turf/helpers';\nimport turfCenter from '@turf/center';\n\nlet id = 0;\n\nL.TrueSize = L.Layer.extend({\n  geoJSON: [],\n  options: {\n    style: {\n      color: '#FF6666',\n      weight: 4,\n      opacity: 1,\n      dashArray: \"5, 10\"\n    }\n  },\n\n  initialize: function (geoJSON, options) {\n    L.Util.setOptions(this, options);\n\n    this._geoJSON = geoJSON;\n    this._options = options;\n\n    this.initShape();\n  },\n\n  initShape: function() {\n    this._geoJsonLayer = L.geoJSON(this._geoJSON, this._options);\n    this._currentId = id++;\n  },\n\n  onAdd: function (map) {\n    this._map = map;\n    this._geoJsonLayer.addTo(this._map);\n\n    this._draggables = Object.keys(this._geoJsonLayer._layers).map(layer => {\n      const draggable = new L.Draggable(this._geoJsonLayer._layers[layer]._path);\n      draggable.enable();\n\n      return draggable;\n    });\n\n    this.update(this._map);\n  },\n\n  getEvents: function () {\n    return {\n      zoom: this.update,\n      viewreset: this.update\n    };\n  },\n\n  update: function(map) {\n    return this;\n  },\n\n  onRemove: function(map) {\n    // this._map = map;\n    // this._currentPath.parentNode.removeChild(this._currentPath);\n    // this._map.removeLayer(this._currentMarker);\n  }\n});\n\nL.trueSize = (geoJSON, options) => new L.TrueSize(geoJSON, options);\n"],"names":["id","L","TrueSize","Layer","extend","geoJSON","options","Util","setOptions","_geoJSON","_options","initShape","_geoJsonLayer","_currentId","map","_map","addTo","_draggables","Object","keys","_layers","draggable","Draggable","layer","_path","enable","update","trueSize"],"mappings":";;;;;;;;;;;AAIA,IAAIA,KAAK,CAAT;;AAEAC,EAAEC,QAAF,GAAaD,EAAEE,KAAF,CAAQC,MAAR,CAAe;WACjB,EADiB;WAEjB;WACA;aACE,SADF;cAEG,CAFH;eAGI,CAHJ;iBAIM;;GAPW;;cAWd,oBAAUC,OAAV,EAAmBC,OAAnB,EAA4B;MACpCC,IAAF,CAAOC,UAAP,CAAkB,IAAlB,EAAwBF,OAAxB;;SAEKG,QAAL,GAAgBJ,OAAhB;SACKK,QAAL,GAAgBJ,OAAhB;;SAEKK,SAAL;GAjBwB;;aAoBf,qBAAW;SACfC,aAAL,GAAqBX,EAAEI,OAAF,CAAU,KAAKI,QAAf,EAAyB,KAAKC,QAA9B,CAArB;SACKG,UAAL,GAAkBb,IAAlB;GAtBwB;;SAyBnB,eAAUc,GAAV,EAAe;;;SACfC,IAAL,GAAYD,GAAZ;SACKF,aAAL,CAAmBI,KAAnB,CAAyB,KAAKD,IAA9B;;SAEKE,WAAL,GAAmBC,OAAOC,IAAP,CAAY,KAAKP,aAAL,CAAmBQ,OAA/B,EAAwCN,GAAxC,CAA4C,iBAAS;UAChEO,YAAY,IAAIpB,EAAEqB,SAAN,CAAgB,MAAKV,aAAL,CAAmBQ,OAAnB,CAA2BG,KAA3B,EAAkCC,KAAlD,CAAlB;gBACUC,MAAV;;aAEOJ,SAAP;KAJiB,CAAnB;;SAOKK,MAAL,CAAY,KAAKX,IAAjB;GApCwB;;aAuCf,qBAAY;WACd;YACC,KAAKW,MADN;iBAEM,KAAKA;KAFlB;GAxCwB;;UA8ClB,gBAASZ,GAAT,EAAc;WACb,IAAP;GA/CwB;;YAkDhB,kBAASA,GAAT,EAAc;;;;;CAlDb,CAAb;;AAyDAb,EAAE0B,QAAF,GAAa,UAACtB,OAAD,EAAUC,OAAV;SAAsB,IAAIL,EAAEC,QAAN,CAAeG,OAAf,EAAwBC,OAAxB,CAAtB;CAAb;;;;"}